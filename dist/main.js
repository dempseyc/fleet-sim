!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=5)}([function(t,e,s){var i=s(1);"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s(3)(i,n);i.locals&&(t.exports=i.locals)},function(t,e,s){(t.exports=s(2)(!1)).push([t.i,".s-white {\n  background: #eeeeee;\n  color: #222222; }\n\n.s-red {\n  background: #cc1111;\n  color: #ff88ff; }\n\n.s-blue {\n  background: #1166bb;\n  color: #22cccc; }\n\n.s-green {\n  background: #008800;\n  color: #cccc44; }\n\n.s-purple {\n  background: #8855ee;\n  color: #008800; }\n\n#board {\n  position: relative;\n  height: 100vh;\n  width: 100vh;\n  background: #222222;\n  overflow: hidden; }\n\n#data-display {\n  position: absolute;\n  right: 5%;\n  top: 5%; }\n\n.ship {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  font-size: 18px;\n  line-height: 14px;\n  font-family: 'Roboto Mono', monospace;\n  text-align: center;\n  clip-path: polygon(0% 100%, 50% 0%, 100% 100%);\n  border-radius: 100%; }\n\n.gold {\n  position: absolute;\n  height: 2px;\n  width: 2px;\n  left: 0;\n  top: 0;\n  background-color: gold;\n  box-shadow: 0 0 2px 1px gold; }\n\n.s-status0 {\n  outline: none; }\n\n.s-status1 {\n  outline: #aaccff;\n  animation: fade 1000ms infinite;\n  -webkit-animation: fade 1000ms infinite; }\n\n.s-status2 {\n  outline: #aaccff;\n  animation: fade 750ms infinite;\n  -webkit-animation: fade 750ms infinite; }\n\n.s-status3 {\n  outline: #aaccff;\n  animation: fade 500ms infinite;\n  -webkit-animation: fade 500ms infinite; }\n\n@keyframes fade {\n  from {\n    opacity: 1.0; }\n  50% {\n    opacity: 0.5; }\n  to {\n    opacity: 1.0; } }\n\n@-webkit-keyframes fade {\n  from {\n    opacity: 1.0; }\n  50% {\n    opacity: 0.5; }\n  to {\n    opacity: 1.0; } }\n",""])},function(t,e,s){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var s=function(t,e){var s=t[1]||"",i=t[3];if(!i)return s;if(e&&"function"==typeof btoa){var n=(o=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),r=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[s].concat(r).concat([n]).join("\n")}var o;return[s].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+s+"}":s}).join("")},e.i=function(t,s){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var r=this[n][0];null!=r&&(i[r]=!0)}for(n=0;n<t.length;n++){var o=t[n];null!=o[0]&&i[o[0]]||(s&&!o[2]?o[2]=s:s&&(o[2]="("+o[2]+") and ("+s+")"),e.push(o))}},e}},function(t,e,s){var i,n,r={},o=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=i.apply(this,arguments)),n}),a=function(t){var e={};return function(t,s){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,s);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),h=null,l=0,u=[],f=s(4);function c(t,e){for(var s=0;s<t.length;s++){var i=t[s],n=r[i.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](i.parts[o]);for(;o<i.parts.length;o++)n.parts.push(m(i.parts[o],e))}else{var a=[];for(o=0;o<i.parts.length;o++)a.push(m(i.parts[o],e));r[i.id]={id:i.id,refs:1,parts:a}}}}function d(t,e){for(var s=[],i={},n=0;n<t.length;n++){var r=t[n],o=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[o]?i[o].parts.push(a):s.push(i[o]={id:o,parts:[a]})}return s}function p(t,e){var s=a(t.insertInto);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===t.insertAt)i?i.nextSibling?s.insertBefore(e,i.nextSibling):s.appendChild(e):s.insertBefore(e,s.firstChild),u.push(e);else if("bottom"===t.insertAt)s.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=a(t.insertAt.before,s);s.insertBefore(e,n)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function w(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return s.nc}();i&&(t.attrs.nonce=i)}return b(e,t.attrs),p(t,e),e}function b(t,e){Object.keys(e).forEach(function(s){t.setAttribute(s,e[s])})}function m(t,e){var s,i,n,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var o=l++;s=h||(h=w(e)),i=_.bind(null,s,o,!1),n=_.bind(null,s,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),p(t,e),e}(e),i=function(t,e,s){var i=s.css,n=s.sourceMap,r=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||r)&&(i=f(i));n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,s,e),n=function(){g(s),s.href&&URL.revokeObjectURL(s.href)}):(s=w(e),i=function(t,e){var s=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}.bind(null,s),n=function(){g(s)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var s=d(t,e);return c(s,e),function(t){for(var i=[],n=0;n<s.length;n++){var o=s[n];(a=r[o.id]).refs--,i.push(a)}t&&c(d(t,e),e);for(n=0;n<i.length;n++){var a;if(0===(a=i[n]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete r[a.id]}}}};var v,y=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function _(t,e,s,i){var n=s?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,n);else{var r=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var s=e.protocol+"//"+e.host,i=s+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?s+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,s){"use strict";s.r(e);s(0);function i(t,e){return Math.floor(Math.random()*e-t)+t}function n(t){return Math.pow(t,2)}function r(t){let e=t.length;return t.reduce((t,e)=>e+t)/e}class o{constructor(t){this.idx=t,this.x=i(0,1e3),this.y=i(0,1e3),this.held_by="none",this.init()}draw(){this.DOMh.style.left=`${this.x/10}%`,this.DOMh.style.top=`${this.y/10}%`}remove(){this.DOMh.remove()}init(){this.DOMh=document.createElement("div"),this.DOMh.setAttribute("id",`g-${this.idx}`),this.DOMh.classList.add(...["gold"]),this.draw()}}class a{constructor(t,e,s,i,n){this.banner=t,this.style=e,this.insignia=s,this.idx=n,this.shield=i[0],this.weapon=i[1],this.engine=i[2],this.fraction=.05,this.speed=this.engine*this.fraction,this.status=0,this.shieldStatus=i[0],this.gold=0,this.init()}init(){let t=["ship",`s-${this.idx}`,`s-${this.banner}`,`s-${this.style}`,`s-${this.status}`];this.DOMh=document.createElement("div"),this.DOMh.classList.add(...t),this.DOMh.textContent=this.insignia,this.getInitialPosition(),this.draw()}move(t){this.x+=this.vx*this.fraction*this.speed*t,this.y+=this.vy*this.fraction*this.speed*t}draw(){this.DOMh.style.left=`${this.x/10}%`,this.DOMh.style.top=`${this.y/10}%`}getInitialPosition(){this.x=i(1,1e3),this.y=i(1,1e3)}resetVector(){let t=this.gt.x-this.x,e=this.gt.y-this.y,s=Math.abs(t),i=Math.abs(e),r=n(t)+n(e);this.vx=t*s/r,this.vy=e*i/r}acquireGold(){this.gold+=1}setGoldTarget(t){let e=2016400;t.forEach((t,s)=>{let i=t.x-this.x,r=t.y-this.y,o=n(i)+n(r);void 0===this.gt&&(this.gt=t,e=o),o<=e&&(this.gt=t,e=o)}),this.resetVector()}setEnemyTarget(t){let e=2e6,s=function(t){return Math.pow(t,2)};t.forEach(t=>{t.s_array.forEach(t=>{let i=this.x-t.x,n=(this.y,t.y,s(i)+s(i));void 0===this.et&&(this.et=t,e=n,this.et_d=e),n<=e&&(this.et=t,e=n,this.et_d=e)})})}attackEnemy(){if(0===this.status){let t=200,e=this.et_d/n(t);i(0,Math.floor(Math.random()*(1-e)*9))>=2&&this.et.getAttacked(this.weapon)}else this.decrementStunned()}getAttacked(t){this.shieldStatus-=t,this.shieldStatus<=0&&(this.speed=(this.engine+this.shieldStatus)*this.fraction),this.startStunnedTimer()}startStunnedTimer(){this.DOMh.classList.remove("s-status0"),this.DOMh.classList.add(`s-status${this.status}`),this.status=3}decrementStunned(){this.status>0&&(this.DOMh.classList.remove(`s-status${this.status}`),this.status--,this.DOMh.classList.add(`s-status${this.status}`)),0===this.status&&(this.speed=this.engine*this.fraction,this.shieldStatus=this.shield)}}class h{constructor(t){this.banner=t,this.styles=["standard","swift","transport","gunner","speeder"],this.insignias={standard:"o",swift:"V",transport:"-",gunner:"*",speeder:"w"},this.baselines={sh:20,wp:20,eg:20},this.multipliers={sh:2,wp:2,eg:2},this.features={shields:[{power:this.baselines.sh+0*this.multipliers.sh,owned_by:["gunner"]},{power:this.baselines.sh+1*this.multipliers.sh,owned_by:["swift","speeder"]},{power:this.baselines.sh+2*this.multipliers.sh,owned_by:["standard"]},{power:this.baselines.sh+3*this.multipliers.sh,owned_by:[""]},{power:this.baselines.sh+4*this.multipliers.sh,owned_by:["transport"]}],weapons:[{power:this.baselines.wp+0*this.multipliers.wp,owned_by:["transport"]},{power:this.baselines.wp+1*this.multipliers.wp,owned_by:["speeder"]},{power:this.baselines.wp+2*this.multipliers.wp,owned_by:["standard","swift"]},{power:this.baselines.wp+3*this.multipliers.wp,owned_by:[]},{power:this.baselines.wp+4*this.multipliers.wp,owned_by:["gunner"]}],engines:[{power:this.baselines.eg+0*this.multipliers.eg,owned_by:[]},{power:this.baselines.eg+1*this.multipliers.eg,owned_by:[]},{power:this.baselines.eg+2*this.multipliers.eg,owned_by:["standard","transport","gunner"]},{power:this.baselines.eg+3*this.multipliers.eg,owned_by:["swift"]},{power:this.baselines.eg+4*this.multipliers.eg,owned_by:["speeder"]}]},this.profiles={standard:[this.features.shields[2].power,this.features.weapons[2].power,this.features.engines[2].power],swift:[this.features.shields[1].power,this.features.weapons[2].power,this.features.engines[3].power],transport:[this.features.shields[4].power,this.features.weapons[0].power,this.features.engines[2].power],gunner:[this.features.shields[0].power,this.features.weapons[4].power,this.features.engines[2].power],speeder:[this.features.shields[1].power,this.features.weapons[1].power,this.features.engines[4].power]}}buildShip(t,e,s){let i=this.profiles[e],n=this.insignias[e];return new a(t,e,n,i,s)}adjustMultipliers(){for(let t in this.multipliers)this.multipliers[t]+=1}getMultipliers(){for(let t in this.multipliers)console.log(this.multipliers[t])}}class l{constructor(t,e,s){this.banner=t,this.money=e,this.s_array=[],this.strategy=s,this.SF=new h(this.banner),this.init()}getNumShips(){return this.s_array.length}purchaseShips(){this.strategy.standard;let t=0;for(let e in this.strategy){let s=0,i=this.strategy[e];for(;i>s+1;)this.s_array.push(this.SF.buildShip(this.banner,e,t)),t++,s++}}init(){console.log("new Fleet",this.banner),this.purchaseShips()}}class u{constructor(){this.num_gold=900,this.money_per_fleet=15e4,this.DOMh=document.getElementById("board"),this.REDstrategy={standard:10,swift:0,transport:0,gunner:0,speeder:0},this.GREENstrategy={standard:10,swift:0,transport:0,gunner:0,speeder:0},this.BLUEstrategy={standard:10,swift:0,transport:0,gunner:0,speeder:0},this.fleets=[new l("red",this.money_per_fleet,this.REDstrategy),new l("green",this.money_per_fleet,this.GREENstrategy),new l("blue",this.money_per_fleet,this.BLUEstrategy)],this.gold_pieces=[],this.init()}placeGold(){for(let t=0;t<this.num_gold;t++){let e=new o(t);this.gold_pieces.push(e)}}gold_on_field(){return this.gold_pieces.filter(t=>"none"===t.held_by)}init(){this.placeGold(),this.setTargets(this.fleets),this.fleets.forEach(t=>{t.s_array.forEach(t=>{this.DOMh.appendChild(t.DOMh)})}),this.gold_pieces.forEach(t=>{this.DOMh.appendChild(t.DOMh)})}setTargets(){this.fleets.forEach((t,e)=>{let s=this.fleets.filter((t,s)=>s!==e);t.s_array.forEach(t=>{t.setGoldTarget(this.gold_on_field()),t.setEnemyTarget(s)})})}makeAttacks(){this.fleets.forEach((t,e)=>{t.s_array.forEach(t=>{t.attackEnemy()})})}doHitDetect(){this.fleets.forEach(t=>{t.s_array.forEach(t=>{this.gold_pieces.forEach(e=>{n(e.x-t.x)+n(e.y-t.y)<25&&"none"===e.held_by&&this.removeGold(e,t)})})})}removeGold(t,e){t.held_by=e.profile,e.acquireGold(),this.setTargets(this.fleets),t.remove()}draw(){this.doHitDetect(),this.fleets.forEach(t=>{t.s_array.forEach(t=>{t.draw()})})}update(t){this.fleets.forEach(e=>{e.s_array.forEach(e=>{e.move(t)})})}clear(){for(;this.DOMh.firstChild;)this.DOMh.removeChild(this.DOMh.firstChild)}}let f=!0,c=!1,d=3,p=3,g=document.querySelector("#r-score"),w=document.querySelector("#b-score"),b=document.querySelector("#g-score"),m=document.querySelector("#stan-dev"),v=[],y=[{banner:"red",gold:0},{banner:"green",gold:0},{banner:"blue",gold:0}];function _(){g.textContent=`${y[0].gold/d} avg`,b.textContent=`${y[1].gold/d} avg`,w.textContent=`${y[2].gold/d} avg`,m.textContent=function(t){let e=r(t);console.log(e);let s=t.map(t=>n(t-e));return Math.sqrt(r(s))}(v),f=!0}!function t(){f=!1;let e=new u,s=0,i=0,n=0,r=100,o=0,a=10,h=!1,l=!1;let d=0,m=0;function x(i){if(i<n+1e3/r)return void(s=requestAnimationFrame(x));o+=i-n,n=i;let u=0;for(;o>=a;)if(++m>25&&(e.setTargets(),m=0),++d>50&&(e.makeAttacks(),d=0),e.update(o),o-=a,++u>=124){o=0,console.log("panic");break}e.draw(),e.gold_on_field().length>0?s=requestAnimationFrame(x):(h=!1,l=!1,cancelAnimationFrame(s),e.fleets.forEach((t,e)=>{let s=t.s_array.reduce((t,e,s)=>t+e.gold,0);v.push(s),y[e].gold+=s,console.log(e+1,t.banner,s)}),e.clear(),g.textContent=y[0].gold,b.textContent=y[1].gold,w.textContent=y[2].gold,f=!0,--p>0?t():(c=!0,_(),console.log("complete")))}l||(l=!0,s=requestAnimationFrame(function(t){e.draw(),h=!0,n=t,i=t,s=requestAnimationFrame(x)}))}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3M/ZjhmMyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvR29sZFBpZWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9TaGlwLmpzIiwid2VicGFjazovLy8uL3NyYy9TaGlwRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmxlZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0JvYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbnRlbnQiLCJvcHRpb25zIiwiaG1yIiwidHJhbnNmb3JtIiwiaW5zZXJ0SW50byIsInVuZGVmaW5lZCIsImxvY2FscyIsInB1c2giLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJpZCIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInRhcmdldCIsInBhcmVudCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsImoiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiRXJyb3IiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJzIiwidHlwZSIsIm5vbmNlIiwibmMiLCJnZXROb25jZSIsImFkZEF0dHJzIiwiZWwiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInVwZGF0ZSIsInJlbW92ZSIsInJlc3VsdCIsImRlZmF1bHQiLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsImxvY2F0aW9uIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsInJlcGxhY2UiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwidHJpbSIsIiQxIiwidGVzdCIsInJhbmRvbU1NIiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic3F1YXJlTnVtIiwicG93IiwiZ2V0TWVhbiIsImFyciIsInJlZHVjZSIsImEiLCJHb2xkUGllY2VfR29sZFBpZWNlIiwiW29iamVjdCBPYmplY3RdIiwieCIsInkiLCJoZWxkX2J5IiwiaW5pdCIsIkRPTWgiLCJsZWZ0IiwidG9wIiwiY2xhc3NMaXN0IiwiYWRkIiwiZHJhdyIsIlNoaXBfU2hpcCIsImJhbm5lciIsImluc2lnbmlhIiwicHJvZmlsZSIsInNoaWVsZCIsIndlYXBvbiIsImVuZ2luZSIsImZyYWN0aW9uIiwic3BlZWQiLCJzdGF0dXMiLCJzaGllbGRTdGF0dXMiLCJnb2xkIiwiY2xhc3NlcyIsInRleHRDb250ZW50IiwiZ2V0SW5pdGlhbFBvc2l0aW9uIiwiZGVsdGEiLCJ2eCIsInZ5IiwibXZ4IiwiZ3QiLCJtdnkiLCJhbXZ4IiwiYWJzIiwiYW12eSIsIm1hZyIsImdvbGRfb25fZmllbGQiLCJndF9kaXN0YW5jZV9zcSIsImlfZyIsInhfZGlzdGFuY2UiLCJ5X2Rpc3RhbmNlIiwiaV9nX2Rpc3RhbmNlX3NxIiwicmVzZXRWZWN0b3IiLCJlbmVtaWVzIiwiZXRfZGlzdGFuY2Vfc3EiLCJmIiwic19hcnJheSIsImlfZSIsImlfZV9kaXN0YW5jZV9zcSIsImV0IiwiZXRfZCIsIm1heF9kX2F0dGFjayIsIm1pc3NfcmF0ZSIsImdldEF0dGFja2VkIiwiZGVjcmVtZW50U3R1bm5lZCIsImRhbWFnZSIsInN0YXJ0U3R1bm5lZFRpbWVyIiwiU2hpcEZhY3RvcnlfU2hpcEZhY3RvcnkiLCJpbnNpZ25pYXMiLCJzdGFuZGFyZCIsInN3aWZ0IiwidHJhbnNwb3J0IiwiZ3VubmVyIiwic3BlZWRlciIsImJhc2VsaW5lcyIsInNoIiwid3AiLCJlZyIsIm11bHRpcGxpZXJzIiwiZmVhdHVyZXMiLCJzaGllbGRzIiwicG93ZXIiLCJvd25lZF9ieSIsIndlYXBvbnMiLCJlbmdpbmVzIiwicHJvZmlsZXMiLCJjb2xvciIsImNvbnNvbGUiLCJsb2ciLCJGbGVldF9GbGVldCIsIm1vbmV5Iiwic3RyYXRlZ3kiLCJTRiIsIm51bSIsImJ1aWxkU2hpcCIsInB1cmNoYXNlU2hpcHMiLCJCb2FyZF9Cb2FyZCIsIm51bV9nb2xkIiwibW9uZXlfcGVyX2ZsZWV0IiwiZ2V0RWxlbWVudEJ5SWQiLCJSRURzdHJhdGVneSIsIkdSRUVOc3RyYXRlZ3kiLCJCTFVFc3RyYXRlZ3kiLCJmbGVldHMiLCJnb2xkX3BpZWNlcyIsImdwIiwiZyIsInBsYWNlR29sZCIsInNldFRhcmdldHMiLCJmZiIsInNldEdvbGRUYXJnZXQiLCJzZXRFbmVteVRhcmdldCIsImF0dGFja0VuZW15IiwicmVtb3ZlR29sZCIsImFjcXVpcmVHb2xkIiwiZG9IaXREZXRlY3QiLCJtb3ZlIiwicmVhZHkiLCJkb25lIiwicnVucyIsIml0ZXIiLCJyU2NvcmVET01oIiwiYlNjb3JlRE9NaCIsImdTY29yZURPTWgiLCJzdGFuRGV2RE9NaCIsInNjb3JlcyIsImRhdGEiLCJkaXNwbGF5QXZlcmFnZSIsIm1lYW4iLCJkZXYiLCJzcXJ0Iiwic3RhbkRldiIsInJ1blNpbSIsInNpbUJvYXJkIiwiZnJhbWVJRCIsImxhc3RGcHNVcGRhdGUiLCJsYXN0RnJhbWVUaW1lTXMiLCJtYXhGUFMiLCJ0aW1lc3RlcCIsInJ1bm5pbmciLCJzdGFydGVkIiwiaWlfY291bnRlciIsImlfY291bnRlciIsIm1haW5Mb29wIiwidGltZXN0YW1wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibnVtVXBkYXRlU3RlcHMiLCJtYWtlQXR0YWNrcyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBaUIsRUFBQUMsR0FBc0QsT0FBQWpCLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQXVCLEVBQUFDLElBR3REL0IsRUFBQWtDLEVBQUEsR0FJQWxDLElBQUFtQyxFQUFBLHFCQ2pGQSxJQUFBQyxFQUFjcEMsRUFBUSxHQUV0QixpQkFBQW9DLE1BQUEsRUFBNENqQyxFQUFBQyxFQUFTZ0MsRUFBQSxNQU9yRCxJQUFBQyxFQUFBLENBQWVDLEtBQUEsRUFFZkMsZUFQQUEsRUFRQUMsZ0JBQUFDLEdBRWF6QyxFQUFRLEVBQVJBLENBQXdEb0MsRUFBQUMsR0FFckVELEVBQUFNLFNBQUF2QyxFQUFBRCxRQUFBa0MsRUFBQU0sMEJDakJBdkMsRUFBQUQsUUFBMkJGLEVBQVEsRUFBUkEsRUFBd0QsSUFFbkYyQyxLQUFBLENBQWN4QyxFQUFBQyxFQUFTLGkrQ0FBKzlDLG1DQ0t0L0NELEVBQUFELFFBQUEsU0FBQTBDLEdBQ0EsSUFBQUMsRUFBQSxHQWdEQSxPQTlDQUEsRUFBQUMsU0FBQSxXQUNBLE9BQUFDLEtBQUFDLElBQUEsU0FBQUMsR0FDQSxJQUFBYixFQStDQSxTQUFBYSxFQUFBTCxHQUNBLElBQUFSLEVBQUFhLEVBQUEsT0FDQUMsRUFBQUQsRUFBQSxHQUVBLElBQUFDLEVBQ0EsT0FBQWQsRUFHQSxHQUFBUSxHQUFBLG1CQUFBTyxLQUFBLENBQ0EsSUFBQUMsR0FXQUMsRUFYQUgsRUFlQSxtRUFGQUMsS0FBQUcsU0FBQUMsbUJBQUFDLEtBQUFDLFVBQUFKLE1BRUEsT0FkQUssRUFBQVIsRUFBQVMsUUFBQVgsSUFBQSxTQUFBWSxHQUNBLHVCQUFBVixFQUFBVyxXQUFBRCxFQUFBLFFBRUEsT0FBQXhCLEdBQUEwQixPQUFBSixHQUFBSSxPQUFBLENBQUFWLElBQUFXLEtBQUEsTUFPQSxJQUFBVixFQUpBLE9BQUFqQixHQUFBMkIsS0FBQSxNQS9EQUMsQ0FBQWYsRUFBQUwsR0FFQSxPQUFBSyxFQUFBLEdBQ0EsVUFBQUEsRUFBQSxPQUF1Q2IsRUFBQSxJQUV2Q0EsSUFFSzJCLEtBQUEsS0FJTGxCLEVBQUF6QyxFQUFBLFNBQUFFLEVBQUEyRCxHQUNBLGlCQUFBM0QsSUFDQUEsRUFBQSxPQUFBQSxFQUFBLE1BS0EsSUFGQSxJQUFBNEQsRUFBQSxHQUVBOUQsRUFBQSxFQUFtQkEsRUFBQTJDLEtBQUFvQixPQUFpQi9ELElBQUEsQ0FDcEMsSUFBQWdFLEVBQUFyQixLQUFBM0MsR0FBQSxHQUVBLE1BQUFnRSxJQUNBRixFQUFBRSxJQUFBLEdBSUEsSUFBQWhFLEVBQUEsRUFBZUEsRUFBQUUsRUFBQTZELE9BQW9CL0QsSUFBQSxDQUNuQyxJQUFBNkMsRUFBQTNDLEVBQUFGLEdBS0EsTUFBQTZDLEVBQUEsSUFBQWlCLEVBQUFqQixFQUFBLE1BQ0FnQixJQUFBaEIsRUFBQSxHQUNBQSxFQUFBLEdBQUFnQixFQUNTQSxJQUNUaEIsRUFBQSxPQUFBQSxFQUFBLGFBQUFnQixFQUFBLEtBR0FwQixFQUFBRixLQUFBTSxNQUtBSixvQkNuREEsSUFFQXdCLEVBQ0FDLEVBSEFDLEVBQUEsR0FXQUMsR0FUQUgsRUFTQSxXQU1BLE9BQUFJLFFBQUFDLG1CQUFBQyxNQUFBRixPQUFBRyxNQVpBLFdBRUEsWUFEQSxJQUFBTixNQUFBRCxFQUFBUSxNQUFBOUIsS0FBQStCLFlBQ0FSLElBb0JBUyxFQUFBLFNBQUFWLEdBQ0EsSUFBQUMsRUFBQSxHQUVBLGdCQUFBVSxFQUFBQyxHQU1BLHNCQUFBRCxFQUNBLE9BQUFBLElBRUEsWUFBQVYsRUFBQVUsR0FBQSxDQUNBLElBQUFFLEVBcEJBLFNBQUFGLEVBQUFDLEdBQ0EsT0FBQUEsRUFDQUEsRUFBQUUsY0FBQUgsR0FFQU4sU0FBQVMsY0FBQUgsSUFnQkF6RSxLQUFBd0MsS0FBQWlDLEVBQUFDLEdBRUEsR0FBQVIsT0FBQVcsbUJBQUFGLGFBQUFULE9BQUFXLGtCQUNBLElBR0FGLElBQUFHLGdCQUFBQyxLQUNLLE1BQUFDLEdBQ0xMLEVBQUEsS0FHQVosRUFBQVUsR0FBQUUsRUFFQSxPQUFBWixFQUFBVSxJQTFCQSxHQThCQVEsRUFBQSxLQUNBQyxFQUFBLEVBQ0FDLEVBQUEsR0FFQUMsRUFBYzNGLEVBQVEsR0FxRHRCLFNBQUE0RixFQUFBQyxFQUFBeEQsR0FDQSxRQUFBakMsRUFBQSxFQUFnQkEsRUFBQXlGLEVBQUExQixPQUFtQi9ELElBQUEsQ0FDbkMsSUFBQTZDLEVBQUE0QyxFQUFBekYsR0FDQTBGLEVBQUF2QixFQUFBdEIsRUFBQW1CLElBRUEsR0FBQTBCLEVBQUEsQ0FDQUEsRUFBQUMsT0FFQSxRQUFBQyxFQUFBLEVBQWlCQSxFQUFBRixFQUFBRyxNQUFBOUIsT0FBMkI2QixJQUM1Q0YsRUFBQUcsTUFBQUQsR0FBQS9DLEVBQUFnRCxNQUFBRCxJQUdBLEtBQVFBLEVBQUEvQyxFQUFBZ0QsTUFBQTlCLE9BQXVCNkIsSUFDL0JGLEVBQUFHLE1BQUF0RCxLQUFBdUQsRUFBQWpELEVBQUFnRCxNQUFBRCxHQUFBM0QsUUFFRyxDQUNILElBQUE0RCxFQUFBLEdBRUEsSUFBQUQsRUFBQSxFQUFpQkEsRUFBQS9DLEVBQUFnRCxNQUFBOUIsT0FBdUI2QixJQUN4Q0MsRUFBQXRELEtBQUF1RCxFQUFBakQsRUFBQWdELE1BQUFELEdBQUEzRCxJQUdBa0MsRUFBQXRCLEVBQUFtQixJQUFBLENBQTJCQSxHQUFBbkIsRUFBQW1CLEdBQUEyQixLQUFBLEVBQUFFLFdBSzNCLFNBQUFFLEVBQUF0RCxFQUFBUixHQUlBLElBSEEsSUFBQXdELEVBQUEsR0FDQU8sRUFBQSxHQUVBaEcsRUFBQSxFQUFnQkEsRUFBQXlDLEVBQUFzQixPQUFpQi9ELElBQUEsQ0FDakMsSUFBQTZDLEVBQUFKLEVBQUF6QyxHQUNBZ0UsRUFBQS9CLEVBQUFnRSxLQUFBcEQsRUFBQSxHQUFBWixFQUFBZ0UsS0FBQXBELEVBQUEsR0FJQXFELEVBQUEsQ0FBY0MsSUFIZHRELEVBQUEsR0FHY3VELE1BRmR2RCxFQUFBLEdBRWNJLFVBRGRKLEVBQUEsSUFHQW1ELEVBQUFoQyxHQUNBZ0MsRUFBQWhDLEdBQUE2QixNQUFBdEQsS0FBQTJELEdBREFULEVBQUFsRCxLQUFBeUQsRUFBQWhDLEdBQUEsQ0FBa0RBLEtBQUE2QixNQUFBLENBQUFLLEtBSWxELE9BQUFULEVBR0EsU0FBQVksRUFBQXBFLEVBQUFxRSxHQUNBLElBQUExQixFQUFBRCxFQUFBMUMsRUFBQUcsWUFFQSxJQUFBd0MsRUFDQSxVQUFBMkIsTUFBQSwrR0FHQSxJQUFBQyxFQUFBbEIsSUFBQXZCLE9BQUEsR0FFQSxXQUFBOUIsRUFBQXdFLFNBQ0FELEVBRUdBLEVBQUFFLFlBQ0g5QixFQUFBK0IsYUFBQUwsRUFBQUUsRUFBQUUsYUFFQTlCLEVBQUFnQyxZQUFBTixHQUpBMUIsRUFBQStCLGFBQUFMLEVBQUExQixFQUFBaUMsWUFNQXZCLEVBQUEvQyxLQUFBK0QsUUFDRSxjQUFBckUsRUFBQXdFLFNBQ0Y3QixFQUFBZ0MsWUFBQU4sT0FDRSxxQkFBQXJFLEVBQUF3RSxXQUFBeEUsRUFBQXdFLFNBQUFLLE9BSUYsVUFBQVAsTUFBQSw4TEFIQSxJQUFBRyxFQUFBL0IsRUFBQTFDLEVBQUF3RSxTQUFBSyxPQUFBbEMsR0FDQUEsRUFBQStCLGFBQUFMLEVBQUFJLElBTUEsU0FBQUssRUFBQVQsR0FDQSxVQUFBQSxFQUFBVSxXQUFBLFNBQ0FWLEVBQUFVLFdBQUFDLFlBQUFYLEdBRUEsSUFBQVksRUFBQTVCLEVBQUE2QixRQUFBYixHQUNBWSxHQUFBLEdBQ0E1QixFQUFBOEIsT0FBQUYsRUFBQSxHQUlBLFNBQUFHLEVBQUFwRixHQUNBLElBQUFxRSxFQUFBaEMsU0FBQWdELGNBQUEsU0FNQSxRQUpBakYsSUFBQUosRUFBQXNGLE1BQUFDLE9BQ0F2RixFQUFBc0YsTUFBQUMsS0FBQSxpQkFHQW5GLElBQUFKLEVBQUFzRixNQUFBRSxNQUFBLENBQ0EsSUFBQUEsRUFnQ0EsV0FDSyxFQUlMLE9BQVE3SCxFQUFBOEgsR0FyQ1JDLEdBQ0FGLElBQ0F4RixFQUFBc0YsTUFBQUUsU0FPQSxPQUhBRyxFQUFBdEIsRUFBQXJFLEVBQUFzRixPQUNBbEIsRUFBQXBFLEVBQUFxRSxHQUVBQSxFQWlCQSxTQUFBc0IsRUFBQUMsRUFBQU4sR0FDQTdHLE9BQUFvSCxLQUFBUCxHQUFBUSxRQUFBLFNBQUF4RyxHQUNBc0csRUFBQUcsYUFBQXpHLEVBQUFnRyxFQUFBaEcsTUFZQSxTQUFBdUUsRUFBQW1DLEVBQUFoRyxHQUNBLElBQUFxRSxFQUFBNEIsRUFBQUMsRUFBQUMsRUFHQSxHQUFBbkcsRUFBQUUsV0FBQThGLEVBQUE5QixJQUFBLENBS0EsS0FKQWlDLEVBQUEsbUJBQUFuRyxFQUFBRSxVQUNBRixFQUFBRSxVQUFBOEYsRUFBQTlCLEtBQ0FsRSxFQUFBRSxVQUFBa0csUUFBQUosRUFBQTlCLE1BU0Esb0JBSkE4QixFQUFBOUIsSUFBQWlDLEVBVUEsR0FBQW5HLEVBQUFtRCxVQUFBLENBQ0EsSUFBQWtELEVBQUFqRCxJQUVBaUIsRUFBQWxCLE1BQUFpQyxFQUFBcEYsSUFFQWlHLEVBQUFLLEVBQUEvRyxLQUFBLEtBQUE4RSxFQUFBZ0MsR0FBQSxHQUNBSCxFQUFBSSxFQUFBL0csS0FBQSxLQUFBOEUsRUFBQWdDLEdBQUEsUUFHQUwsRUFBQWhGLFdBQ0EsbUJBQUF1RixLQUNBLG1CQUFBQSxJQUFBQyxpQkFDQSxtQkFBQUQsSUFBQUUsaUJBQ0EsbUJBQUFDLE1BQ0EsbUJBQUE1RixNQUVBdUQsRUFsRUEsU0FBQXJFLEdBQ0EsSUFBQTJHLEVBQUF0RSxTQUFBZ0QsY0FBQSxRQVVBLFlBUkFqRixJQUFBSixFQUFBc0YsTUFBQUMsT0FDQXZGLEVBQUFzRixNQUFBQyxLQUFBLFlBRUF2RixFQUFBc0YsTUFBQXNCLElBQUEsYUFFQWpCLEVBQUFnQixFQUFBM0csRUFBQXNGLE9BQ0FsQixFQUFBcEUsRUFBQTJHLEdBRUFBLEVBdURBRSxDQUFBN0csR0FDQWlHLEVBaUZBLFNBQUFVLEVBQUEzRyxFQUFBZ0csR0FDQSxJQUFBOUIsRUFBQThCLEVBQUE5QixJQUNBbEQsRUFBQWdGLEVBQUFoRixVQVFBOEYsT0FBQTFHLElBQUFKLEVBQUErRyx1QkFBQS9GLEdBRUFoQixFQUFBK0csdUJBQUFELEtBQ0E1QyxFQUFBWixFQUFBWSxJQUdBbEQsSUFFQWtELEdBQUEsdURBQXVEcEQsS0FBQUcsU0FBQUMsbUJBQUFDLEtBQUFDLFVBQUFKLE1BQUEsT0FHdkQsSUFBQWdHLEVBQUEsSUFBQU4sS0FBQSxDQUFBeEMsR0FBQSxDQUE2QnFCLEtBQUEsYUFFN0IwQixFQUFBTixFQUFBTyxLQUVBUCxFQUFBTyxLQUFBWCxJQUFBQyxnQkFBQVEsR0FFQUMsR0FBQVYsSUFBQUUsZ0JBQUFRLElBNUdBMUgsS0FBQSxLQUFBOEUsRUFBQXJFLEdBQ0FrRyxFQUFBLFdBQ0FwQixFQUFBVCxHQUVBQSxFQUFBNkMsTUFBQVgsSUFBQUUsZ0JBQUFwQyxFQUFBNkMsU0FHQTdDLEVBQUFlLEVBQUFwRixHQUNBaUcsRUFzREEsU0FBQTVCLEVBQUEyQixHQUNBLElBQUE5QixFQUFBOEIsRUFBQTlCLElBQ0FDLEVBQUE2QixFQUFBN0IsTUFFQUEsR0FDQUUsRUFBQTBCLGFBQUEsUUFBQTVCLEdBR0EsR0FBQUUsRUFBQThDLFdBQ0E5QyxFQUFBOEMsV0FBQUMsUUFBQWxELE1BQ0UsQ0FDRixLQUFBRyxFQUFBTyxZQUNBUCxFQUFBVyxZQUFBWCxFQUFBTyxZQUdBUCxFQUFBTSxZQUFBdEMsU0FBQWdGLGVBQUFuRCxNQXJFQTNFLEtBQUEsS0FBQThFLEdBQ0E2QixFQUFBLFdBQ0FwQixFQUFBVCxLQU1BLE9BRkE0QixFQUFBRCxHQUVBLFNBQUFzQixHQUNBLEdBQUFBLEVBQUEsQ0FDQSxHQUNBQSxFQUFBcEQsTUFBQThCLEVBQUE5QixLQUNBb0QsRUFBQW5ELFFBQUE2QixFQUFBN0IsT0FDQW1ELEVBQUF0RyxZQUFBZ0YsRUFBQWhGLFVBRUEsT0FHQWlGLEVBQUFELEVBQUFzQixRQUVBcEIsS0ExUEFwSSxFQUFBRCxRQUFBLFNBQUEyQyxFQUFBUixHQUNBLHVCQUFBdUgsY0FDQSxpQkFBQWxGLFNBQUEsVUFBQWlDLE1BQUEsaUVBR0F0RSxLQUFBLElBRUFzRixNQUFBLGlCQUFBdEYsRUFBQXNGLE1BQUF0RixFQUFBc0YsTUFBQSxHQUlBdEYsRUFBQW1ELFdBQUEsa0JBQUFuRCxFQUFBbUQsWUFBQW5ELEVBQUFtRCxVQUFBaEIsS0FHQW5DLEVBQUFHLGFBQUFILEVBQUFHLFdBQUEsUUFHQUgsRUFBQXdFLFdBQUF4RSxFQUFBd0UsU0FBQSxVQUVBLElBQUFoQixFQUFBTSxFQUFBdEQsRUFBQVIsR0FJQSxPQUZBdUQsRUFBQUMsRUFBQXhELEdBRUEsU0FBQXdILEdBR0EsSUFGQSxJQUFBQyxFQUFBLEdBRUExSixFQUFBLEVBQWlCQSxFQUFBeUYsRUFBQTFCLE9BQW1CL0QsSUFBQSxDQUNwQyxJQUFBNkMsRUFBQTRDLEVBQUF6RixJQUNBMEYsRUFBQXZCLEVBQUF0QixFQUFBbUIsS0FFQTJCLE9BQ0ErRCxFQUFBbkgsS0FBQW1ELEdBR0ErRCxHQUVBakUsRUFEQU8sRUFBQTBELEVBQUF4SCxHQUNBQSxHQUdBLElBQUFqQyxFQUFBLEVBQWlCQSxFQUFBMEosRUFBQTNGLE9BQXNCL0QsSUFBQSxDQUN2QyxJQUFBMEYsRUFFQSxRQUZBQSxFQUFBZ0UsRUFBQTFKLElBRUEyRixLQUFBLENBQ0EsUUFBQUMsRUFBQSxFQUFtQkEsRUFBQUYsRUFBQUcsTUFBQTlCLE9BQTJCNkIsSUFBQUYsRUFBQUcsTUFBQUQsWUFFOUN6QixFQUFBdUIsRUFBQTFCLFFBa05BLElBQ0EyRixFQURBQyxHQUNBRCxFQUFBLEdBRUEsU0FBQUUsRUFBQUMsR0FHQSxPQUZBSCxFQUFBRSxHQUFBQyxFQUVBSCxFQUFBSSxPQUFBQyxTQUFBckcsS0FBQSxRQUlBLFNBQUE0RSxFQUFBakMsRUFBQXVELEVBQUExQixFQUFBRixHQUNBLElBQUE5QixFQUFBZ0MsRUFBQSxHQUFBRixFQUFBOUIsSUFFQSxHQUFBRyxFQUFBOEMsV0FDQTlDLEVBQUE4QyxXQUFBQyxRQUFBTyxFQUFBQyxFQUFBMUQsT0FDRSxDQUNGLElBQUE4RCxFQUFBM0YsU0FBQWdGLGVBQUFuRCxHQUNBK0QsRUFBQTVELEVBQUE0RCxXQUVBQSxFQUFBTCxJQUFBdkQsRUFBQVcsWUFBQWlELEVBQUFMLElBRUFLLEVBQUFuRyxPQUNBdUMsRUFBQUssYUFBQXNELEVBQUFDLEVBQUFMLElBRUF2RCxFQUFBTSxZQUFBcUQsb0JDN1VBbEssRUFBQUQsUUFBQSxTQUFBcUcsR0FFQSxJQUFBZ0UsRUFBQSxvQkFBQTlGLGVBQUE4RixTQUVBLElBQUFBLEVBQ0EsVUFBQTVELE1BQUEsb0NBSUEsSUFBQUosR0FBQSxpQkFBQUEsRUFDQSxPQUFBQSxFQUdBLElBQUFpRSxFQUFBRCxFQUFBRSxTQUFBLEtBQUFGLEVBQUFHLEtBQ0FDLEVBQUFILEVBQUFELEVBQUFLLFNBQUFDLFFBQUEsaUJBMkRBLE9BL0JBdEUsRUFBQXNFLFFBQUEsK0RBQUFDLEVBQUFDLEdBRUEsSUFXQUMsRUFYQUMsRUFBQUYsRUFDQUcsT0FDQUwsUUFBQSxvQkFBQWhLLEVBQUFzSyxHQUF3QyxPQUFBQSxJQUN4Q04sUUFBQSxvQkFBQWhLLEVBQUFzSyxHQUF3QyxPQUFBQSxJQUd4QywwREFBQUMsS0FBQUgsR0FDQUgsR0FRQUUsRUFGQSxJQUFBQyxFQUFBMUQsUUFBQSxNQUVBMEQsRUFDRyxJQUFBQSxFQUFBMUQsUUFBQSxLQUVIaUQsRUFBQVMsRUFHQU4sRUFBQU0sRUFBQUosUUFBQSxZQUlBLE9BQUFySCxLQUFBQyxVQUFBdUgsR0FBQSxrRENuRk8sU0FBQUssRUFBQUMsRUFBQUMsR0FDUCxPQUFBQyxLQUFBQyxNQUFBRCxLQUFBRSxTQUFBSCxFQUFBRCxLQUdPLFNBQUFLLEVBQUE5SixHQUNQLE9BQUEySixLQUFBSSxJQUFBL0osRUFBQSxHQUdBLFNBQUFnSyxFQUFBQyxHQUNBLElBQUFqSyxFQUFBaUssRUFBQTNILE9BRUEsT0FEQTJILEVBQUFDLE9BQUEsQ0FBQUMsRUFBQXZMLE1BQUF1TCxHQUNBbkssRUNUTyxNQUFNb0ssRUFDYkMsWUFBQTVFLEdBQ0F2RSxLQUFBdUUsTUFDQXZFLEtBQUFvSixFQUFXZCxFQUFRLE9BQ25CdEksS0FBQXFKLEVBQVdmLEVBQVEsT0FDbkJ0SSxLQUFBc0osUUFBQSxPQUNBdEosS0FBQXVKLE9BR0FKLE9BQ0FuSixLQUFBd0osS0FBQTdGLE1BQUE4RixRQUE0QnpKLEtBQUFvSixFQUFBLE1BQzVCcEosS0FBQXdKLEtBQUE3RixNQUFBK0YsT0FBMkIxSixLQUFBcUosRUFBQSxNQUczQkYsU0FDQW5KLEtBQUF3SixLQUFBaEUsU0FHQTJELE9BRUFuSixLQUFBd0osS0FBQTdILFNBQUFnRCxjQUFBLE9BQ0EzRSxLQUFBd0osS0FBQW5FLGFBQUEsVUFBb0NyRixLQUFBdUUsT0FDcEN2RSxLQUFBd0osS0FBQUcsVUFBQUMsT0FIQSxVQUlBNUosS0FBQTZKLFFDdkJPLE1BQU1DLEVBRWJYLFlBQUFZLEVBQUFwRyxFQUFBcUcsRUFBQUMsRUFBQTFGLEdBQ0F2RSxLQUFBK0osU0FDQS9KLEtBQUEyRCxRQUNBM0QsS0FBQWdLLFdBQ0FoSyxLQUFBdUUsTUFDQXZFLEtBQUFrSyxPQUFBRCxFQUFBLEdBQ0FqSyxLQUFBbUssT0FBQUYsRUFBQSxHQUNBakssS0FBQW9LLE9BQUFILEVBQUEsR0FDQWpLLEtBQUFxSyxTQUFBLElBQ0FySyxLQUFBc0ssTUFBQXRLLEtBQUFvSyxPQUFBcEssS0FBQXFLLFNBQ0FySyxLQUFBdUssT0FBQSxFQUNBdkssS0FBQXdLLGFBQUFQLEVBQUEsR0FDQWpLLEtBQUF5SyxLQUFBLEVBQ0F6SyxLQUFBdUosT0FHQUosT0FDQSxJQUFBdUIsRUFBQSxhQUE2QjFLLEtBQUF1RSxXQUFpQnZFLEtBQUErSixjQUFvQi9KLEtBQUEyRCxhQUFtQjNELEtBQUF1SyxVQUNyRnZLLEtBQUF3SixLQUFBN0gsU0FBQWdELGNBQUEsT0FDQTNFLEtBQUF3SixLQUFBRyxVQUFBQyxPQUFBYyxHQUNBMUssS0FBQXdKLEtBQUFtQixZQUFBM0ssS0FBQWdLLFNBQ0FoSyxLQUFBNEsscUJBQ0E1SyxLQUFBNkosT0FHQVYsS0FBQTBCLEdBQ0E3SyxLQUFBb0osR0FBQXBKLEtBQUE4SyxHQUFBOUssS0FBQXFLLFNBQUFySyxLQUFBc0ssTUFBQU8sRUFDQTdLLEtBQUFxSixHQUFBckosS0FBQStLLEdBQUEvSyxLQUFBcUssU0FBQXJLLEtBQUFzSyxNQUFBTyxFQUdBMUIsT0FDQW5KLEtBQUF3SixLQUFBN0YsTUFBQThGLFFBQTRCekosS0FBQW9KLEVBQUEsTUFDNUJwSixLQUFBd0osS0FBQTdGLE1BQUErRixPQUEyQjFKLEtBQUFxSixFQUFBLE1BRzNCRixxQkFDQW5KLEtBQUFvSixFQUFXZCxFQUFRLE9BQ25CdEksS0FBQXFKLEVBQVdmLEVBQVEsT0FHbkJhLGNBQ0EsSUFBQTZCLEVBQUFoTCxLQUFBaUwsR0FBQTdCLEVBQUFwSixLQUFBb0osRUFDQThCLEVBQUFsTCxLQUFBaUwsR0FBQTVCLEVBQUFySixLQUFBcUosRUFDQThCLEVBQUExQyxLQUFBMkMsSUFBQUosR0FDQUssRUFBQTVDLEtBQUEyQyxJQUFBRixHQUNBSSxFQUFZMUMsRUFBU29DLEdBQU1wQyxFQUFTc0MsR0FDcENsTCxLQUFBOEssR0FBQUUsRUFBQUcsRUFBQUcsRUFDQXRMLEtBQUErSyxHQUFBRyxFQUFBRyxFQUFBQyxFQUlBbkMsY0FDQW5KLEtBQUF5SyxNQUFBLEVBSUF0QixjQUFBb0MsR0FFQSxJQUFBQyxFQUFBLFFBRUFELEVBQUFuRyxRQUFBLENBQUFxRyxFQUFBcE8sS0FDQSxJQUFBcU8sRUFBQUQsRUFBQXJDLEVBQUFwSixLQUFBb0osRUFDQXVDLEVBQUFGLEVBQUFwQyxFQUFBckosS0FBQXFKLEVBQ0F1QyxFQUF5QmhELEVBQVM4QyxHQUFlOUMsRUFBUytDLFFBRTFELElBQUEzTCxLQUFBLEtBQ0FBLEtBQUFpTCxHQUFBUSxFQUNBRCxFQUFBSSxHQUVBQSxHQUFBSixJQUNBeEwsS0FBQWlMLEdBQUFRLEVBQ0FELEVBQUFJLEtBSUE1TCxLQUFBNkwsY0FHQTFDLGVBQUEyQyxHQUNBLElBQUFDLEVBQUEsSUFFQW5ELEVBQUEsU0FBQTlKLEdBQWdDLE9BQUEySixLQUFBSSxJQUFBL0osRUFBQSxJQUVoQ2dOLEVBQUExRyxRQUFBNEcsSUFDQUEsRUFBQUMsUUFBQTdHLFFBQUE4RyxJQUNBLElBQUFSLEVBQUExTCxLQUFBb0osRUFBQThDLEVBQUE5QyxFQUVBK0MsR0FEQW5NLEtBQUFxSixFQUFBNkMsRUFBQTdDLEVBQ0FULEVBQUE4QyxHQUFBOUMsRUFBQThDLFNBRUEsSUFBQTFMLEtBQUEsS0FDQUEsS0FBQW9NLEdBQUFGLEVBQ0FILEVBQUFJLEVBQ0FuTSxLQUFBcU0sS0FBQU4sR0FFQUksR0FBQUosSUFDQS9MLEtBQUFvTSxHQUFBRixFQUNBSCxFQUFBSSxFQUNBbk0sS0FBQXFNLEtBQUFOLE9BTUE1QyxjQUNBLE9BQUFuSixLQUFBdUssT0FBQSxDQUNBLElBQUErQixFQUFBLElBQ0FDLEVBQUF2TSxLQUFBcU0sS0FBK0J6RCxFQUFTMEQsR0FFM0JoRSxFQUFRLEVBRHJCRyxLQUFBQyxNQUFBRCxLQUFBRSxVQUFBLEVBQUE0RCxHQUFBLEtBRUEsR0FDQXZNLEtBQUFvTSxHQUFBSSxZQUFBeE0sS0FBQW1LLGFBR0FuSyxLQUFBeU0sbUJBSUF0RCxZQUFBdUQsR0FFQTFNLEtBQUF3SyxjQUFBa0MsRUFDQTFNLEtBQUF3SyxjQUFBLElBQ0F4SyxLQUFBc0ssT0FBQXRLLEtBQUFvSyxPQUFBcEssS0FBQXdLLGNBQUF4SyxLQUFBcUssVUFFQXJLLEtBQUEyTSxvQkFHQXhELG9CQUVBbkosS0FBQXdKLEtBQUFHLFVBQUFuRSxPQUFBLGFBQ0F4RixLQUFBd0osS0FBQUcsVUFBQUMsZUFBcUM1SixLQUFBdUssVUFDckN2SyxLQUFBdUssT0FBQSxFQUdBcEIsbUJBQ0FuSixLQUFBdUssT0FBQSxJQUNBdkssS0FBQXdKLEtBQUFHLFVBQUFuRSxrQkFBeUN4RixLQUFBdUssVUFDekN2SyxLQUFBdUssU0FDQXZLLEtBQUF3SixLQUFBRyxVQUFBQyxlQUFzQzVKLEtBQUF1SyxXQUV0QyxJQUFBdkssS0FBQXVLLFNBQ0F2SyxLQUFBc0ssTUFBQXRLLEtBQUFvSyxPQUFBcEssS0FBQXFLLFNBQ0FySyxLQUFBd0ssYUFBQXhLLEtBQUFrSyxTQzlJTyxNQUFNMEMsRUFFYnpELFlBQUFZLEdBQ0EvSixLQUFBK0osU0FDQS9KLEtBQUE4QyxPQUFBLG9EQUNBOUMsS0FBQTZNLFVBQUEsQ0FDQUMsU0FBQSxJQUNBQyxNQUFBLElBQ0FDLFVBQUEsSUFDQUMsT0FBQSxJQUNBQyxRQUFBLEtBR0FsTixLQUFBbU4sVUFBQSxDQUNBQyxHQUFBLEdBQ0FDLEdBQUEsR0FDQUMsR0FBQSxJQUVBdE4sS0FBQXVOLFlBQUEsQ0FDQUgsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEdBQUEsR0FHQXROLEtBQUF3TixTQUFBLENBQ0FDLFFBQUEsQ0FDQSxDQUFpQkMsTUFBQTFOLEtBQUFtTixVQUFBQyxHQUFBLEVBQUFwTixLQUFBdU4sWUFBQUgsR0FBQU8sU0FBQSxZQUNqQixDQUFpQkQsTUFBQTFOLEtBQUFtTixVQUFBQyxHQUFBLEVBQUFwTixLQUFBdU4sWUFBQUgsR0FBQU8sU0FBQSxxQkFDakIsQ0FBaUJELE1BQUExTixLQUFBbU4sVUFBQUMsR0FBQSxFQUFBcE4sS0FBQXVOLFlBQUFILEdBQUFPLFNBQUEsY0FDakIsQ0FBaUJELE1BQUExTixLQUFBbU4sVUFBQUMsR0FBQSxFQUFBcE4sS0FBQXVOLFlBQUFILEdBQUFPLFNBQUEsTUFDakIsQ0FBaUJELE1BQUExTixLQUFBbU4sVUFBQUMsR0FBQSxFQUFBcE4sS0FBQXVOLFlBQUFILEdBQUFPLFNBQUEsZ0JBRWpCQyxRQUFBLENBQ0EsQ0FBaUJGLE1BQUExTixLQUFBbU4sVUFBQUUsR0FBQSxFQUFBck4sS0FBQXVOLFlBQUFGLEdBQUFNLFNBQUEsZUFDakIsQ0FBaUJELE1BQUExTixLQUFBbU4sVUFBQUUsR0FBQSxFQUFBck4sS0FBQXVOLFlBQUFGLEdBQUFNLFNBQUEsYUFDakIsQ0FBaUJELE1BQUExTixLQUFBbU4sVUFBQUUsR0FBQSxFQUFBck4sS0FBQXVOLFlBQUFGLEdBQUFNLFNBQUEsc0JBQ2pCLENBQWlCRCxNQUFBMU4sS0FBQW1OLFVBQUFFLEdBQUEsRUFBQXJOLEtBQUF1TixZQUFBRixHQUFBTSxTQUFBLElBQ2pCLENBQWlCRCxNQUFBMU4sS0FBQW1OLFVBQUFFLEdBQUEsRUFBQXJOLEtBQUF1TixZQUFBRixHQUFBTSxTQUFBLGFBRWpCRSxRQUFBLENBQ0EsQ0FBaUJILE1BQUExTixLQUFBbU4sVUFBQUcsR0FBQSxFQUFBdE4sS0FBQXVOLFlBQUFELEdBQUFLLFNBQUEsSUFDakIsQ0FBaUJELE1BQUExTixLQUFBbU4sVUFBQUcsR0FBQSxFQUFBdE4sS0FBQXVOLFlBQUFELEdBQUFLLFNBQUEsSUFDakIsQ0FBaUJELE1BQUExTixLQUFBbU4sVUFBQUcsR0FBQSxFQUFBdE4sS0FBQXVOLFlBQUFELEdBQUFLLFNBQUEsbUNBQ2pCLENBQWlCRCxNQUFBMU4sS0FBQW1OLFVBQUFHLEdBQUEsRUFBQXROLEtBQUF1TixZQUFBRCxHQUFBSyxTQUFBLFdBQ2pCLENBQWlCRCxNQUFBMU4sS0FBQW1OLFVBQUFHLEdBQUEsRUFBQXROLEtBQUF1TixZQUFBRCxHQUFBSyxTQUFBLGVBS2pCM04sS0FBQThOLFNBQUEsQ0FDQWhCLFNBQUEsQ0FBQTlNLEtBQUF3TixTQUFBQyxRQUFBLEdBQUFDLE1BQUExTixLQUFBd04sU0FBQUksUUFBQSxHQUFBRixNQUFBMU4sS0FBQXdOLFNBQUFLLFFBQUEsR0FBQUgsT0FDQVgsTUFBQSxDQUFBL00sS0FBQXdOLFNBQUFDLFFBQUEsR0FBQUMsTUFBQTFOLEtBQUF3TixTQUFBSSxRQUFBLEdBQUFGLE1BQUExTixLQUFBd04sU0FBQUssUUFBQSxHQUFBSCxPQUNBVixVQUFBLENBQUFoTixLQUFBd04sU0FBQUMsUUFBQSxHQUFBQyxNQUFBMU4sS0FBQXdOLFNBQUFJLFFBQUEsR0FBQUYsTUFBQTFOLEtBQUF3TixTQUFBSyxRQUFBLEdBQUFILE9BQ0FULE9BQUEsQ0FBQWpOLEtBQUF3TixTQUFBQyxRQUFBLEdBQUFDLE1BQUExTixLQUFBd04sU0FBQUksUUFBQSxHQUFBRixNQUFBMU4sS0FBQXdOLFNBQUFLLFFBQUEsR0FBQUgsT0FDQVIsUUFBQSxDQUFBbE4sS0FBQXdOLFNBQUFDLFFBQUEsR0FBQUMsTUFBQTFOLEtBQUF3TixTQUFBSSxRQUFBLEdBQUFGLE1BQUExTixLQUFBd04sU0FBQUssUUFBQSxHQUFBSCxRQUlBdkUsVUFBQTRFLEVBQUFwSyxFQUFBWSxHQUNBLElBQUEwRixFQUFBakssS0FBQThOLFNBQUFuSyxHQUNBcUcsRUFBQWhLLEtBQUE2TSxVQUFBbEosR0FDQSxXQUFtQm1HLEVBQUlpRSxFQUFBcEssRUFBQXFHLEVBQUFDLEVBQUExRixHQUl2QjRFLG9CQUNBLFFBQUF2SyxLQUFBb0IsS0FBQXVOLFlBQ0F2TixLQUFBdU4sWUFBQTNPLElBQUEsRUFJQXVLLGlCQUNBLFFBQUF2SyxLQUFBb0IsS0FBQXVOLFlBQ0FTLFFBQUFDLElBQUFqTyxLQUFBdU4sWUFBQTNPLEtDekVPLE1BQU1zUCxFQUViL0UsWUFBQVksRUFBQW9FLEVBQUFDLEdBQ0FwTyxLQUFBK0osU0FDQS9KLEtBQUFtTyxRQUNBbk8sS0FBQWlNLFFBQUEsR0FDQWpNLEtBQUFvTyxXQUNBcE8sS0FBQXFPLEdBQUEsSUFBZ0J6QixFQUFXNU0sS0FBQStKLFFBQzNCL0osS0FBQXVKLE9BR0FKLGNBQ0EsT0FBQW5KLEtBQUFpTSxRQUFBN0ssT0FHQStILGdCQUVBbkosS0FBQW9PLFNBQUF0QixTQUFBLElBQ0F2SSxFQUFBLEVBQ0EsUUFBQVosS0FBQTNELEtBQUFvTyxTQUFBLENBQ0EsSUFBQS9RLEVBQUEsRUFDQWlSLEVBQUF0TyxLQUFBb08sU0FBQXpLLEdBQ0EsS0FBQTJLLEVBQUFqUixFQUFBLEdBQ0EyQyxLQUFBaU0sUUFBQXJNLEtBQUFJLEtBQUFxTyxHQUFBRSxVQUFBdk8sS0FBQStKLE9BQUFwRyxFQUFBWSxJQUNBQSxJQUNBbEgsS0FLQThMLE9BQ0E2RSxRQUFBQyxJQUFBLFlBQUFqTyxLQUFBK0osUUFDQS9KLEtBQUF3TyxpQkMvQk8sTUFBTUMsRUFDYnRGLGNBQ0FuSixLQUFBME8sU0FBQSxJQUNBMU8sS0FBQTJPLGdCQUFBLEtBQ0EzTyxLQUFBd0osS0FBQTdILFNBQUFpTixlQUFBLFNBQ0E1TyxLQUFBNk8sWUFBQSxDQUNBL0IsU0FBQSxHQUNBQyxNQUFBLEVBQ0FDLFVBQUEsRUFDQUMsT0FBQSxFQUNBQyxRQUFBLEdBRUFsTixLQUFBOE8sY0FBQSxDQUNBaEMsU0FBQSxHQUNBQyxNQUFBLEVBQ0FDLFVBQUEsRUFDQUMsT0FBQSxFQUNBQyxRQUFBLEdBRUFsTixLQUFBK08sYUFBQSxDQUNBakMsU0FBQSxHQUNBQyxNQUFBLEVBQ0FDLFVBQUEsRUFDQUMsT0FBQSxFQUNBQyxRQUFBLEdBRUFsTixLQUFBZ1AsT0FBQSxDQUNBLElBQU9kLEVBQUssTUFBQWxPLEtBQUEyTyxnQkFBQTNPLEtBQUE2TyxhQUNaLElBQU9YLEVBQUssUUFBQWxPLEtBQUEyTyxnQkFBQTNPLEtBQUE4TyxlQUNaLElBQU9aLEVBQUssT0FBQWxPLEtBQUEyTyxnQkFBQTNPLEtBQUErTyxlQUNaL08sS0FBQWlQLFlBQUEsR0FDQWpQLEtBQUF1SixPQUdBSixZQUNBLFFBQUE5TCxFQUFBLEVBQWVBLEVBQUEyQyxLQUFBME8sU0FBZ0JyUixJQUFBLENBQy9CLElBQUE2UixFQUFBLElBQWdCaEcsRUFBUzdMLEdBQ3pCMkMsS0FBQWlQLFlBQUFyUCxLQUFBc1AsSUFJQS9GLGdCQUVBLE9BREFuSixLQUFBaVAsWUFBQTdILE9BQUErSCxHQUFBLFNBQUFBLEVBQUE3RixTQUlBSCxPQUNBbkosS0FBQW9QLFlBQ0FwUCxLQUFBcVAsV0FBQXJQLEtBQUFnUCxRQUNBaFAsS0FBQWdQLE9BQUE1SixRQUFBNEcsSUFDQUEsRUFBQUMsUUFBQTdHLFFBQUFoRyxJQUNBWSxLQUFBd0osS0FBQXZGLFlBQUE3RSxFQUFBb0ssVUFHQXhKLEtBQUFpUCxZQUFBN0osUUFBQThKLElBQ0FsUCxLQUFBd0osS0FBQXZGLFlBQUFpTCxFQUFBMUYsUUFJQUwsYUFDQW5KLEtBQUFnUCxPQUFBNUosUUFBQSxDQUFBNEcsRUFBQXpILEtBQ0EsSUFBQXVILEVBQUE5TCxLQUFBZ1AsT0FBQTVILE9BQUEsQ0FBQWtJLEVBQUFqUyxRQUFBa0gsR0FDQXlILEVBQUFDLFFBQUE3RyxRQUFBaEcsSUFDQUEsRUFBQW1RLGNBQUF2UCxLQUFBdUwsaUJBQ0FuTSxFQUFBb1EsZUFBQTFELE9BS0EzQyxjQUNBbkosS0FBQWdQLE9BQUE1SixRQUFBLENBQUE0RyxFQUFBekgsS0FDQXlILEVBQUFDLFFBQUE3RyxRQUFBaEcsSUFDQUEsRUFBQXFRLGtCQUtBdEcsY0FDQW5KLEtBQUFnUCxPQUFBNUosUUFBQTRHLElBQ0FBLEVBQUFDLFFBQUE3RyxRQUFBaEcsSUFDQVksS0FBQWlQLFlBQUE3SixRQUFBOEosSUFDa0J0RyxFQUFTc0csRUFBQTlGLEVBQUFoSyxFQUFBZ0ssR0FBYVIsRUFBU3NHLEVBQUE3RixFQUFBakssRUFBQWlLLEdBQ2pELGFBQUE2RixFQUFBNUYsU0FDQXRKLEtBQUEwUCxXQUFBUixFQUFBOVAsU0FPQStKLFdBQUErRixFQUFBOVAsR0FDQThQLEVBQUE1RixRQUFBbEssRUFBQTZLLFFBQ0E3SyxFQUFBdVEsY0FDQTNQLEtBQUFxUCxXQUFBclAsS0FBQWdQLFFBQ0FFLEVBQUExSixTQUdBMkQsT0FDQW5KLEtBQUE0UCxjQUNBNVAsS0FBQWdQLE9BQUE1SixRQUFBNEcsSUFDQUEsRUFBQUMsUUFBQTdHLFFBQUFoRyxJQUNBQSxFQUFBeUssV0FLQVYsT0FBQTBCLEdBQ0E3SyxLQUFBZ1AsT0FBQTVKLFFBQUE0RyxJQUNBQSxFQUFBQyxRQUFBN0csUUFBQWhHLElBQ0FBLEVBQUF5USxLQUFBaEYsT0FLQTFCLFFBQ0EsS0FBQW5KLEtBQUF3SixLQUFBdEYsWUFDQWxFLEtBQUF3SixLQUFBbEYsWUFBQXRFLEtBQUF3SixLQUFBdEYsYUNqSEEsSUFBQTRMLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsRUFBQXZPLFNBQUFTLGNBQUEsWUFDQStOLEVBQUF4TyxTQUFBUyxjQUFBLFlBQ0FnTyxFQUFBek8sU0FBQVMsY0FBQSxZQUNBaU8sRUFBQTFPLFNBQUFTLGNBQUEsYUFDQWtPLEVBQUEsR0FFQUMsRUFBQSxDQUNBLENBQUt4RyxPQUFBLE1BQUFVLEtBQUEsR0FDTCxDQUFLVixPQUFBLFFBQUFVLEtBQUEsR0FDTCxDQUFLVixPQUFBLE9BQUFVLEtBQUEsSUFVTCxTQUFBK0YsSUFDQU4sRUFBQXZGLGVBQWdDNEYsRUFBQSxHQUFBOUYsS0FBQXVGLFFBQ2hDSSxFQUFBekYsZUFBZ0M0RixFQUFBLEdBQUE5RixLQUFBdUYsUUFDaENHLEVBQUF4RixlQUFnQzRGLEVBQUEsR0FBQTlGLEtBQUF1RixRQU1oQ0ssRUFBQTFGLFlOekJPLFNBQUE1QixHQUNQLElBQUEwSCxFQUFBM0gsRUFBQUMsR0FDQWlGLFFBQUFDLElBQUF3QyxHQUNBLElBQUFDLEVBQUEzSCxFQUFBOUksSUFBQTVDLEdBQUF1TCxFQUFBdkwsRUFBQW9ULElBRUEsT0FEQWhJLEtBQUFrSSxLQUFBN0gsRUFBQTRILElNcUI4QkUsQ0FBT04sR0FKckNSLEdBQUEsR0FPQSxTQUFBZSxJQUNBZixHQUFBLEVBRUEsSUFBQWdCLEVBQUEsSUFBdUJyQyxFQUV2QnNDLEVBQUEsRUFDQUMsRUFBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsSUFDQXJHLEVBQUEsRUFDQXNHLEVBQUEsR0FFQUMsR0FBQSxFQUNBQyxHQUFBLEVBOEJBLElBQUFDLEVBQUEsRUFDQUMsRUFBQSxFQUVBLFNBQUFDLEVBQUFDLEdBRUEsR0FBQUEsRUFBQVIsRUFBQSxJQUFBQyxFQUVBLFlBREFILEVBQUFXLHNCQUFBRixJQUtBM0csR0FBQTRHLEVBQUFSLEVBQ0FBLEVBQUFRLEVBRUEsSUFBQUUsRUFBQSxFQUNBLEtBQUE5RyxHQUFBc0csR0FhQSxLQVpBSSxFQUNBLEtBQ0FULEVBQUF6QixhQUNBa0MsRUFBQSxLQUVBRCxFQUNBLEtBQ0FSLEVBQUFjLGNBQ0FOLEVBQUEsR0FFQVIsRUFBQXZMLE9BQUFzRixHQUNBQSxHQUFBc0csSUFDQVEsR0FBQSxLQWhDQTlHLEVBQUEsRUFDQW1ELFFBQUFDLElBQUEsU0FrQ0EsTUFHQTZDLEVBQUFqSCxPQUdBaUgsRUFBQXZGLGdCQUFBbkssT0FHQSxFQUNBMlAsRUFBQVcsc0JBQUFGLElBcEVBSixHQUFBLEVBQ0FDLEdBQUEsRUFDQVEscUJBQUFkLEdBNkVBRCxFQUFBOUIsT0FBQTVKLFFBQUEsQ0FBQTRHLEVBQUEzTyxLQUNBLElBQUFvTixFQUFBdUIsRUFBQUMsUUFBQWpELE9BQUEsQ0FBQUMsRUFBQTdKLEVBQUEvQixJQUNBNEwsRUFBQTdKLEVBQUFxTCxLQUNhLEdBQ2I2RixFQUFBMVEsS0FBQTZLLEdBQ0E4RixFQUFBbFQsR0FBQW9OLFFBQ0F1RCxRQUFBQyxJQUFBNVEsRUFBQSxFQUFBMk8sRUFBQWpDLE9BQUFVLEtBRUFxRyxFQUFBZ0IsUUF6SEE1QixFQUFBdkYsWUFBQTRGLEVBQUEsR0FBQTlGLEtBQ0EyRixFQUFBekYsWUFBQTRGLEVBQUEsR0FBQTlGLEtBQ0EwRixFQUFBeEYsWUFBQTRGLEVBQUEsR0FBQTlGLEtBQ0FxRixHQUFBLElBd0hBRyxFQUNBLEVBRUFZLEtBR0FkLEdBQUEsRUFDQVMsSUFDQXhDLFFBQUFDLElBQUEsY0EzRkFvRCxJQUNBQSxHQUFBLEVBR0FOLEVBQUFXLHNCQUFBLFNBQUFELEdBQ0FYLEVBQUFqSCxPQUNBdUgsR0FBQSxFQUVBSCxFQUFBUSxFQUNBVCxFQUFBUyxFQUVBVixFQUFBVyxzQkFBQUYsTUFxRkFYIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zdHlsZS5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3N0eWxlLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3N0eWxlLnNjc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5zLXdoaXRlIHtcXG4gIGJhY2tncm91bmQ6ICNlZWVlZWU7XFxuICBjb2xvcjogIzIyMjIyMjsgfVxcblxcbi5zLXJlZCB7XFxuICBiYWNrZ3JvdW5kOiAjY2MxMTExO1xcbiAgY29sb3I6ICNmZjg4ZmY7IH1cXG5cXG4ucy1ibHVlIHtcXG4gIGJhY2tncm91bmQ6ICMxMTY2YmI7XFxuICBjb2xvcjogIzIyY2NjYzsgfVxcblxcbi5zLWdyZWVuIHtcXG4gIGJhY2tncm91bmQ6ICMwMDg4MDA7XFxuICBjb2xvcjogI2NjY2M0NDsgfVxcblxcbi5zLXB1cnBsZSB7XFxuICBiYWNrZ3JvdW5kOiAjODg1NWVlO1xcbiAgY29sb3I6ICMwMDg4MDA7IH1cXG5cXG4jYm9hcmQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIHdpZHRoOiAxMDB2aDtcXG4gIGJhY2tncm91bmQ6ICMyMjIyMjI7XFxuICBvdmVyZmxvdzogaGlkZGVuOyB9XFxuXFxuI2RhdGEtZGlzcGxheSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogNSU7XFxuICB0b3A6IDUlOyB9XFxuXFxuLnNoaXAge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgd2lkdGg6IDEycHg7XFxuICBoZWlnaHQ6IDEycHg7XFxuICBmb250LXNpemU6IDE4cHg7XFxuICBsaW5lLWhlaWdodDogMTRweDtcXG4gIGZvbnQtZmFtaWx5OiAnUm9ib3RvIE1vbm8nLCBtb25vc3BhY2U7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBjbGlwLXBhdGg6IHBvbHlnb24oMCUgMTAwJSwgNTAlIDAlLCAxMDAlIDEwMCUpO1xcbiAgYm9yZGVyLXJhZGl1czogMTAwJTsgfVxcblxcbi5nb2xkIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGhlaWdodDogMnB4O1xcbiAgd2lkdGg6IDJweDtcXG4gIGxlZnQ6IDA7XFxuICB0b3A6IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBnb2xkO1xcbiAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggZ29sZDsgfVxcblxcbi5zLXN0YXR1czAge1xcbiAgb3V0bGluZTogbm9uZTsgfVxcblxcbi5zLXN0YXR1czEge1xcbiAgb3V0bGluZTogI2FhY2NmZjtcXG4gIGFuaW1hdGlvbjogZmFkZSAxMDAwbXMgaW5maW5pdGU7XFxuICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZSAxMDAwbXMgaW5maW5pdGU7IH1cXG5cXG4ucy1zdGF0dXMyIHtcXG4gIG91dGxpbmU6ICNhYWNjZmY7XFxuICBhbmltYXRpb246IGZhZGUgNzUwbXMgaW5maW5pdGU7XFxuICAtd2Via2l0LWFuaW1hdGlvbjogZmFkZSA3NTBtcyBpbmZpbml0ZTsgfVxcblxcbi5zLXN0YXR1czMge1xcbiAgb3V0bGluZTogI2FhY2NmZjtcXG4gIGFuaW1hdGlvbjogZmFkZSA1MDBtcyBpbmZpbml0ZTtcXG4gIC13ZWJraXQtYW5pbWF0aW9uOiBmYWRlIDUwMG1zIGluZmluaXRlOyB9XFxuXFxuQGtleWZyYW1lcyBmYWRlIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAxLjA7IH1cXG4gIDUwJSB7XFxuICAgIG9wYWNpdHk6IDAuNTsgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxLjA7IH0gfVxcblxcbkAtd2Via2l0LWtleWZyYW1lcyBmYWRlIHtcXG4gIGZyb20ge1xcbiAgICBvcGFjaXR5OiAxLjA7IH1cXG4gIDUwJSB7XFxuICAgIG9wYWNpdHk6IDAuNTsgfVxcbiAgdG8ge1xcbiAgICBvcGFjaXR5OiAxLjA7IH0gfVxcblwiLCBcIlwiXSk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiAnQG1lZGlhICcgKyBpdGVtWzJdICsgJ3snICsgY29udGVudCArICd9JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBtb2R1bGVzW2ldOyAvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG4gICAgICAvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuICAgICAgLy8gd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuICAgICAgLy8gSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXG4gICAgICBpZiAoaXRlbVswXSA9PSBudWxsIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGlmIChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSAnKCcgKyBpdGVtWzJdICsgJykgYW5kICgnICsgbWVkaWFRdWVyeSArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJztcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcbiAgcmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn0iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCwgcGFyZW50KSB7XG4gIGlmIChwYXJlbnQpe1xuICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICB9XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCwgcGFyZW50KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUsIHRhcmdldCk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cblx0aWYob3B0aW9ucy5hdHRycy5ub25jZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcblx0XHRpZiAobm9uY2UpIHtcblx0XHRcdG9wdGlvbnMuYXR0cnMubm9uY2UgPSBub25jZTtcblx0XHR9XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXROb25jZSgpIHtcblx0aWYgKHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBfX3dlYnBhY2tfbm9uY2VfXztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSB0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbidcblx0XHQgPyBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKSBcblx0XHQgOiBvcHRpb25zLnRyYW5zZm9ybS5kZWZhdWx0KG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gcmFuZG9tTU0gKG1pbixtYXgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSptYXgtbWluKSttaW47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlTnVtIChuKSB7XG4gIHJldHVybiBNYXRoLnBvdyhuLDIpO1xufTtcblxuZnVuY3Rpb24gZ2V0TWVhbiAoYXJyKSB7XG4gIGxldCBuID0gYXJyLmxlbmd0aDtcbiAgbGV0IHN1bSA9IGFyci5yZWR1Y2UoKGEsYykgPT4gYyArIGEgKTtcbiAgcmV0dXJuIHN1bS9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhbkRldiAoYXJyKSB7XG4gIGxldCBtZWFuID0gZ2V0TWVhbihhcnIpO1xuICBjb25zb2xlLmxvZyhtZWFuKTtcbiAgbGV0IGRldiA9IGFyci5tYXAoKGkpID0+IHNxdWFyZU51bShpLW1lYW4pIClcbiAgbGV0IHNkID0gTWF0aC5zcXJ0KGdldE1lYW4oZGV2KSk7XG4gIHJldHVybiBzZDtcbn0iLCJpbXBvcnQgeyByYW5kb21NTSB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgR29sZFBpZWNlIHtcblx0Y29uc3RydWN0b3IgKGlkeCkge1xuXHRcdHRoaXMuaWR4ID0gaWR4O1xuXHRcdHRoaXMueCA9IHJhbmRvbU1NKDAsMTAwMCk7XG5cdFx0dGhpcy55ID0gcmFuZG9tTU0oMCwxMDAwKTtcblx0XHR0aGlzLmhlbGRfYnkgPSBcIm5vbmVcIjtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdGRyYXcgKCkge1xuXHRcdHRoaXMuRE9NaC5zdHlsZS5sZWZ0ID0gYCR7dGhpcy54LzEwfSVgO1xuXHRcdHRoaXMuRE9NaC5zdHlsZS50b3AgPSBgJHt0aGlzLnkvMTB9JWA7XG5cdH1cblxuXHRyZW1vdmUgKCkge1xuXHRcdHRoaXMuRE9NaC5yZW1vdmUoKTtcblx0fVxuXG5cdGluaXQoKSB7XG5cdFx0bGV0IGNsYXNzZXMgPSBbJ2dvbGQnXTtcblx0XHR0aGlzLkRPTWggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR0aGlzLkRPTWguc2V0QXR0cmlidXRlKFwiaWRcIiwgYGctJHt0aGlzLmlkeH1gKTtcblx0XHR0aGlzLkRPTWguY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKTtcblx0XHR0aGlzLmRyYXcoKTtcblx0fVxufSIsImltcG9ydCB7IHJhbmRvbU1NLCBzcXVhcmVOdW0gfSBmcm9tICcuL3V0aWxzLmpzJztcblxuZXhwb3J0IGNsYXNzIFNoaXAge1xuXG5cdGNvbnN0cnVjdG9yIChiYW5uZXIsIHN0eWxlLCBpbnNpZ25pYSwgcHJvZmlsZSwgaWR4KSB7XG5cdFx0dGhpcy5iYW5uZXIgPSBiYW5uZXI7XG5cdFx0dGhpcy5zdHlsZSA9IHN0eWxlO1xuXHRcdHRoaXMuaW5zaWduaWEgPSBpbnNpZ25pYTtcblx0XHR0aGlzLmlkeCA9IGlkeDtcblx0XHR0aGlzLnNoaWVsZCA9IHByb2ZpbGVbMF07XG5cdFx0dGhpcy53ZWFwb24gPSBwcm9maWxlWzFdO1xuXHRcdHRoaXMuZW5naW5lID0gcHJvZmlsZVsyXTtcblx0XHR0aGlzLmZyYWN0aW9uID0gMC4wNTtcblx0XHR0aGlzLnNwZWVkID0gdGhpcy5lbmdpbmUgKiB0aGlzLmZyYWN0aW9uO1xuXHRcdHRoaXMuc3RhdHVzID0gMDtcblx0XHR0aGlzLnNoaWVsZFN0YXR1cyA9IHByb2ZpbGVbMF07XG5cdFx0dGhpcy5nb2xkID0gMDtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdGluaXQgKCkge1xuXHRcdGxldCBjbGFzc2VzID0gWydzaGlwJyxgcy0ke3RoaXMuaWR4fWAsIGBzLSR7dGhpcy5iYW5uZXJ9YCwgYHMtJHt0aGlzLnN0eWxlfWAsIGBzLSR7dGhpcy5zdGF0dXN9YF07XG5cdFx0dGhpcy5ET01oID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dGhpcy5ET01oLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XG5cdFx0dGhpcy5ET01oLnRleHRDb250ZW50ID0gdGhpcy5pbnNpZ25pYTtcblx0XHR0aGlzLmdldEluaXRpYWxQb3NpdGlvbigpO1xuXHRcdHRoaXMuZHJhdygpO1xuXHR9XG5cblx0bW92ZSAoZGVsdGEpIHtcblx0XHR0aGlzLnggKz0gdGhpcy52eCAqIHRoaXMuZnJhY3Rpb24gKiB0aGlzLnNwZWVkICogZGVsdGE7XG5cdFx0dGhpcy55ICs9IHRoaXMudnkgKiB0aGlzLmZyYWN0aW9uICogdGhpcy5zcGVlZCAqIGRlbHRhO1xuXHR9XG5cblx0ZHJhdyAoKSB7XG5cdFx0dGhpcy5ET01oLnN0eWxlLmxlZnQgPSBgJHt0aGlzLngvMTB9JWA7XG5cdFx0dGhpcy5ET01oLnN0eWxlLnRvcCA9IGAke3RoaXMueS8xMH0lYDtcblx0fVxuXG5cdGdldEluaXRpYWxQb3NpdGlvbiAoKSB7XG5cdFx0dGhpcy54ID0gcmFuZG9tTU0oMSwxMDAwKTtcblx0XHR0aGlzLnkgPSByYW5kb21NTSgxLDEwMDApO1xuXHR9XG5cblx0cmVzZXRWZWN0b3IgKCkge1xuXHRcdGxldCBtdnggPSB0aGlzLmd0LnggLSB0aGlzLng7XG5cdFx0bGV0IG12eSA9IHRoaXMuZ3QueSAtIHRoaXMueTtcblx0XHRsZXQgYW12eCA9IE1hdGguYWJzKG12eCk7XG5cdFx0bGV0IGFtdnkgPSBNYXRoLmFicyhtdnkpO1xuXHRcdGxldCBtYWcgPSBzcXVhcmVOdW0obXZ4KStzcXVhcmVOdW0obXZ5KTtcblx0XHR0aGlzLnZ4ID0gbXZ4KmFtdnggLyBtYWc7XG5cdFx0dGhpcy52eSA9IG12eSphbXZ5IC8gbWFnO1xuXHRcdC8vIGNvbnNvbGUubG9nKHRoaXMudngsdGhpcy52eSk7XG5cdH1cblxuXHRhY3F1aXJlR29sZCAoKSB7XG5cdFx0dGhpcy5nb2xkICs9IDE7XG5cdFx0Ly8gY29uc29sZS5sb2codGhpcy5hc3NldHMpO1xuXHR9XG5cblx0c2V0R29sZFRhcmdldChnb2xkX29uX2ZpZWxkKSB7XG5cblx0XHRsZXQgZ3RfZGlzdGFuY2Vfc3EgPSAyMDE2NCAqIDEwMDsgIC8vIHNob3VsZG4ndCBtYXR0ZXJcblxuXHRcdGdvbGRfb25fZmllbGQuZm9yRWFjaCgoaV9nLCBpKSA9PiB7XG5cdFx0XHRsZXQgeF9kaXN0YW5jZSA9IGlfZy54IC0gdGhpcy54O1xuXHRcdFx0bGV0IHlfZGlzdGFuY2UgPSBpX2cueSAtIHRoaXMueTtcblx0XHRcdGxldCBpX2dfZGlzdGFuY2Vfc3EgPSBzcXVhcmVOdW0oeF9kaXN0YW5jZSkgKyBzcXVhcmVOdW0oeV9kaXN0YW5jZSk7XG5cblx0XHRcdGlmICh0eXBlb2YodGhpcy5ndCkgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHRoaXMuZ3QgPSBpX2c7XG5cdFx0XHRcdGd0X2Rpc3RhbmNlX3NxID0gaV9nX2Rpc3RhbmNlX3NxO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGlfZ19kaXN0YW5jZV9zcSA8PSBndF9kaXN0YW5jZV9zcSkge1xuXHRcdFx0XHR0aGlzLmd0ID0gaV9nO1xuXHRcdFx0XHRndF9kaXN0YW5jZV9zcSA9IGlfZ19kaXN0YW5jZV9zcTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHQvLyBjb25zb2xlLmxvZyhndF9kaXN0YW5jZV9zcSwgXCJndCBkaXN0YW5jZVwiKTtcblx0XHR0aGlzLnJlc2V0VmVjdG9yKCk7XG5cdH1cblxuXHRzZXRFbmVteVRhcmdldChlbmVtaWVzKSB7XG5cdFx0bGV0IGV0X2Rpc3RhbmNlX3NxID0gMTAwMCAqIDEwMDAgKiAyO1xuXG5cdFx0bGV0IHNxdWFyZU51bSA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBNYXRoLnBvdyhuLDIpOyB9O1xuXG5cdFx0ZW5lbWllcy5mb3JFYWNoKChmKSA9PiB7XG5cdFx0XHRmLnNfYXJyYXkuZm9yRWFjaCgoaV9lKSA9PiB7XG5cdFx0XHRcdGxldCB4X2Rpc3RhbmNlID0gdGhpcy54IC0gaV9lLng7XG5cdFx0XHRcdGxldCB5X2Rpc3RhbmNlID0gdGhpcy55IC0gaV9lLnk7XG5cdFx0XHRcdGxldCBpX2VfZGlzdGFuY2Vfc3EgPSBzcXVhcmVOdW0oeF9kaXN0YW5jZSkgKyBzcXVhcmVOdW0oeF9kaXN0YW5jZSk7XG5cblx0XHRcdFx0aWYgKHR5cGVvZih0aGlzLmV0KSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHR0aGlzLmV0ID0gaV9lO1xuXHRcdFx0XHRcdGV0X2Rpc3RhbmNlX3NxID0gaV9lX2Rpc3RhbmNlX3NxO1xuXHRcdFx0XHRcdHRoaXMuZXRfZCA9IGV0X2Rpc3RhbmNlX3NxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChpX2VfZGlzdGFuY2Vfc3EgPD0gZXRfZGlzdGFuY2Vfc3EpIHtcblx0XHRcdFx0XHR0aGlzLmV0ID0gaV9lO1xuXHRcdFx0XHRcdGV0X2Rpc3RhbmNlX3NxID0gaV9lX2Rpc3RhbmNlX3NxO1xuXHRcdFx0XHRcdHRoaXMuZXRfZCA9IGV0X2Rpc3RhbmNlX3NxO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdGF0dGFja0VuZW15KCkge1xuXHRcdGlmICh0aGlzLnN0YXR1cyA9PT0gMCkge1xuXHRcdFx0bGV0IG1heF9kX2F0dGFjayA9IDIwMDtcblx0XHRcdGxldCBtaXNzX3JhdGUgPSB0aGlzLmV0X2QgLyBzcXVhcmVOdW0obWF4X2RfYXR0YWNrKSA7XG5cdFx0XHRsZXQgYWNjdXJhY3kgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKDEtbWlzc19yYXRlKSo5KTtcblx0XHRcdGxldCByYW4gPSByYW5kb21NTSgwLGFjY3VyYWN5KTtcblx0XHRcdGlmIChyYW4gPj0gMikge1xuXHRcdFx0XHR0aGlzLmV0LmdldEF0dGFja2VkKHRoaXMud2VhcG9uKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5kZWNyZW1lbnRTdHVubmVkKCk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0QXR0YWNrZWQoZGFtYWdlKSB7XG5cdFx0Ly8gY29uc29sZS5sb2coXCJkYW1hZ2VcIiwgdGhpcy5zaGllbGRTdGF0dXMpO1xuXHRcdHRoaXMuc2hpZWxkU3RhdHVzIC09IGRhbWFnZTtcblx0XHRpZiAodGhpcy5zaGllbGRTdGF0dXM8PTApIHtcblx0XHRcdHRoaXMuc3BlZWQgPSAodGhpcy5lbmdpbmUrdGhpcy5zaGllbGRTdGF0dXMpICogdGhpcy5mcmFjdGlvbjtcblx0XHR9XG5cdFx0dGhpcy5zdGFydFN0dW5uZWRUaW1lcigpO1xuXHR9XG5cblx0c3RhcnRTdHVubmVkVGltZXIgKCkge1xuXHRcdC8vIGNvbnNvbGUubG9nKFwiZ290IHN0dW5uZWRcIiwgdGhpcy5zcGVlZCk7XG5cdFx0dGhpcy5ET01oLmNsYXNzTGlzdC5yZW1vdmUoYHMtc3RhdHVzMGApO1xuXHRcdHRoaXMuRE9NaC5jbGFzc0xpc3QuYWRkKGBzLXN0YXR1cyR7dGhpcy5zdGF0dXN9YCk7XG5cdFx0dGhpcy5zdGF0dXMgPSAzO1xuXHR9XG5cblx0ZGVjcmVtZW50U3R1bm5lZCAoKSB7XG5cdFx0aWYgKHRoaXMuc3RhdHVzID4gMCkge1xuXHRcdFx0dGhpcy5ET01oLmNsYXNzTGlzdC5yZW1vdmUoYHMtc3RhdHVzJHt0aGlzLnN0YXR1c31gKTtcblx0XHRcdHRoaXMuc3RhdHVzLS07IC8vIGlzIHRoaXMgaW1tZWRpYXRlP1xuXHRcdFx0dGhpcy5ET01oLmNsYXNzTGlzdC5hZGQoYHMtc3RhdHVzJHt0aGlzLnN0YXR1c31gKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuc3RhdHVzID09PSAwKSB7XG5cdFx0XHR0aGlzLnNwZWVkID0gdGhpcy5lbmdpbmUgKiB0aGlzLmZyYWN0aW9uO1xuXHRcdFx0dGhpcy5zaGllbGRTdGF0dXMgPSB0aGlzLnNoaWVsZDtcblx0XHR9XG5cdH1cblxufSIsImltcG9ydCB7IHJhbmRvbU1NIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgeyBTaGlwIH0gZnJvbSAnLi9TaGlwLmpzJztcblxuZXhwb3J0IGNsYXNzIFNoaXBGYWN0b3J5IHtcblxuICAgIGNvbnN0cnVjdG9yIChiYW5uZXIpIHtcbiAgICAgICAgdGhpcy5iYW5uZXIgPSBiYW5uZXI7XG4gICAgICAgIHRoaXMuc3R5bGVzID0gWydzdGFuZGFyZCcsJ3N3aWZ0JywndHJhbnNwb3J0JywnZ3VubmVyJywnc3BlZWRlciddO1xuICAgICAgICB0aGlzLmluc2lnbmlhcyA9IHtcbiAgICAgICAgICAgIHN0YW5kYXJkOiAnbycsXG4gICAgICAgICAgICBzd2lmdDogJ1YnLFxuICAgICAgICAgICAgdHJhbnNwb3J0OiAnLScsXG4gICAgICAgICAgICBndW5uZXI6ICcqJyxcbiAgICAgICAgICAgIHNwZWVkZXI6ICd3JyxcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmJhc2VsaW5lcyA9IHtcbiAgICAgICAgICAgIHNoOiAyMCxcbiAgICAgICAgICAgIHdwOiAyMCxcbiAgICAgICAgICAgIGVnOiAyMFxuICAgICAgICB9XG4gICAgICAgIHRoaXMubXVsdGlwbGllcnMgPSAge1xuICAgICAgICAgICAgc2g6IDIsXG4gICAgICAgICAgICB3cDogMixcbiAgICAgICAgICAgIGVnOiAyXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5mZWF0dXJlcyA9IHtcbiAgICAgICAgICAgIHNoaWVsZHM6IFtcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLnNoKyh0aGlzLm11bHRpcGxpZXJzLnNoKjApLCBvd25lZF9ieTogWydndW5uZXInXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy5zaCsodGhpcy5tdWx0aXBsaWVycy5zaCoxKSwgb3duZWRfYnk6IFsnc3dpZnQnLCdzcGVlZGVyJ119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMuc2grKHRoaXMubXVsdGlwbGllcnMuc2gqMiksIG93bmVkX2J5OiBbJ3N0YW5kYXJkJ119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMuc2grKHRoaXMubXVsdGlwbGllcnMuc2gqMyksIG93bmVkX2J5OiBbJyddfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLnNoKyh0aGlzLm11bHRpcGxpZXJzLnNoKjQpLCBvd25lZF9ieTogWyd0cmFuc3BvcnQnXX1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB3ZWFwb25zOiBbXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy53cCsodGhpcy5tdWx0aXBsaWVycy53cCowKSwgb3duZWRfYnk6IFsndHJhbnNwb3J0J119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMud3ArKHRoaXMubXVsdGlwbGllcnMud3AqMSksIG93bmVkX2J5OiBbJ3NwZWVkZXInXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy53cCsodGhpcy5tdWx0aXBsaWVycy53cCoyKSwgb3duZWRfYnk6IFsnc3RhbmRhcmQnLCAnc3dpZnQnXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy53cCsodGhpcy5tdWx0aXBsaWVycy53cCozKSwgb3duZWRfYnk6IFtdfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLndwKyh0aGlzLm11bHRpcGxpZXJzLndwKjQpLCBvd25lZF9ieTogWydndW5uZXInXX1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBlbmdpbmVzOiBbXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy5lZysodGhpcy5tdWx0aXBsaWVycy5lZyowKSwgb3duZWRfYnk6IFtdfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLmVnKyh0aGlzLm11bHRpcGxpZXJzLmVnKjEpLCBvd25lZF9ieTogW119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMuZWcrKHRoaXMubXVsdGlwbGllcnMuZWcqMiksIG93bmVkX2J5OiBbJ3N0YW5kYXJkJywndHJhbnNwb3J0JywnZ3VubmVyJ119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMuZWcrKHRoaXMubXVsdGlwbGllcnMuZWcqMyksIG93bmVkX2J5OiBbJ3N3aWZ0J119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMuZWcrKHRoaXMubXVsdGlwbGllcnMuZWcqNCksIG93bmVkX2J5OiBbJ3NwZWVkZXInXX1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBsb29rdXAgcmV2ZXJzZWQgZnJvbSBmZWF0dXJlc1xuICAgICAgICB0aGlzLnByb2ZpbGVzID0ge1xuICAgICAgICAgICAgc3RhbmRhcmQ6IFt0aGlzLmZlYXR1cmVzLnNoaWVsZHNbMl0ucG93ZXIsdGhpcy5mZWF0dXJlcy53ZWFwb25zWzJdLnBvd2VyLHRoaXMuZmVhdHVyZXMuZW5naW5lc1syXS5wb3dlcl0sXG4gICAgICAgICAgICBzd2lmdDogW3RoaXMuZmVhdHVyZXMuc2hpZWxkc1sxXS5wb3dlcix0aGlzLmZlYXR1cmVzLndlYXBvbnNbMl0ucG93ZXIsdGhpcy5mZWF0dXJlcy5lbmdpbmVzWzNdLnBvd2VyXSxcbiAgICAgICAgICAgIHRyYW5zcG9ydDogW3RoaXMuZmVhdHVyZXMuc2hpZWxkc1s0XS5wb3dlcix0aGlzLmZlYXR1cmVzLndlYXBvbnNbMF0ucG93ZXIsdGhpcy5mZWF0dXJlcy5lbmdpbmVzWzJdLnBvd2VyXSxcbiAgICAgICAgICAgIGd1bm5lcjogW3RoaXMuZmVhdHVyZXMuc2hpZWxkc1swXS5wb3dlcix0aGlzLmZlYXR1cmVzLndlYXBvbnNbNF0ucG93ZXIsdGhpcy5mZWF0dXJlcy5lbmdpbmVzWzJdLnBvd2VyXSxcbiAgICAgICAgICAgIHNwZWVkZXI6IFt0aGlzLmZlYXR1cmVzLnNoaWVsZHNbMV0ucG93ZXIsdGhpcy5mZWF0dXJlcy53ZWFwb25zWzFdLnBvd2VyLHRoaXMuZmVhdHVyZXMuZW5naW5lc1s0XS5wb3dlcl1cbiAgICAgICAgfVxuICAgIH0gLy8gY29uc3RydWN0b3JcblxuICAgIGJ1aWxkU2hpcCAoY29sb3Isc3R5bGUsaWR4KSB7XG4gICAgICAgIGxldCBwcm9maWxlID0gdGhpcy5wcm9maWxlc1tzdHlsZV07XG4gICAgICAgIGxldCBpbnNpZ25pYSA9IHRoaXMuaW5zaWduaWFzW3N0eWxlXTtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGlwKGNvbG9yLHN0eWxlLGluc2lnbmlhLHByb2ZpbGUsaWR4KTtcbiAgICB9XG5cbiAgICAvLyBhZGp1c3QgbXVsdGlwbGllcnNcbiAgICBhZGp1c3RNdWx0aXBsaWVycyAoKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLm11bHRpcGxpZXJzKSB7XG4gICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJzW2tleV0gKz0xO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TXVsdGlwbGllcnMgKCkge1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5tdWx0aXBsaWVycykge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5tdWx0aXBsaWVyc1trZXldKTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCBTaGlwIGZyb20gJy4vU2hpcC5qcyc7XG5pbXBvcnQgeyBTaGlwRmFjdG9yeSB9IGZyb20gJy4vU2hpcEZhY3RvcnkuanMnO1xuXG5leHBvcnQgY2xhc3MgRmxlZXQge1xuXG5cdGNvbnN0cnVjdG9yIChiYW5uZXIsbW9uZXksc3RyYXRlZ3kpIHtcblx0XHR0aGlzLmJhbm5lciA9IGJhbm5lcjtcblx0XHR0aGlzLm1vbmV5ID0gbW9uZXk7XG5cdFx0dGhpcy5zX2FycmF5ID0gW107XG5cdFx0dGhpcy5zdHJhdGVneSA9IHN0cmF0ZWd5O1xuXHRcdHRoaXMuU0YgPSBuZXcgU2hpcEZhY3RvcnkodGhpcy5iYW5uZXIpO1xuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0Z2V0TnVtU2hpcHMgKCkge1xuXHRcdHJldHVybiB0aGlzLnNfYXJyYXkubGVuZ3RoO1xuXHR9XG5cblx0cHVyY2hhc2VTaGlwcyAoKSB7XG5cdFx0Ly90aGlzLnN0cmF0ZWd5ID0ge3N0YW5kYXJkOjEwMCxzd2lmdDowLHRyYW5zcG9ydDowLGd1bm5lcjowLHNwZWVkZXI6MH07XG5cdFx0bGV0IG51bVNUID0gdGhpcy5zdHJhdGVneS5zdGFuZGFyZDtcblx0XHRsZXQgaWR4ID0gMDtcblx0XHRmb3IgKGxldCBzdHlsZSBpbiB0aGlzLnN0cmF0ZWd5KSB7XG5cdFx0XHRsZXQgaSA9IDA7XG5cdFx0XHRsZXQgbnVtID0gdGhpcy5zdHJhdGVneVtzdHlsZV07XG5cdFx0XHR3aGlsZSAobnVtPmkrMSkge1xuXHRcdFx0XHR0aGlzLnNfYXJyYXkucHVzaCh0aGlzLlNGLmJ1aWxkU2hpcCh0aGlzLmJhbm5lcixzdHlsZSxpZHgpKTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHRcdGkrKztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpbml0ICgpIHtcblx0XHRjb25zb2xlLmxvZygnbmV3IEZsZWV0JywgdGhpcy5iYW5uZXIpO1xuXHRcdHRoaXMucHVyY2hhc2VTaGlwcygpO1xuXHR9XG5cbn0iLCJpbXBvcnQgeyByYW5kb21NTSwgc3F1YXJlTnVtIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQge0dvbGRQaWVjZX0gZnJvbSAnLi9Hb2xkUGllY2UuanMnO1xuaW1wb3J0IHsgRmxlZXQgfSBmcm9tICcuL0ZsZWV0LmpzJztcblxuZXhwb3J0IGNsYXNzIEJvYXJkIHtcblx0Y29uc3RydWN0b3IgKCkge1xuXHRcdHRoaXMubnVtX2dvbGQgPSA5MDA7XG5cdFx0dGhpcy5tb25leV9wZXJfZmxlZXQgPSAxNTAwMDA7XG5cdFx0dGhpcy5ET01oID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvYXJkJyk7XG5cdFx0dGhpcy5SRURzdHJhdGVneSA9IHtcblx0XHRcdHN0YW5kYXJkOiAgMTAsXG5cdFx0XHRzd2lmdDogICAgICAwLFxuXHRcdFx0dHJhbnNwb3J0OiAgMCxcblx0XHRcdGd1bm5lcjogICAgIDAsXG5cdFx0XHRzcGVlZGVyOiAgICAwXG5cdFx0fTtcblx0XHR0aGlzLkdSRUVOc3RyYXRlZ3kgPSB7XG5cdFx0XHRzdGFuZGFyZDogIDEwLFxuXHRcdFx0c3dpZnQ6ICAgICAgMCxcblx0XHRcdHRyYW5zcG9ydDogIDAsXG5cdFx0XHRndW5uZXI6ICAgICAwLFxuXHRcdFx0c3BlZWRlcjogICAgMFxuXHRcdH07XG5cdFx0dGhpcy5CTFVFc3RyYXRlZ3kgPSB7XG5cdFx0XHRzdGFuZGFyZDogIDEwLFxuXHRcdFx0c3dpZnQ6ICAgICAgMCxcblx0XHRcdHRyYW5zcG9ydDogIDAsXG5cdFx0XHRndW5uZXI6ICAgICAwLFxuXHRcdFx0c3BlZWRlcjogICAgMFxuXHRcdH07XG5cdFx0dGhpcy5mbGVldHMgPSBbXG5cdFx0XHRuZXcgRmxlZXQoJ3JlZCcsdGhpcy5tb25leV9wZXJfZmxlZXQsdGhpcy5SRURzdHJhdGVneSksXG5cdFx0XHRuZXcgRmxlZXQoJ2dyZWVuJyx0aGlzLm1vbmV5X3Blcl9mbGVldCx0aGlzLkdSRUVOc3RyYXRlZ3kpLFxuXHRcdFx0bmV3IEZsZWV0KCdibHVlJyx0aGlzLm1vbmV5X3Blcl9mbGVldCx0aGlzLkJMVUVzdHJhdGVneSldO1xuXHRcdHRoaXMuZ29sZF9waWVjZXMgPSBbXTtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdHBsYWNlR29sZCAoKSB7XG5cdFx0Zm9yIChsZXQgaT0wO2k8dGhpcy5udW1fZ29sZDtpKyspIHtcblx0XHRcdGxldCBncCA9IG5ldyBHb2xkUGllY2UoaSk7XG5cdFx0XHR0aGlzLmdvbGRfcGllY2VzLnB1c2goZ3ApO1xuXHRcdH1cblx0fVxuXG5cdGdvbGRfb25fZmllbGQgKCkge1xuXHRcdGxldCBnb2YgPSB0aGlzLmdvbGRfcGllY2VzLmZpbHRlcihnID0+IGcuaGVsZF9ieT09PVwibm9uZVwiKTtcblx0XHRyZXR1cm4gZ29mO1xuXHR9XG5cblx0aW5pdCgpIHtcblx0XHR0aGlzLnBsYWNlR29sZCgpO1xuXHRcdHRoaXMuc2V0VGFyZ2V0cyh0aGlzLmZsZWV0cyk7XG5cdFx0dGhpcy5mbGVldHMuZm9yRWFjaCgoZikgPT4ge1xuXHRcdFx0Zi5zX2FycmF5LmZvckVhY2goKHMpID0+IHtcblx0XHRcdFx0dGhpcy5ET01oLmFwcGVuZENoaWxkKHMuRE9NaCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHR0aGlzLmdvbGRfcGllY2VzLmZvckVhY2goKGdwKSA9PiB7XG5cdFx0XHR0aGlzLkRPTWguYXBwZW5kQ2hpbGQoZ3AuRE9NaCk7XG5cdFx0fSk7XG5cdH1cblxuXHRzZXRUYXJnZXRzKCkge1xuXHRcdHRoaXMuZmxlZXRzLmZvckVhY2goKGYsaWR4KSA9PiB7XG5cdFx0XHRsZXQgZW5lbWllcyA9IHRoaXMuZmxlZXRzLmZpbHRlciggKGZmLGkpID0+IGkgIT09IGlkeCk7XG5cdFx0XHRmLnNfYXJyYXkuZm9yRWFjaCgocykgPT4ge1xuXHRcdFx0XHRzLnNldEdvbGRUYXJnZXQodGhpcy5nb2xkX29uX2ZpZWxkKCkpO1xuXHRcdFx0XHRzLnNldEVuZW15VGFyZ2V0KGVuZW1pZXMpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRtYWtlQXR0YWNrcygpIHtcblx0XHR0aGlzLmZsZWV0cy5mb3JFYWNoKChmLGlkeCkgPT4ge1xuXHRcdFx0Zi5zX2FycmF5LmZvckVhY2goKHMpID0+IHtcblx0XHRcdFx0cy5hdHRhY2tFbmVteSgpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRkb0hpdERldGVjdCAoKSB7XG5cdFx0dGhpcy5mbGVldHMuZm9yRWFjaCgoZikgPT4ge1xuXHRcdFx0Zi5zX2FycmF5LmZvckVhY2goKHMpID0+IHtcblx0XHRcdFx0dGhpcy5nb2xkX3BpZWNlcy5mb3JFYWNoKChncCkgPT4ge1xuXHRcdFx0XHRsZXQgZGlzdF9zcSA9IHNxdWFyZU51bShncC54LXMueCkgKyBzcXVhcmVOdW0oZ3AueS1zLnkpO1xuXHRcdFx0XHRpZiAoIGRpc3Rfc3EgPCAyNSAmJiBncC5oZWxkX2J5PT09XCJub25lXCIgKSB7XG5cdFx0XHRcdFx0dGhpcy5yZW1vdmVHb2xkKGdwLHMpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRyZW1vdmVHb2xkIChncCxzKSB7XG5cdFx0Z3AuaGVsZF9ieSA9IHMucHJvZmlsZTtcblx0XHRzLmFjcXVpcmVHb2xkKCk7XG5cdFx0dGhpcy5zZXRUYXJnZXRzKHRoaXMuZmxlZXRzKTtcblx0XHRncC5yZW1vdmUoKTtcblx0fVxuXG5cdGRyYXcgKCkge1xuXHRcdHRoaXMuZG9IaXREZXRlY3QoKTtcblx0XHR0aGlzLmZsZWV0cy5mb3JFYWNoKChmKSA9PiB7XG5cdFx0XHRmLnNfYXJyYXkuZm9yRWFjaCgocykgPT4ge1xuXHRcdFx0cy5kcmF3KCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHVwZGF0ZSAoZGVsdGEpIHtcblx0XHR0aGlzLmZsZWV0cy5mb3JFYWNoKChmKSA9PiB7XG5cdFx0XHRmLnNfYXJyYXkuZm9yRWFjaCgocykgPT4ge1xuXHRcdFx0XHRzLm1vdmUoZGVsdGEpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRjbGVhciAoKSB7XG5cdFx0d2hpbGUgKHRoaXMuRE9NaC5maXJzdENoaWxkKSB7XG5cdFx0XHR0aGlzLkRPTWgucmVtb3ZlQ2hpbGQodGhpcy5ET01oLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblx0fVxufSIsImltcG9ydCAnLi9zdHlsZS5zY3NzJztcbmltcG9ydCB7IEJvYXJkIH0gZnJvbSAnLi9Cb2FyZC5qcyc7XG5pbXBvcnQgeyBzdGFuRGV2LCBnZXRNZWFuIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbi8vIHJldmVudWUgb2YgYXZlcmFnZSBzaGlwOiA2NjtcblxuLy8gcnVuU2ltIGFuZCBjb2xsZWN0IERhdGEgaXRlciB0aW1lc1xubGV0IHJlYWR5ID0gdHJ1ZTtcbmxldCBkb25lID0gZmFsc2U7XG5sZXQgcnVucyA9IDM7IC8vIGZvciBzdGFuZGFyZCBkZXZpYXRpb24gLy8vLy8gc2VlbXMgdG8gZ3JvdyB3aXRoIHZhcmlhdGlvblxubGV0IGl0ZXIgPSAzOyAvLyBzYW1lIGFzIHJ1bnMsIGJ1dCBzdGF0ZWZ1bFxubGV0IHJTY29yZURPTWggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjci1zY29yZScpO1xubGV0IGJTY29yZURPTWggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYi1zY29yZScpO1xubGV0IGdTY29yZURPTWggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZy1zY29yZScpO1xubGV0IHN0YW5EZXZET01oID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YW4tZGV2Jyk7XG5sZXQgc2NvcmVzID0gW107XG5cbmxldCBkYXRhID0gW1xuICAgIHtiYW5uZXI6ICdyZWQnLCBnb2xkOiAwfSxcbiAgICB7YmFubmVyOiAnZ3JlZW4nLCBnb2xkOiAwfSxcbiAgICB7YmFubmVyOiAnYmx1ZScsIGdvbGQ6IDB9XG5dO1xuXG5mdW5jdGlvbiBkaXNwbGF5RGF0YSAoKSB7XG4gICAgclNjb3JlRE9NaC50ZXh0Q29udGVudCA9IGRhdGFbMF0uZ29sZDtcbiAgICBnU2NvcmVET01oLnRleHRDb250ZW50ID0gZGF0YVsxXS5nb2xkO1xuICAgIGJTY29yZURPTWgudGV4dENvbnRlbnQgPSBkYXRhWzJdLmdvbGQ7XG4gICAgcmVhZHkgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5QXZlcmFnZSAoKSB7XG4gICAgclNjb3JlRE9NaC50ZXh0Q29udGVudCA9IGAke2RhdGFbMF0uZ29sZCAvIHJ1bnN9IGF2Z2A7XG4gICAgZ1Njb3JlRE9NaC50ZXh0Q29udGVudCA9IGAke2RhdGFbMV0uZ29sZCAvIHJ1bnN9IGF2Z2A7XG4gICAgYlNjb3JlRE9NaC50ZXh0Q29udGVudCA9IGAke2RhdGFbMl0uZ29sZCAvIHJ1bnN9IGF2Z2A7XG4gICAgZGlzcGxheVN0YW5EZXYoKTtcbiAgICByZWFkeSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlTdGFuRGV2ICgpIHtcbiAgICBzdGFuRGV2RE9NaC50ZXh0Q29udGVudCA9IHN0YW5EZXYoc2NvcmVzKTtcbn1cblxuZnVuY3Rpb24gcnVuU2ltICgpIHtcbiAgICByZWFkeSA9IGZhbHNlO1xuXG4gICAgbGV0IHNpbUJvYXJkID0gbmV3IEJvYXJkKCk7XG5cbiAgICBsZXQgZnJhbWVJRCA9IDAsXG4gICAgICAgIGxhc3RGcHNVcGRhdGUgPSAwLFxuICAgICAgICBsYXN0RnJhbWVUaW1lTXMgPSAwLFxuICAgICAgICBtYXhGUFMgPSAxMDAsXG4gICAgICAgIGRlbHRhID0gMCxcbiAgICAgICAgdGltZXN0ZXAgPSAxMDAwIC8gMTAwO1xuXG4gICAgbGV0IHJ1bm5pbmcgPSBmYWxzZSxcbiAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICBcbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJRCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmICghc3RhcnRlZCkgeyAvLyBkb24ndCByZXF1ZXN0IG11bHRpcGxlIGZyYW1lc1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAvLyBEdW1teSBmcmFtZSB0byBnZXQgb3VyIHRpbWVzdGFtcHMgYW5kIGluaXRpYWwgZHJhd2luZyByaWdodC5cbiAgICAgICAgICAgIC8vIFRyYWNrIHRoZSBmcmFtZSBJRCBzbyB3ZSBjYW4gY2FuY2VsIGl0IGlmIHdlIHN0b3AgcXVpY2tseS5cbiAgICAgICAgICAgIGZyYW1lSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24odGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgc2ltQm9hcmQuZHJhdygpOyAvLyBpbml0aWFsIHNpbUJvYXJkLmRyYXdcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyByZXNldCBzb21lIHRpbWUgdHJhY2tpbmcgbGV0YWJsZXNcbiAgICAgICAgICAgICAgICBsYXN0RnJhbWVUaW1lTXMgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgbGFzdEZwc1VwZGF0ZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICAvLyBhY3R1YWxseSBzdGFydCB0aGUgbWFpbiBsb29wXG4gICAgICAgICAgICAgICAgZnJhbWVJRCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShtYWluTG9vcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhbmljKCkge1xuICAgICAgICBkZWx0YSA9IDA7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicGFuaWNcIik7XG4gICAgfVxuXG4gICAgbGV0IGlpX2NvdW50ZXIgPSAwO1xuICAgIGxldCBpX2NvdW50ZXIgPSAwO1xuXG4gICAgZnVuY3Rpb24gbWFpbkxvb3AodGltZXN0YW1wKSB7XG4gICAgICAgIC8vIHRocm90dGxlIHRoZSBmcmFtZSByYXRlICBcbiAgICAgICAgaWYgKHRpbWVzdGFtcCA8IGxhc3RGcmFtZVRpbWVNcyArICgxMDAwIC8gbWF4RlBTKSkge1xuICAgICAgICAgICAgZnJhbWVJRCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShtYWluTG9vcCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGNyZWF0ZSB2aXJ0dWFsIHRpbWVcbiAgICAgICAgZGVsdGEgKz0gdGltZXN0YW1wIC0gbGFzdEZyYW1lVGltZU1zO1xuICAgICAgICBsYXN0RnJhbWVUaW1lTXMgPSB0aW1lc3RhbXA7XG5cbiAgICAgICAgbGV0IG51bVVwZGF0ZVN0ZXBzID0gMDtcbiAgICAgICAgd2hpbGUgKGRlbHRhID49IHRpbWVzdGVwKSB7XG4gICAgICAgICAgICBpX2NvdW50ZXIrKztcbiAgICAgICAgICAgIGlmIChpX2NvdW50ZXIgPiAyNSkge1xuICAgICAgICAgICAgICAgIHNpbUJvYXJkLnNldFRhcmdldHMoKTtcbiAgICAgICAgICAgICAgICBpX2NvdW50ZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWlfY291bnRlcisrO1xuICAgICAgICAgICAgaWYgKGlpX2NvdW50ZXIgPiA1MCkge1xuICAgICAgICAgICAgICAgIHNpbUJvYXJkLm1ha2VBdHRhY2tzKCk7XG4gICAgICAgICAgICAgICAgaWlfY291bnRlciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaW1Cb2FyZC51cGRhdGUoZGVsdGEpO1xuICAgICAgICAgICAgZGVsdGEgLT0gdGltZXN0ZXA7XG4gICAgICAgICAgICBpZiAoKytudW1VcGRhdGVTdGVwcyA+PSAxMjQpIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9wKCk7XG4gICAgICAgICAgICAgICAgcGFuaWMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzaW1Cb2FyZC5kcmF3KCk7XG5cblxuICAgICAgICBsZXQgZyA9IHNpbUJvYXJkLmdvbGRfb25fZmllbGQoKS5sZW5ndGg7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGcpO1xuXG4gICAgICAgIGlmIChnID4gMCkge1xuICAgICAgICAgICAgZnJhbWVJRCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShtYWluTG9vcCk7IFxuICAgICAgICB9IGVsc2UgeyBcbiAgICAgICAgICAgIHN0b3AoKTsgXG4gICAgICAgICAgICBlbmRTaW0oKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgc3RhcnQoKTtcblxuICAgIGZ1bmN0aW9uIGVuZFNpbSAoKSB7XG4gICAgICAgIHNpbUJvYXJkLmZsZWV0cy5mb3JFYWNoKChmLGkpID0+IHtcbiAgICAgICAgICAgIGxldCBnb2xkID0gZi5zX2FycmF5LnJlZHVjZSgoYSxzLGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYStzLmdvbGQ7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIHNjb3Jlcy5wdXNoKGdvbGQpO1xuICAgICAgICAgICAgZGF0YVtpXS5nb2xkICs9IGdvbGQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpKzEsIGYuYmFubmVyLCBnb2xkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNpbUJvYXJkLmNsZWFyKCk7XG4gICAgICAgIGRpc3BsYXlEYXRhKCk7XG4gICAgICAgIGl0ZXItLTtcbiAgICAgICAgaWYgKGl0ZXI+MCkge1xuICAgICAgICAgICAgLy8gdGhlIHBvaW50IG9mIHJlY3Vyc2lvblxuICAgICAgICAgICAgcnVuU2ltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGRpc3BsYXlBdmVyYWdlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbXBsZXRlXCIpO1xuICAgICAgICB9XG4gICAgfVxufS8vIGZ1bmN0aW9uIHJ1blNpbVxuXG5ydW5TaW0oKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=