!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){var s=i(1);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(3)(s,n);s.locals&&(t.exports=s.locals)},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".s-white {\n  background: #eeeeee;\n  color: #222222; }\n\n.s-red {\n  background: #cc1111;\n  color: #ff88ff; }\n\n.s-blue {\n  background: #1166bb;\n  color: #22cccc; }\n\n.s-green {\n  background: #008800;\n  color: #cccc44; }\n\n.s-purple {\n  background: #8855ee;\n  color: #008800; }\n\n#board {\n  position: relative;\n  height: 100vh;\n  width: 100vh;\n  background: #222222;\n  overflow: hidden; }\n\n#data-display {\n  position: absolute;\n  right: 5%;\n  top: 5%; }\n\n.ship {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  font-size: 18px;\n  line-height: 14px;\n  font-family: 'Roboto Mono', monospace;\n  text-align: center;\n  clip-path: polygon(0% 100%, 50% 0%, 100% 100%); }\n\n.gold {\n  position: absolute;\n  height: 2px;\n  width: 2px;\n  left: 0;\n  top: 0;\n  background-color: gold;\n  box-shadow: 0 0 5px 1px gold; }\n",""])},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var n=(o=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),r=s.sources.map(function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"});return[i].concat(r).concat([n]).join("\n")}var o;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},n=0;n<this.length;n++){var r=this[n][0];null!=r&&(s[r]=!0)}for(n=0;n<t.length;n++){var o=t[n];null!=o[0]&&s[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(t,e,i){var s,n,r={},o=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=s.apply(this,arguments)),n}),a=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var s=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,i);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}}(),h=null,l=0,u=[],c=i(4);function f(t,e){for(var i=0;i<t.length;i++){var s=t[i],n=r[s.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](s.parts[o]);for(;o<s.parts.length;o++)n.parts.push(m(s.parts[o],e))}else{var a=[];for(o=0;o<s.parts.length;o++)a.push(m(s.parts[o],e));r[s.id]={id:s.id,refs:1,parts:a}}}}function d(t,e){for(var i=[],s={},n=0;n<t.length;n++){var r=t[n],o=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};s[o]?s[o].parts.push(a):i.push(s[o]={id:o,parts:[a]})}return i}function p(t,e){var i=a(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=u[u.length-1];if("top"===t.insertAt)s?s.nextSibling?i.insertBefore(e,s.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),u.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=a(t.insertAt.before,i);i.insertBefore(e,n)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function w(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var s=function(){0;return i.nc}();s&&(t.attrs.nonce=s)}return b(e,t.attrs),p(t,e),e}function b(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function m(t,e){var i,s,n,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var o=l++;i=h||(h=w(e)),s=_.bind(null,i,o,!1),n=_.bind(null,i,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),p(t,e),e}(e),s=function(t,e,i){var s=i.css,n=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||r)&&(s=c(s));n&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([s],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,i,e),n=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=w(e),s=function(t,e){var i=e.css,s=e.media;s&&t.setAttribute("media",s);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),n=function(){g(i)});return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=d(t,e);return f(i,e),function(t){for(var s=[],n=0;n<i.length;n++){var o=i[n];(a=r[o.id]).refs--,s.push(a)}t&&f(d(t,e),e);for(n=0;n<s.length;n++){var a;if(0===(a=s[n]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete r[a.id]}}}};var v,y=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function _(t,e,i,s){var n=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=y(e,n);else{var r=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,s=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:s+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,i){"use strict";i.r(e);i(0);function s(t,e){return Math.floor(Math.random()*e-t)+t}function n(t){return Math.pow(t,2)}class r{constructor(t){this.idx=t,this.x=s(0,1e3),this.y=s(0,1e3),this.held_by="none",this.init()}draw(){this.DOMh.style.left=`${this.x/10}%`,this.DOMh.style.top=`${this.y/10}%`}remove(){this.DOMh.remove()}init(){this.DOMh=document.createElement("div"),this.DOMh.setAttribute("id",`g-${this.idx}`),this.DOMh.classList.add(...["gold"]),this.draw()}}class o{constructor(t,e,i,s,n){this.banner=t,this.style=e,this.insignia=i,this.idx=n,this.shield=s[0],this.weapon=s[1],this.engine=s[2],this.fraction=.05,this.speed=this.engine*this.fraction,this.status=0,this.shieldStatus=s[0],this.gold=0,this.init()}init(){let t=["ship",`s-${this.idx}`,`s-${this.banner}`,`s-${this.style}`];this.DOMh=document.createElement("div"),this.DOMh.classList.add(...t),this.DOMh.textContent=this.insignia,this.getInitialPosition(),this.draw()}move(t){this.x+=this.vx*this.fraction*this.speed*t,this.y+=this.vy*this.fraction*this.speed*t}draw(){this.DOMh.style.left=`${this.x/10}%`,this.DOMh.style.top=`${this.y/10}%`}getInitialPosition(){this.x=s(1,1e3),this.y=s(1,1e3)}resetVector(){let t=this.gt.x-this.x,e=this.gt.y-this.y,i=Math.abs(t),s=Math.abs(e),r=n(t)+n(e);this.vx=t*i/r,this.vy=e*s/r}acquireGold(){this.gold+=1}setGoldTarget(t){let e=2016400;t.forEach((t,i)=>{let s=t.x-this.x,r=t.y-this.y,o=n(s)+n(r);void 0===this.gt&&(this.gt=t,e=o),o<=e&&(this.gt=t,e=o)}),this.resetVector()}setEnemyTarget(t){let e=2e6,i=function(t){return Math.pow(t,2)};t.forEach(t=>{t.s_array.forEach(t=>{let s=this.x-t.x,n=(this.y,t.y,i(s)+i(s));void 0===this.et&&(this.et=t,e=n,this.et_d=e),n<=e&&(this.et=t,e=n,this.et_d=e)})})}attackEnemy(){let t=this.et_d/n(200);s(0,Math.floor(Math.random()*(1-t)*9))>=2&&this.et.getAttacked(this.weapon),this.incrementStunnedTimer()}getAttacked(t){this.shieldStatus-=t,this.shieldStatus<=0&&(this.speed=(this.engine+this.shieldStatus)*this.fraction),this.startStunnedTimer()}startStunnedTimer(){this.status=3}incrementStunnedTimer(){this.status>0&&this.status--,0===this.status&&(this.speed=this.engine*this.fraction,this.shieldStatus=this.shield)}}class a{constructor(t){this.banner=t,this.styles=["standard","swift","transport","gunner","speeder"],this.insignias={standard:"o",swift:"V",transport:"-",gunner:"*",speeder:"w"},this.baselines={sh:20,wp:10,eg:15},this.multipliers={sh:2,wp:2,eg:2},this.features={shields:[{power:this.baselines.sh+0*this.multipliers.sh,owned_by:["gunner"]},{power:this.baselines.sh+1*this.multipliers.sh,owned_by:["swift","speeder"]},{power:this.baselines.sh+2*this.multipliers.sh,owned_by:["standard"]},{power:this.baselines.sh+3*this.multipliers.sh,owned_by:[""]},{power:this.baselines.sh+4*this.multipliers.sh,owned_by:["transport"]}],weapons:[{power:this.baselines.wp+0*this.multipliers.wp,owned_by:["transport"]},{power:this.baselines.wp+1*this.multipliers.wp,owned_by:["speeder"]},{power:this.baselines.wp+2*this.multipliers.wp,owned_by:["standard","swift"]},{power:this.baselines.wp+3*this.multipliers.wp,owned_by:[]},{power:this.baselines.wp+4*this.multipliers.wp,owned_by:["gunner"]}],engines:[{power:this.baselines.eg+0*this.multipliers.eg,owned_by:[]},{power:this.baselines.eg+1*this.multipliers.eg,owned_by:[]},{power:this.baselines.eg+2*this.multipliers.eg,owned_by:["standard","transport","gunner"]},{power:this.baselines.eg+3*this.multipliers.eg,owned_by:["swift"]},{power:this.baselines.eg+4*this.multipliers.eg,owned_by:["speeder"]}]},this.profiles={standard:[this.features.shields[2].power,this.features.weapons[2].power,this.features.engines[2].power],swift:[this.features.shields[1].power,this.features.weapons[2].power,this.features.engines[3].power],transport:[this.features.shields[4].power,this.features.weapons[0].power,this.features.engines[2].power],gunner:[this.features.shields[0].power,this.features.weapons[4].power,this.features.engines[2].power],speeder:[this.features.shields[1].power,this.features.weapons[1].power,this.features.engines[4].power]}}buildShip(t,e,i){let s=this.profiles[e],n=this.insignias[e];return new o(t,e,n,s,i)}adjustMultipliers(){for(let t in this.multipliers)this.multipliers[t]+=1}getMultipliers(){for(let t in this.multipliers)console.log(this.multipliers[t])}}class h{constructor(t,e,i){this.banner=t,this.money=e,this.s_array=[],this.strategy=i,this.sf=new a(this.banner),this.init()}getNumShips(){return this.s_array.length}purchaseShips(){let t=this.strategy.standard,e=0;for(;t>e+1;)this.s_array.push(this.sf.buildShip(this.banner,"standard",e)),e++}init(){console.log("new Fleet",this.banner),this.purchaseShips()}}class l{constructor(){this.num_gold=900,this.money_per_fleet=15e4,this.DOMh=document.getElementById("board"),this.fleets=[new h("red",this.money_per_fleet,{standard:20,swift:0,transport:0,gunner:0,speeder:0}),new h("green",this.money_per_fleet,{standard:20,swift:0,transport:0,gunner:0,speeder:0}),new h("blue",this.money_per_fleet,{standard:20,swift:0,transport:0,gunner:0,speeder:0})],this.gold_pieces=[],this.init()}placeGold(){for(let t=0;t<this.num_gold;t++){let e=new r(t);this.gold_pieces.push(e)}}gold_on_field(){return this.gold_pieces.filter(t=>"none"===t.held_by)}init(){this.placeGold(),this.setTargets(this.fleets),this.fleets.forEach(t=>{t.s_array.forEach(t=>{this.DOMh.appendChild(t.DOMh)})}),this.gold_pieces.forEach(t=>{this.DOMh.appendChild(t.DOMh)})}setTargets(){this.fleets.forEach((t,e)=>{let i=this.fleets.filter((t,i)=>i!==e);t.s_array.forEach(t=>{t.setGoldTarget(this.gold_on_field()),t.setEnemyTarget(i)})})}makeAttacks(){this.fleets.forEach((t,e)=>{t.s_array.forEach(t=>{t.attackEnemy()})})}doHitDetect(){this.fleets.forEach(t=>{t.s_array.forEach(t=>{this.gold_pieces.forEach(e=>{n(e.x-t.x)+n(e.y-t.y)<25&&"none"===e.held_by&&this.removeGold(e,t)})})})}removeGold(t,e){t.held_by=e.profile,e.acquireGold(),this.setTargets(this.fleets),t.remove()}draw(){this.doHitDetect(),this.fleets.forEach(t=>{t.s_array.forEach(t=>{t.draw()})})}update(t){this.fleets.forEach(e=>{e.s_array.forEach(e=>{e.move(t)})})}oneSecUpdate(){this.makeAttacks()}twoSecUpdate(){this.setTargets()}clear(){for(;this.DOMh.firstChild;)this.DOMh.removeChild(this.DOMh.firstChild)}}let u=!0,c=20,f=[{banner:"red",gold:0},{banner:"green",gold:0},{banner:"blue",gold:0}];!function t(){u=!1;let e=new l,i=0,s=0,n=0,r=100,o=0,a=10,h=!1,d=!1;let p=0,g=0;function w(s){if(s<n+1e3/r)return void(i=requestAnimationFrame(w));o+=s-n,n=s;let l=0;for(;o>=a;)if(++g>74&&(e.oneSecUpdate(),g=0),++p>199&&(e.twoSecUpdate(),p=0),e.update(o),o-=a,++l>=124){o=0,console.log("panic");break}e.draw(),e.gold_on_field().length>0?i=requestAnimationFrame(w):(h=!1,d=!1,cancelAnimationFrame(i),e.fleets.forEach((t,e)=>{let i=t.s_array.reduce((t,e,i)=>t+e.gold,0);f[e].gold+=i,console.log(e+1,t.banner,i)}),e.clear(),document.querySelector("#r-score").textContent=f[0].gold,document.querySelector("#g-score").textContent=f[1].gold,document.querySelector("#b-score").textContent=f[2].gold,u=!0,--c>0&&t())}d||(d=!0,i=requestAnimationFrame(function(t){e.draw(),h=!0,n=t,s=t,i=requestAnimationFrame(w)}))}(),console.log("complete")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3M/ZjhmMyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvR29sZFBpZWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9TaGlwLmpzIiwid2VicGFjazovLy8uL3NyYy9TaGlwRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmxlZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0JvYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbnRlbnQiLCJvcHRpb25zIiwiaG1yIiwidHJhbnNmb3JtIiwiaW5zZXJ0SW50byIsInVuZGVmaW5lZCIsImxvY2FscyIsInB1c2giLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJpZCIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInRhcmdldCIsInBhcmVudCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsImoiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiRXJyb3IiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJzIiwidHlwZSIsIm5vbmNlIiwibmMiLCJnZXROb25jZSIsImFkZEF0dHJzIiwiZWwiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInVwZGF0ZSIsInJlbW92ZSIsInJlc3VsdCIsImRlZmF1bHQiLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsImxvY2F0aW9uIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsInJlcGxhY2UiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwidHJpbSIsIiQxIiwidGVzdCIsInJhbmRvbU1NIiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic3F1YXJlTnVtIiwicG93IiwiR29sZFBpZWNlX0dvbGRQaWVjZSIsIltvYmplY3QgT2JqZWN0XSIsIngiLCJ5IiwiaGVsZF9ieSIsImluaXQiLCJET01oIiwibGVmdCIsInRvcCIsImNsYXNzTGlzdCIsImFkZCIsImRyYXciLCJTaGlwX1NoaXAiLCJiYW5uZXIiLCJpbnNpZ25pYSIsInByb2ZpbGUiLCJzaGllbGQiLCJ3ZWFwb24iLCJlbmdpbmUiLCJmcmFjdGlvbiIsInNwZWVkIiwic3RhdHVzIiwic2hpZWxkU3RhdHVzIiwiZ29sZCIsImNsYXNzZXMiLCJ0ZXh0Q29udGVudCIsImdldEluaXRpYWxQb3NpdGlvbiIsImRlbHRhIiwidngiLCJ2eSIsIm12eCIsImd0IiwibXZ5IiwiYW12eCIsImFicyIsImFtdnkiLCJtYWciLCJnb2xkX29uX2ZpZWxkIiwiZ3RfZGlzdGFuY2Vfc3EiLCJpX2ciLCJ4X2Rpc3RhbmNlIiwieV9kaXN0YW5jZSIsImlfZ19kaXN0YW5jZV9zcSIsInJlc2V0VmVjdG9yIiwiZW5lbWllcyIsImV0X2Rpc3RhbmNlX3NxIiwiZiIsInNfYXJyYXkiLCJpX2UiLCJpX2VfZGlzdGFuY2Vfc3EiLCJldCIsImV0X2QiLCJtaXNzX3JhdGUiLCJnZXRBdHRhY2tlZCIsImluY3JlbWVudFN0dW5uZWRUaW1lciIsImRhbWFnZSIsInN0YXJ0U3R1bm5lZFRpbWVyIiwiU2hpcEZhY3RvcnlfU2hpcEZhY3RvcnkiLCJpbnNpZ25pYXMiLCJzdGFuZGFyZCIsInN3aWZ0IiwidHJhbnNwb3J0IiwiZ3VubmVyIiwic3BlZWRlciIsImJhc2VsaW5lcyIsInNoIiwid3AiLCJlZyIsIm11bHRpcGxpZXJzIiwiZmVhdHVyZXMiLCJzaGllbGRzIiwicG93ZXIiLCJvd25lZF9ieSIsIndlYXBvbnMiLCJlbmdpbmVzIiwicHJvZmlsZXMiLCJjb2xvciIsImNvbnNvbGUiLCJsb2ciLCJGbGVldF9GbGVldCIsIm1vbmV5Iiwic3RyYXRlZ3kiLCJzZiIsIm51bUFWIiwiYnVpbGRTaGlwIiwicHVyY2hhc2VTaGlwcyIsIkJvYXJkX0JvYXJkIiwibnVtX2dvbGQiLCJtb25leV9wZXJfZmxlZXQiLCJnZXRFbGVtZW50QnlJZCIsImZsZWV0cyIsImdvbGRfcGllY2VzIiwiZ3AiLCJnIiwicGxhY2VHb2xkIiwic2V0VGFyZ2V0cyIsImZmIiwic2V0R29sZFRhcmdldCIsInNldEVuZW15VGFyZ2V0IiwiYXR0YWNrRW5lbXkiLCJyZW1vdmVHb2xkIiwiYWNxdWlyZUdvbGQiLCJkb0hpdERldGVjdCIsIm1vdmUiLCJtYWtlQXR0YWNrcyIsInJlYWR5IiwiaXRlciIsImRhdGEiLCJydW5TaW0iLCJzaW1Cb2FyZCIsImZyYW1lSUQiLCJsYXN0RnBzVXBkYXRlIiwibGFzdEZyYW1lVGltZU1zIiwibWF4RlBTIiwidGltZXN0ZXAiLCJydW5uaW5nIiwic3RhcnRlZCIsImlpX2NvdW50ZXIiLCJpX2NvdW50ZXIiLCJtYWluTG9vcCIsInRpbWVzdGFtcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm51bVVwZGF0ZVN0ZXBzIiwib25lU2VjVXBkYXRlIiwidHdvU2VjVXBkYXRlIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZWR1Y2UiLCJhIiwiY2xlYXIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElB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IFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL3N0eWxlLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGUuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGUuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnMtd2hpdGUge1xcbiAgYmFja2dyb3VuZDogI2VlZWVlZTtcXG4gIGNvbG9yOiAjMjIyMjIyOyB9XFxuXFxuLnMtcmVkIHtcXG4gIGJhY2tncm91bmQ6ICNjYzExMTE7XFxuICBjb2xvcjogI2ZmODhmZjsgfVxcblxcbi5zLWJsdWUge1xcbiAgYmFja2dyb3VuZDogIzExNjZiYjtcXG4gIGNvbG9yOiAjMjJjY2NjOyB9XFxuXFxuLnMtZ3JlZW4ge1xcbiAgYmFja2dyb3VuZDogIzAwODgwMDtcXG4gIGNvbG9yOiAjY2NjYzQ0OyB9XFxuXFxuLnMtcHVycGxlIHtcXG4gIGJhY2tncm91bmQ6ICM4ODU1ZWU7XFxuICBjb2xvcjogIzAwODgwMDsgfVxcblxcbiNib2FyZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBoZWlnaHQ6IDEwMHZoO1xcbiAgd2lkdGg6IDEwMHZoO1xcbiAgYmFja2dyb3VuZDogIzIyMjIyMjtcXG4gIG92ZXJmbG93OiBoaWRkZW47IH1cXG5cXG4jZGF0YS1kaXNwbGF5IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiA1JTtcXG4gIHRvcDogNSU7IH1cXG5cXG4uc2hpcCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTJweDtcXG4gIGhlaWdodDogMTJweDtcXG4gIGZvbnQtc2l6ZTogMThweDtcXG4gIGxpbmUtaGVpZ2h0OiAxNHB4O1xcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8gTW9ubycsIG1vbm9zcGFjZTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGNsaXAtcGF0aDogcG9seWdvbigwJSAxMDAlLCA1MCUgMCUsIDEwMCUgMTAwJSk7IH1cXG5cXG4uZ29sZCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBoZWlnaHQ6IDJweDtcXG4gIHdpZHRoOiAycHg7XFxuICBsZWZ0OiAwO1xcbiAgdG9wOiAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogZ29sZDtcXG4gIGJveC1zaGFkb3c6IDAgMCA1cHggMXB4IGdvbGQ7IH1cXG5cIiwgXCJcIl0pO1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gJ0BtZWRpYSAnICsgaXRlbVsyXSArICd7JyArIGNvbnRlbnQgKyAnfSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gbW9kdWxlc1tpXTsgLy8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuICAgICAgLy8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcbiAgICAgIC8vIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cbiAgICAgIC8vIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblxuICAgICAgaWYgKGl0ZW1bMF0gPT0gbnVsbCB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBpZiAobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2UgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICBpdGVtWzJdID0gJygnICsgaXRlbVsyXSArICcpIGFuZCAoJyArIG1lZGlhUXVlcnkgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG4gIHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59IiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbU1NIChtaW4sbWF4KSB7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbWF4LW1pbikrbWluO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZU51bSAobikge1xuICByZXR1cm4gTWF0aC5wb3cobiwyKTtcbn07IiwiaW1wb3J0IHsgcmFuZG9tTU0gfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIEdvbGRQaWVjZSB7XG5cdGNvbnN0cnVjdG9yIChpZHgpIHtcblx0XHR0aGlzLmlkeCA9IGlkeDtcblx0XHR0aGlzLnggPSByYW5kb21NTSgwLDEwMDApO1xuXHRcdHRoaXMueSA9IHJhbmRvbU1NKDAsMTAwMCk7XG5cdFx0dGhpcy5oZWxkX2J5ID0gXCJub25lXCI7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRkcmF3ICgpIHtcblx0XHR0aGlzLkRPTWguc3R5bGUubGVmdCA9IGAke3RoaXMueC8xMH0lYDtcblx0XHR0aGlzLkRPTWguc3R5bGUudG9wID0gYCR7dGhpcy55LzEwfSVgO1xuXHR9XG5cblx0cmVtb3ZlICgpIHtcblx0XHR0aGlzLkRPTWgucmVtb3ZlKCk7XG5cdH1cblxuXHRpbml0KCkge1xuXHRcdGxldCBjbGFzc2VzID0gWydnb2xkJ107XG5cdFx0dGhpcy5ET01oID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dGhpcy5ET01oLnNldEF0dHJpYnV0ZShcImlkXCIsIGBnLSR7dGhpcy5pZHh9YCk7XG5cdFx0dGhpcy5ET01oLmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XG5cdFx0dGhpcy5kcmF3KCk7XG5cdH1cbn0iLCJpbXBvcnQgeyByYW5kb21NTSwgc3F1YXJlTnVtIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBTaGlwIHtcblxuXHRjb25zdHJ1Y3RvciAoYmFubmVyLCBzdHlsZSwgaW5zaWduaWEsIHByb2ZpbGUsIGlkeCkge1xuXHRcdHRoaXMuYmFubmVyID0gYmFubmVyO1xuXHRcdHRoaXMuc3R5bGUgPSBzdHlsZTtcblx0XHR0aGlzLmluc2lnbmlhID0gaW5zaWduaWE7XG5cdFx0dGhpcy5pZHggPSBpZHg7XG5cdFx0dGhpcy5zaGllbGQgPSBwcm9maWxlWzBdO1xuXHRcdHRoaXMud2VhcG9uID0gcHJvZmlsZVsxXTtcblx0XHR0aGlzLmVuZ2luZSA9IHByb2ZpbGVbMl07XG5cdFx0dGhpcy5mcmFjdGlvbiA9IDAuMDU7XG5cdFx0dGhpcy5zcGVlZCA9IHRoaXMuZW5naW5lICogdGhpcy5mcmFjdGlvbjtcblx0XHR0aGlzLnN0YXR1cyA9IDA7XG5cdFx0dGhpcy5zaGllbGRTdGF0dXMgPSBwcm9maWxlWzBdO1xuXHRcdHRoaXMuZ29sZCA9IDA7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRpbml0ICgpIHtcblx0XHRsZXQgY2xhc3NlcyA9IFsnc2hpcCcsYHMtJHt0aGlzLmlkeH1gLCBgcy0ke3RoaXMuYmFubmVyfWAsIGBzLSR7dGhpcy5zdHlsZX1gXTtcblx0XHR0aGlzLkRPTWggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR0aGlzLkRPTWguY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKTtcblx0XHR0aGlzLkRPTWgudGV4dENvbnRlbnQgPSB0aGlzLmluc2lnbmlhO1xuXHRcdHRoaXMuZ2V0SW5pdGlhbFBvc2l0aW9uKCk7XG5cdFx0dGhpcy5kcmF3KCk7XG5cdH1cblxuXHRtb3ZlIChkZWx0YSkge1xuXHRcdHRoaXMueCArPSB0aGlzLnZ4ICogdGhpcy5mcmFjdGlvbiAqIHRoaXMuc3BlZWQgKiBkZWx0YTtcblx0XHR0aGlzLnkgKz0gdGhpcy52eSAqIHRoaXMuZnJhY3Rpb24gKiB0aGlzLnNwZWVkICogZGVsdGE7XG5cdH1cblxuXHRkcmF3ICgpIHtcblx0XHR0aGlzLkRPTWguc3R5bGUubGVmdCA9IGAke3RoaXMueC8xMH0lYDtcblx0XHR0aGlzLkRPTWguc3R5bGUudG9wID0gYCR7dGhpcy55LzEwfSVgO1xuXHR9XG5cblx0Z2V0SW5pdGlhbFBvc2l0aW9uICgpIHtcblx0XHR0aGlzLnggPSByYW5kb21NTSgxLDEwMDApO1xuXHRcdHRoaXMueSA9IHJhbmRvbU1NKDEsMTAwMCk7XG5cdH1cblxuXHRyZXNldFZlY3RvciAoKSB7XG5cdFx0bGV0IG12eCA9IHRoaXMuZ3QueCAtIHRoaXMueDtcblx0XHRsZXQgbXZ5ID0gdGhpcy5ndC55IC0gdGhpcy55O1xuXHRcdGxldCBhbXZ4ID0gTWF0aC5hYnMobXZ4KTtcblx0XHRsZXQgYW12eSA9IE1hdGguYWJzKG12eSk7XG5cdFx0bGV0IG1hZyA9IHNxdWFyZU51bShtdngpK3NxdWFyZU51bShtdnkpO1xuXHRcdHRoaXMudnggPSBtdngqYW12eCAvIG1hZztcblx0XHR0aGlzLnZ5ID0gbXZ5KmFtdnkgLyBtYWc7XG5cdFx0Ly8gY29uc29sZS5sb2codGhpcy52eCx0aGlzLnZ5KTtcblx0fVxuXG5cdGFjcXVpcmVHb2xkICgpIHtcblx0XHR0aGlzLmdvbGQgKz0gMTtcblx0XHQvLyBjb25zb2xlLmxvZyh0aGlzLmFzc2V0cyk7XG5cdH1cblxuXHRzZXRHb2xkVGFyZ2V0KGdvbGRfb25fZmllbGQpIHtcblxuXHRcdGxldCBndF9kaXN0YW5jZV9zcSA9IDIwMTY0ICogMTAwOyAgLy8gc2hvdWxkbid0IG1hdHRlclxuXG5cdFx0Z29sZF9vbl9maWVsZC5mb3JFYWNoKChpX2csIGkpID0+IHtcblx0XHRcdGxldCB4X2Rpc3RhbmNlID0gaV9nLnggLSB0aGlzLng7XG5cdFx0XHRsZXQgeV9kaXN0YW5jZSA9IGlfZy55IC0gdGhpcy55O1xuXHRcdFx0bGV0IGlfZ19kaXN0YW5jZV9zcSA9IHNxdWFyZU51bSh4X2Rpc3RhbmNlKSArIHNxdWFyZU51bSh5X2Rpc3RhbmNlKTtcblxuXHRcdFx0aWYgKHR5cGVvZih0aGlzLmd0KSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0dGhpcy5ndCA9IGlfZztcblx0XHRcdFx0Z3RfZGlzdGFuY2Vfc3EgPSBpX2dfZGlzdGFuY2Vfc3E7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaV9nX2Rpc3RhbmNlX3NxIDw9IGd0X2Rpc3RhbmNlX3NxKSB7XG5cdFx0XHRcdHRoaXMuZ3QgPSBpX2c7XG5cdFx0XHRcdGd0X2Rpc3RhbmNlX3NxID0gaV9nX2Rpc3RhbmNlX3NxO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdC8vIGNvbnNvbGUubG9nKGd0X2Rpc3RhbmNlX3NxLCBcImd0IGRpc3RhbmNlXCIpO1xuXHRcdHRoaXMucmVzZXRWZWN0b3IoKTtcblx0fVxuXG5cdHNldEVuZW15VGFyZ2V0KGVuZW1pZXMpIHtcblx0XHRsZXQgZXRfZGlzdGFuY2Vfc3EgPSAxMDAwICogMTAwMCAqIDI7XG5cblx0XHRsZXQgc3F1YXJlTnVtID0gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIE1hdGgucG93KG4sMik7IH07XG5cblx0XHRlbmVtaWVzLmZvckVhY2goKGYpID0+IHtcblx0XHRcdGYuc19hcnJheS5mb3JFYWNoKChpX2UpID0+IHtcblx0XHRcdFx0bGV0IHhfZGlzdGFuY2UgPSB0aGlzLnggLSBpX2UueDtcblx0XHRcdFx0bGV0IHlfZGlzdGFuY2UgPSB0aGlzLnkgLSBpX2UueTtcblx0XHRcdFx0bGV0IGlfZV9kaXN0YW5jZV9zcSA9IHNxdWFyZU51bSh4X2Rpc3RhbmNlKSArIHNxdWFyZU51bSh4X2Rpc3RhbmNlKTtcblxuXHRcdFx0XHRpZiAodHlwZW9mKHRoaXMuZXQpID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdHRoaXMuZXQgPSBpX2U7XG5cdFx0XHRcdFx0ZXRfZGlzdGFuY2Vfc3EgPSBpX2VfZGlzdGFuY2Vfc3E7XG5cdFx0XHRcdFx0dGhpcy5ldF9kID0gZXRfZGlzdGFuY2Vfc3E7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGlfZV9kaXN0YW5jZV9zcSA8PSBldF9kaXN0YW5jZV9zcSkge1xuXHRcdFx0XHRcdHRoaXMuZXQgPSBpX2U7XG5cdFx0XHRcdFx0ZXRfZGlzdGFuY2Vfc3EgPSBpX2VfZGlzdGFuY2Vfc3E7XG5cdFx0XHRcdFx0dGhpcy5ldF9kID0gZXRfZGlzdGFuY2Vfc3E7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0YXR0YWNrRW5lbXkoKSB7XG5cdFx0bGV0IG1heF9kX2F0dGFjayA9IDIwMDtcblx0XHRsZXQgbWlzc19yYXRlID0gdGhpcy5ldF9kIC8gc3F1YXJlTnVtKG1heF9kX2F0dGFjaykgO1xuXHRcdGxldCBhY2N1cmFjeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooMS1taXNzX3JhdGUpKjkpO1xuXHRcdGxldCByYW4gPSByYW5kb21NTSgwLGFjY3VyYWN5KTtcblx0XHRpZiAocmFuID49IDIpIHtcblx0XHRcdHRoaXMuZXQuZ2V0QXR0YWNrZWQodGhpcy53ZWFwb24pO1xuXHRcdH1cblx0XHR0aGlzLmluY3JlbWVudFN0dW5uZWRUaW1lcigpO1xuXHR9XG5cblx0Z2V0QXR0YWNrZWQoZGFtYWdlKSB7XG5cdFx0Ly8gY29uc29sZS5sb2coXCJkYW1hZ2VcIiwgdGhpcy5zaGllbGRTdGF0dXMpO1xuXHRcdHRoaXMuc2hpZWxkU3RhdHVzIC09IGRhbWFnZTtcblx0XHRpZiAodGhpcy5zaGllbGRTdGF0dXM8PTApIHtcblx0XHRcdHRoaXMuc3BlZWQgPSAodGhpcy5lbmdpbmUrdGhpcy5zaGllbGRTdGF0dXMpICogdGhpcy5mcmFjdGlvbjtcblx0XHR9XG5cdFx0dGhpcy5zdGFydFN0dW5uZWRUaW1lcigpO1xuXHR9XG5cblx0c3RhcnRTdHVubmVkVGltZXIgKCkge1xuXHRcdC8vIGNvbnNvbGUubG9nKFwiZ290IHN0dW5uZWRcIiwgdGhpcy5zcGVlZCk7XG5cdFx0dGhpcy5zdGF0dXMgPSAzO1xuXHR9XG5cblx0aW5jcmVtZW50U3R1bm5lZFRpbWVyICgpIHtcblx0XHRpZiAodGhpcy5zdGF0dXMgPiAwKSB7XG5cdFx0XHR0aGlzLnN0YXR1cy0tO1xuXHRcdH1cblx0XHRpZiAodGhpcy5zdGF0dXMgPT09IDApIHtcblx0XHRcdHRoaXMuc3BlZWQgPSB0aGlzLmVuZ2luZSAqIHRoaXMuZnJhY3Rpb247XG5cdFx0XHR0aGlzLnNoaWVsZFN0YXR1cyA9IHRoaXMuc2hpZWxkO1xuXHRcdH1cblx0fVxuXG59IiwiaW1wb3J0IHsgcmFuZG9tTU0gfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IFNoaXAgfSBmcm9tICcuL1NoaXAuanMnO1xuXG5leHBvcnQgY2xhc3MgU2hpcEZhY3Rvcnkge1xuXG4gICAgY29uc3RydWN0b3IgKGJhbm5lcikge1xuICAgICAgICB0aGlzLmJhbm5lciA9IGJhbm5lcjtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBbJ3N0YW5kYXJkJywnc3dpZnQnLCd0cmFuc3BvcnQnLCdndW5uZXInLCdzcGVlZGVyJ107XG4gICAgICAgIHRoaXMuaW5zaWduaWFzID0ge1xuICAgICAgICAgICAgc3RhbmRhcmQ6ICdvJyxcbiAgICAgICAgICAgIHN3aWZ0OiAnVicsXG4gICAgICAgICAgICB0cmFuc3BvcnQ6ICctJyxcbiAgICAgICAgICAgIGd1bm5lcjogJyonLFxuICAgICAgICAgICAgc3BlZWRlcjogJ3cnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYmFzZWxpbmVzID0ge1xuICAgICAgICAgICAgc2g6IDIwLFxuICAgICAgICAgICAgd3A6IDEwLFxuICAgICAgICAgICAgZWc6IDE1XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXBsaWVycyA9ICB7XG4gICAgICAgICAgICBzaDogMixcbiAgICAgICAgICAgIHdwOiAyLFxuICAgICAgICAgICAgZWc6IDJcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmZlYXR1cmVzID0ge1xuICAgICAgICAgICAgc2hpZWxkczogW1xuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMuc2grKHRoaXMubXVsdGlwbGllcnMuc2gqMCksIG93bmVkX2J5OiBbJ2d1bm5lciddfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLnNoKyh0aGlzLm11bHRpcGxpZXJzLnNoKjEpLCBvd25lZF9ieTogWydzd2lmdCcsJ3NwZWVkZXInXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy5zaCsodGhpcy5tdWx0aXBsaWVycy5zaCoyKSwgb3duZWRfYnk6IFsnc3RhbmRhcmQnXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy5zaCsodGhpcy5tdWx0aXBsaWVycy5zaCozKSwgb3duZWRfYnk6IFsnJ119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMuc2grKHRoaXMubXVsdGlwbGllcnMuc2gqNCksIG93bmVkX2J5OiBbJ3RyYW5zcG9ydCddfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHdlYXBvbnM6IFtcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLndwKyh0aGlzLm11bHRpcGxpZXJzLndwKjApLCBvd25lZF9ieTogWyd0cmFuc3BvcnQnXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy53cCsodGhpcy5tdWx0aXBsaWVycy53cCoxKSwgb3duZWRfYnk6IFsnc3BlZWRlciddfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLndwKyh0aGlzLm11bHRpcGxpZXJzLndwKjIpLCBvd25lZF9ieTogWydzdGFuZGFyZCcsICdzd2lmdCddfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLndwKyh0aGlzLm11bHRpcGxpZXJzLndwKjMpLCBvd25lZF9ieTogW119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMud3ArKHRoaXMubXVsdGlwbGllcnMud3AqNCksIG93bmVkX2J5OiBbJ2d1bm5lciddfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGVuZ2luZXM6IFtcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLmVnKyh0aGlzLm11bHRpcGxpZXJzLmVnKjApLCBvd25lZF9ieTogW119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMuZWcrKHRoaXMubXVsdGlwbGllcnMuZWcqMSksIG93bmVkX2J5OiBbXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy5lZysodGhpcy5tdWx0aXBsaWVycy5lZyoyKSwgb3duZWRfYnk6IFsnc3RhbmRhcmQnLCd0cmFuc3BvcnQnLCdndW5uZXInXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy5lZysodGhpcy5tdWx0aXBsaWVycy5lZyozKSwgb3duZWRfYnk6IFsnc3dpZnQnXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy5lZysodGhpcy5tdWx0aXBsaWVycy5lZyo0KSwgb3duZWRfYnk6IFsnc3BlZWRlciddfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGxvb2t1cCByZXZlcnNlZCBmcm9tIGZlYXR1cmVzXG4gICAgICAgIHRoaXMucHJvZmlsZXMgPSB7XG4gICAgICAgICAgICBzdGFuZGFyZDogW3RoaXMuZmVhdHVyZXMuc2hpZWxkc1syXS5wb3dlcix0aGlzLmZlYXR1cmVzLndlYXBvbnNbMl0ucG93ZXIsdGhpcy5mZWF0dXJlcy5lbmdpbmVzWzJdLnBvd2VyXSxcbiAgICAgICAgICAgIHN3aWZ0OiBbdGhpcy5mZWF0dXJlcy5zaGllbGRzWzFdLnBvd2VyLHRoaXMuZmVhdHVyZXMud2VhcG9uc1syXS5wb3dlcix0aGlzLmZlYXR1cmVzLmVuZ2luZXNbM10ucG93ZXJdLFxuICAgICAgICAgICAgdHJhbnNwb3J0OiBbdGhpcy5mZWF0dXJlcy5zaGllbGRzWzRdLnBvd2VyLHRoaXMuZmVhdHVyZXMud2VhcG9uc1swXS5wb3dlcix0aGlzLmZlYXR1cmVzLmVuZ2luZXNbMl0ucG93ZXJdLFxuICAgICAgICAgICAgZ3VubmVyOiBbdGhpcy5mZWF0dXJlcy5zaGllbGRzWzBdLnBvd2VyLHRoaXMuZmVhdHVyZXMud2VhcG9uc1s0XS5wb3dlcix0aGlzLmZlYXR1cmVzLmVuZ2luZXNbMl0ucG93ZXJdLFxuICAgICAgICAgICAgc3BlZWRlcjogW3RoaXMuZmVhdHVyZXMuc2hpZWxkc1sxXS5wb3dlcix0aGlzLmZlYXR1cmVzLndlYXBvbnNbMV0ucG93ZXIsdGhpcy5mZWF0dXJlcy5lbmdpbmVzWzRdLnBvd2VyXVxuICAgICAgICB9XG4gICAgfSAvLyBjb25zdHJ1Y3RvclxuXG4gICAgYnVpbGRTaGlwIChjb2xvcixzdHlsZSxpZHgpIHtcbiAgICAgICAgbGV0IHByb2ZpbGUgPSB0aGlzLnByb2ZpbGVzW3N0eWxlXTtcbiAgICAgICAgbGV0IGluc2lnbmlhID0gdGhpcy5pbnNpZ25pYXNbc3R5bGVdO1xuICAgICAgICByZXR1cm4gbmV3IFNoaXAoY29sb3Isc3R5bGUsaW5zaWduaWEscHJvZmlsZSxpZHgpO1xuICAgIH1cblxuICAgIC8vIGFkanVzdCBtdWx0aXBsaWVyc1xuICAgIGFkanVzdE11bHRpcGxpZXJzICgpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMubXVsdGlwbGllcnMpIHtcbiAgICAgICAgICAgIHRoaXMubXVsdGlwbGllcnNba2V5XSArPTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRNdWx0aXBsaWVycyAoKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLm11bHRpcGxpZXJzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm11bHRpcGxpZXJzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxuXG59IiwiaW1wb3J0IFNoaXAgZnJvbSAnLi9TaGlwLmpzJztcbmltcG9ydCB7IFNoaXBGYWN0b3J5IH0gZnJvbSAnLi9TaGlwRmFjdG9yeS5qcyc7XG5cbmV4cG9ydCBjbGFzcyBGbGVldCB7XG5cblx0Y29uc3RydWN0b3IgKGJhbm5lcixtb25leSxzdHJhdGVneSkge1xuXHRcdHRoaXMuYmFubmVyID0gYmFubmVyO1xuXHRcdHRoaXMubW9uZXkgPSBtb25leTtcblx0XHR0aGlzLnNfYXJyYXkgPSBbXTtcblx0XHR0aGlzLnN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG5cdFx0dGhpcy5zZiA9IG5ldyBTaGlwRmFjdG9yeSh0aGlzLmJhbm5lcik7XG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRnZXROdW1TaGlwcyAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuc19hcnJheS5sZW5ndGg7XG5cdH1cblxuXHRwdXJjaGFzZVNoaXBzICgpIHtcblx0XHQvL3RoaXMuc3RyYXRlZ3kgPSB7c3RhbmRhcmQ6MTAwLHN3aWZ0OjAsdHJhbnNwb3J0OjAsZ3VubmVyOjAsc3BlZWRlcjowfTtcblx0XHRsZXQgbnVtQVYgPSB0aGlzLnN0cmF0ZWd5LnN0YW5kYXJkO1xuXHRcdGxldCBpID0gMDtcblx0XHR3aGlsZSAobnVtQVY+aSsxKSB7XG5cdFx0XHR0aGlzLnNfYXJyYXkucHVzaCh0aGlzLnNmLmJ1aWxkU2hpcCh0aGlzLmJhbm5lciwnc3RhbmRhcmQnLGkpKTtcblx0XHRcdGkrKztcblx0XHR9XG5cdH1cblxuXHRpbml0ICgpIHtcblx0XHRjb25zb2xlLmxvZygnbmV3IEZsZWV0JywgdGhpcy5iYW5uZXIpO1xuXHRcdHRoaXMucHVyY2hhc2VTaGlwcygpO1xuXHR9XG5cbn0iLCJpbXBvcnQgeyByYW5kb21NTSwgc3F1YXJlTnVtIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQge0dvbGRQaWVjZX0gZnJvbSAnLi9Hb2xkUGllY2UuanMnO1xuaW1wb3J0IHsgRmxlZXQgfSBmcm9tICcuL0ZsZWV0LmpzJztcblxuZXhwb3J0IGNsYXNzIEJvYXJkIHtcblx0Y29uc3RydWN0b3IgKCkge1xuXHRcdHRoaXMubnVtX2dvbGQgPSA5MDA7XG5cdFx0dGhpcy5tb25leV9wZXJfZmxlZXQgPSAxNTAwMDA7XG5cdFx0dGhpcy5ET01oID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JvYXJkJyk7XG5cdFx0dGhpcy5mbGVldHMgPSBbXG5cdFx0XHRuZXcgRmxlZXQoJ3JlZCcsdGhpcy5tb25leV9wZXJfZmxlZXQse3N0YW5kYXJkOjIwLHN3aWZ0OjAsdHJhbnNwb3J0OjAsZ3VubmVyOjAsc3BlZWRlcjowfSksXG5cdFx0XHRuZXcgRmxlZXQoJ2dyZWVuJyx0aGlzLm1vbmV5X3Blcl9mbGVldCx7c3RhbmRhcmQ6MjAsc3dpZnQ6MCx0cmFuc3BvcnQ6MCxndW5uZXI6MCxzcGVlZGVyOjB9KSxcblx0XHRcdG5ldyBGbGVldCgnYmx1ZScsdGhpcy5tb25leV9wZXJfZmxlZXQse3N0YW5kYXJkOjIwLHN3aWZ0OjAsdHJhbnNwb3J0OjAsZ3VubmVyOjAsc3BlZWRlcjowfSldO1xuXHRcdHRoaXMuZ29sZF9waWVjZXMgPSBbXTtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdHBsYWNlR29sZCAoKSB7XG5cdFx0Zm9yIChsZXQgaT0wO2k8dGhpcy5udW1fZ29sZDtpKyspIHtcblx0XHRcdGxldCBncCA9IG5ldyBHb2xkUGllY2UoaSk7XG5cdFx0XHR0aGlzLmdvbGRfcGllY2VzLnB1c2goZ3ApO1xuXHRcdH1cblx0fVxuXG5cdGdvbGRfb25fZmllbGQgKCkge1xuXHRcdGxldCBnb2YgPSB0aGlzLmdvbGRfcGllY2VzLmZpbHRlcihnID0+IGcuaGVsZF9ieT09PVwibm9uZVwiKTtcblx0XHRyZXR1cm4gZ29mO1xuXHR9XG5cblx0aW5pdCgpIHtcblx0XHR0aGlzLnBsYWNlR29sZCgpO1xuXHRcdHRoaXMuc2V0VGFyZ2V0cyh0aGlzLmZsZWV0cyk7XG5cdFx0dGhpcy5mbGVldHMuZm9yRWFjaCgoZikgPT4ge1xuXHRcdFx0Zi5zX2FycmF5LmZvckVhY2goKHMpID0+IHtcblx0XHRcdFx0dGhpcy5ET01oLmFwcGVuZENoaWxkKHMuRE9NaCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHR0aGlzLmdvbGRfcGllY2VzLmZvckVhY2goKGdwKSA9PiB7XG5cdFx0XHR0aGlzLkRPTWguYXBwZW5kQ2hpbGQoZ3AuRE9NaCk7XG5cdFx0fSk7XG5cdH1cblxuXHRzZXRUYXJnZXRzKCkge1xuXHRcdHRoaXMuZmxlZXRzLmZvckVhY2goKGYsaWR4KSA9PiB7XG5cdFx0XHRsZXQgZW5lbWllcyA9IHRoaXMuZmxlZXRzLmZpbHRlciggKGZmLGkpID0+IGkgIT09IGlkeCk7XG5cdFx0XHRmLnNfYXJyYXkuZm9yRWFjaCgocykgPT4ge1xuXHRcdFx0XHRzLnNldEdvbGRUYXJnZXQodGhpcy5nb2xkX29uX2ZpZWxkKCkpO1xuXHRcdFx0XHRzLnNldEVuZW15VGFyZ2V0KGVuZW1pZXMpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRtYWtlQXR0YWNrcygpIHtcblx0XHR0aGlzLmZsZWV0cy5mb3JFYWNoKChmLGlkeCkgPT4ge1xuXHRcdFx0Zi5zX2FycmF5LmZvckVhY2goKHMpID0+IHtcblx0XHRcdFx0cy5hdHRhY2tFbmVteSgpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRkb0hpdERldGVjdCAoKSB7XG5cdFx0dGhpcy5mbGVldHMuZm9yRWFjaCgoZikgPT4ge1xuXHRcdFx0Zi5zX2FycmF5LmZvckVhY2goKHMpID0+IHtcblx0XHRcdFx0dGhpcy5nb2xkX3BpZWNlcy5mb3JFYWNoKChncCkgPT4ge1xuXHRcdFx0XHRsZXQgZGlzdF9zcSA9IHNxdWFyZU51bShncC54LXMueCkgKyBzcXVhcmVOdW0oZ3AueS1zLnkpO1xuXHRcdFx0XHRpZiAoIGRpc3Rfc3EgPCAyNSAmJiBncC5oZWxkX2J5PT09XCJub25lXCIgKSB7XG5cdFx0XHRcdFx0dGhpcy5yZW1vdmVHb2xkKGdwLHMpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRyZW1vdmVHb2xkIChncCxzKSB7XG5cdFx0Z3AuaGVsZF9ieSA9IHMucHJvZmlsZTtcblx0XHRzLmFjcXVpcmVHb2xkKCk7XG5cdFx0dGhpcy5zZXRUYXJnZXRzKHRoaXMuZmxlZXRzKTtcblx0XHRncC5yZW1vdmUoKTtcblx0fVxuXG5cdGRyYXcgKCkge1xuXHRcdHRoaXMuZG9IaXREZXRlY3QoKTtcblx0XHR0aGlzLmZsZWV0cy5mb3JFYWNoKChmKSA9PiB7XG5cdFx0XHRmLnNfYXJyYXkuZm9yRWFjaCgocykgPT4ge1xuXHRcdFx0cy5kcmF3KCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHVwZGF0ZSAoZGVsdGEpIHtcblx0XHR0aGlzLmZsZWV0cy5mb3JFYWNoKChmKSA9PiB7XG5cdFx0XHRmLnNfYXJyYXkuZm9yRWFjaCgocykgPT4ge1xuXHRcdFx0XHRzLm1vdmUoZGVsdGEpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBob3cgdG8gbWFrZSB0aGlzIG1vcmUgZmx1aWQ/XG5cdG9uZVNlY1VwZGF0ZSAoKSB7XG5cdFx0dGhpcy5tYWtlQXR0YWNrcygpO1xuXHRcdC8vIGNvbnNvbGUubG9nKFwiMXNlYyBVcGRhdGVcIik7XG5cdH1cblxuXHR0d29TZWNVcGRhdGUgKCkge1xuXHRcdHRoaXMuc2V0VGFyZ2V0cygpO1xuXHRcdC8vIGNvbnNvbGUubG9nKFwiMnNlYyBVcGRhdGVcIik7XG5cdH1cblxuXHRjbGVhciAoKSB7XG5cdFx0d2hpbGUgKHRoaXMuRE9NaC5maXJzdENoaWxkKSB7XG5cdFx0XHR0aGlzLkRPTWgucmVtb3ZlQ2hpbGQodGhpcy5ET01oLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblx0fVxufSIsImltcG9ydCAnLi9zdHlsZS5zY3NzJztcbmltcG9ydCB7IEJvYXJkIH0gZnJvbSAnLi9Cb2FyZC5qcyc7XG5cbi8vIHJldmVudWUgb2YgYXZlcmFnZSBzaGlwOiA2NjtcblxuLy8gcnVuU2ltIGFuZCBjb2xsZWN0IERhdGEgaXRlciB0aW1lc1xubGV0IHJlYWR5ID0gdHJ1ZTtcbmxldCBpdGVyID0gMjA7XG5cbmxldCBkYXRhID0gW1xuICAgIHtiYW5uZXI6ICdyZWQnLCBnb2xkOiAwfSxcbiAgICB7YmFubmVyOiAnZ3JlZW4nLCBnb2xkOiAwfSxcbiAgICB7YmFubmVyOiAnYmx1ZScsIGdvbGQ6IDB9XG5dO1xuXG5sZXQgZGF0YUF2ZXJhZ2UgPSBmdW5jdGlvbiAoZGF0YSxpdGVyKSB7XG5cbn1cblxuZnVuY3Rpb24gZGlzcGxheURhdGEgKCkge1xuICAgIGxldCByU2NvcmVET01oID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Itc2NvcmUnKTtcbiAgICByU2NvcmVET01oLnRleHRDb250ZW50ID0gZGF0YVswXS5nb2xkO1xuICAgIGxldCBnU2NvcmVET01oID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ctc2NvcmUnKTtcbiAgICBnU2NvcmVET01oLnRleHRDb250ZW50ID0gZGF0YVsxXS5nb2xkO1xuICAgIGxldCBiU2NvcmVET01oID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Itc2NvcmUnKTtcbiAgICBiU2NvcmVET01oLnRleHRDb250ZW50ID0gZGF0YVsyXS5nb2xkO1xuICAgIHJlYWR5ID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcnVuU2ltICgpIHtcbiAgICByZWFkeSA9IGZhbHNlO1xuXG4gICAgbGV0IHNpbUJvYXJkID0gbmV3IEJvYXJkKCk7XG5cbiAgICBsZXQgZnJhbWVJRCA9IDAsXG4gICAgICAgIGxhc3RGcHNVcGRhdGUgPSAwLFxuICAgICAgICBsYXN0RnJhbWVUaW1lTXMgPSAwLFxuICAgICAgICBtYXhGUFMgPSAxMDAsXG4gICAgICAgIGRlbHRhID0gMCxcbiAgICAgICAgdGltZXN0ZXAgPSAxMDAwIC8gMTAwO1xuXG4gICAgbGV0IHJ1bm5pbmcgPSBmYWxzZSxcbiAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICBcbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWVJRCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmICghc3RhcnRlZCkgeyAvLyBkb24ndCByZXF1ZXN0IG11bHRpcGxlIGZyYW1lc1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAvLyBEdW1teSBmcmFtZSB0byBnZXQgb3VyIHRpbWVzdGFtcHMgYW5kIGluaXRpYWwgZHJhd2luZyByaWdodC5cbiAgICAgICAgICAgIC8vIFRyYWNrIHRoZSBmcmFtZSBJRCBzbyB3ZSBjYW4gY2FuY2VsIGl0IGlmIHdlIHN0b3AgcXVpY2tseS5cbiAgICAgICAgICAgIGZyYW1lSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24odGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgc2ltQm9hcmQuZHJhdygpOyAvLyBpbml0aWFsIHNpbUJvYXJkLmRyYXdcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyByZXNldCBzb21lIHRpbWUgdHJhY2tpbmcgbGV0YWJsZXNcbiAgICAgICAgICAgICAgICBsYXN0RnJhbWVUaW1lTXMgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgbGFzdEZwc1VwZGF0ZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICAvLyBhY3R1YWxseSBzdGFydCB0aGUgbWFpbiBsb29wXG4gICAgICAgICAgICAgICAgZnJhbWVJRCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShtYWluTG9vcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhbmljKCkge1xuICAgICAgICBkZWx0YSA9IDA7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicGFuaWNcIik7XG4gICAgfVxuXG4gICAgbGV0IGlpX2NvdW50ZXIgPSAwO1xuICAgIGxldCBpX2NvdW50ZXIgPSAwO1xuXG4gICAgZnVuY3Rpb24gbWFpbkxvb3AodGltZXN0YW1wKSB7XG4gICAgICAgIC8vIHRocm90dGxlIHRoZSBmcmFtZSByYXRlICBcbiAgICAgICAgaWYgKHRpbWVzdGFtcCA8IGxhc3RGcmFtZVRpbWVNcyArICgxMDAwIC8gbWF4RlBTKSkge1xuICAgICAgICAgICAgZnJhbWVJRCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShtYWluTG9vcCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIGNyZWF0ZSB2aXJ0dWFsIHRpbWVcbiAgICAgICAgZGVsdGEgKz0gdGltZXN0YW1wIC0gbGFzdEZyYW1lVGltZU1zO1xuICAgICAgICBsYXN0RnJhbWVUaW1lTXMgPSB0aW1lc3RhbXA7XG5cbiAgICAgICAgbGV0IG51bVVwZGF0ZVN0ZXBzID0gMDtcbiAgICAgICAgd2hpbGUgKGRlbHRhID49IHRpbWVzdGVwKSB7XG4gICAgICAgICAgICBpX2NvdW50ZXIrKztcbiAgICAgICAgICAgIGlmIChpX2NvdW50ZXIgPiA3NCkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlfY291bnRlcik7XG4gICAgICAgICAgICAgICAgZXZlcnlfNzVfZnJhbWVzKCk7XG4gICAgICAgICAgICAgICAgaV9jb3VudGVyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpX2NvdW50ZXIrKztcbiAgICAgICAgICAgIGlmIChpaV9jb3VudGVyID4gMTk5KSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaWlfY291bnRlcik7XG4gICAgICAgICAgICAgICAgZXZlcnlfMjAwX2ZyYW1lcygpO1xuICAgICAgICAgICAgICAgIGlpX2NvdW50ZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2ltQm9hcmQudXBkYXRlKGRlbHRhKTtcbiAgICAgICAgICAgIGRlbHRhIC09IHRpbWVzdGVwO1xuICAgICAgICAgICAgaWYgKCsrbnVtVXBkYXRlU3RlcHMgPj0gMTI0KSB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcCgpO1xuICAgICAgICAgICAgICAgIHBhbmljKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2ltQm9hcmQuZHJhdygpO1xuXG5cbiAgICAgICAgbGV0IGcgPSBzaW1Cb2FyZC5nb2xkX29uX2ZpZWxkKCkubGVuZ3RoO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhnKTtcblxuICAgICAgICBpZiAoZyA+IDApIHtcbiAgICAgICAgICAgIGZyYW1lSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFpbkxvb3ApOyBcbiAgICAgICAgfSBlbHNlIHsgXG4gICAgICAgICAgICBzdG9wKCk7IFxuICAgICAgICAgICAgZW5kU2ltKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBldmVyeV8yMDBfZnJhbWVzICgpIHtcbiAgICAgICAgICAgIHNpbUJvYXJkLnR3b1NlY1VwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZXZlcnlfNzVfZnJhbWVzICgpIHtcbiAgICAgICAgICAgIHNpbUJvYXJkLm9uZVNlY1VwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBzdGFydCgpO1xuXG4gICAgZnVuY3Rpb24gZW5kU2ltICgpIHtcbiAgICAgICAgc2ltQm9hcmQuZmxlZXRzLmZvckVhY2goKGYsaSkgPT4ge1xuICAgICAgICAgICAgbGV0IGdvbGQgPSBmLnNfYXJyYXkucmVkdWNlKChhLHMsaSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBhK3MuZ29sZDtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgZGF0YVtpXS5nb2xkICs9IGdvbGQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpKzEsIGYuYmFubmVyLCBnb2xkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNpbUJvYXJkLmNsZWFyKCk7XG4gICAgICAgIGRpc3BsYXlEYXRhKCk7XG4gICAgICAgIGl0ZXItLTtcbiAgICAgICAgaWYgKGl0ZXI+MCkge1xuICAgICAgICAgICAgLy8gdGhlIHBvaW50IG9mIHJlY3Vyc2lvblxuICAgICAgICAgICAgcnVuU2ltKCk7XG4gICAgICAgIH1cbiAgICB9XG59Ly8gZnVuY3Rpb24gcnVuU2ltXG5cbnJ1blNpbSgpO1xuXG5jb25zb2xlLmxvZyhcImNvbXBsZXRlXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=