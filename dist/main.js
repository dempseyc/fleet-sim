!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){var s=i(1);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(3)(s,n);s.locals&&(t.exports=s.locals)},function(t,e,i){(t.exports=i(2)(!1)).push([t.i,".s-white {\n  background: #eeeeee;\n  color: #222222; }\n\n.s-red {\n  background: #cc1111;\n  color: #ff88ff; }\n\n.s-blue {\n  background: #1166bb;\n  color: #22cccc; }\n\n.s-green {\n  background: #008800;\n  color: #cccc44; }\n\n.s-purple {\n  background: #8855ee;\n  color: #008800; }\n\n#board {\n  position: relative;\n  height: 100vh;\n  width: 100vh;\n  background: #222222;\n  overflow: hidden; }\n\n#data-display {\n  position: absolute;\n  right: 5%;\n  top: 5%; }\n\n.ship {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  font-size: 18px;\n  line-height: 14px;\n  font-family: 'Roboto Mono', monospace;\n  text-align: center;\n  clip-path: polygon(0% 100%, 50% 0%, 100% 100%); }\n\n.gold {\n  position: absolute;\n  height: 2px;\n  width: 2px;\n  left: 0;\n  top: 0;\n  background-color: gold;\n  box-shadow: 0 0 5px 1px gold; }\n",""])},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var n=(o=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),r=s.sources.map(function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"});return[i].concat(r).concat([n]).join("\n")}var o;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},n=0;n<this.length;n++){var r=this[n][0];null!=r&&(s[r]=!0)}for(n=0;n<t.length;n++){var o=t[n];null!=o[0]&&s[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(t,e,i){var s,n,r={},o=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=s.apply(this,arguments)),n}),a=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var s=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,i);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}e[t]=s}return e[t]}}(),h=null,l=0,u=[],c=i(4);function f(t,e){for(var i=0;i<t.length;i++){var s=t[i],n=r[s.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](s.parts[o]);for(;o<s.parts.length;o++)n.parts.push(m(s.parts[o],e))}else{var a=[];for(o=0;o<s.parts.length;o++)a.push(m(s.parts[o],e));r[s.id]={id:s.id,refs:1,parts:a}}}}function d(t,e){for(var i=[],s={},n=0;n<t.length;n++){var r=t[n],o=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};s[o]?s[o].parts.push(a):i.push(s[o]={id:o,parts:[a]})}return i}function p(t,e){var i=a(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=u[u.length-1];if("top"===t.insertAt)s?s.nextSibling?i.insertBefore(e,s.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),u.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=a(t.insertAt.before,i);i.insertBefore(e,n)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function w(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var s=function(){0;return i.nc}();s&&(t.attrs.nonce=s)}return b(e,t.attrs),p(t,e),e}function b(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function m(t,e){var i,s,n,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var o=l++;i=h||(h=w(e)),s=_.bind(null,i,o,!1),n=_.bind(null,i,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),p(t,e),e}(e),s=function(t,e,i){var s=i.css,n=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||r)&&(s=c(s));n&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([s],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}.bind(null,i,e),n=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=w(e),s=function(t,e){var i=e.css,s=e.media;s&&t.setAttribute("media",s);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),n=function(){g(i)});return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=d(t,e);return f(i,e),function(t){for(var s=[],n=0;n<i.length;n++){var o=i[n];(a=r[o.id]).refs--,s.push(a)}t&&f(d(t,e),e);for(n=0;n<s.length;n++){var a;if(0===(a=s[n]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete r[a.id]}}}};var v,y=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function _(t,e,i,s){var n=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=y(e,n);else{var r=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,s=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:s+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,i){"use strict";i.r(e);i(0);function s(t,e){return Math.floor(Math.random()*e-t)+t}function n(t){return Math.pow(t,2)}function r(t){let e=t.length;return t.reduce((t,e)=>e+t)/e}class o{constructor(t){this.idx=t,this.x=s(0,1e3),this.y=s(0,1e3),this.held_by="none",this.init()}draw(){this.DOMh.style.left=`${this.x/10}%`,this.DOMh.style.top=`${this.y/10}%`}remove(){this.DOMh.remove()}init(){this.DOMh=document.createElement("div"),this.DOMh.setAttribute("id",`g-${this.idx}`),this.DOMh.classList.add(...["gold"]),this.draw()}}class a{constructor(t,e,i,s,n){this.banner=t,this.style=e,this.insignia=i,this.idx=n,this.shield=s[0],this.weapon=s[1],this.engine=s[2],this.fraction=.05,this.speed=this.engine*this.fraction,this.status=0,this.shieldStatus=s[0],this.gold=0,this.init()}init(){let t=["ship",`s-${this.idx}`,`s-${this.banner}`,`s-${this.style}`];this.DOMh=document.createElement("div"),this.DOMh.classList.add(...t),this.DOMh.textContent=this.insignia,this.getInitialPosition(),this.draw()}move(t){this.x+=this.vx*this.fraction*this.speed*t,this.y+=this.vy*this.fraction*this.speed*t}draw(){this.DOMh.style.left=`${this.x/10}%`,this.DOMh.style.top=`${this.y/10}%`}getInitialPosition(){this.x=s(1,1e3),this.y=s(1,1e3)}resetVector(){let t=this.gt.x-this.x,e=this.gt.y-this.y,i=Math.abs(t),s=Math.abs(e),r=n(t)+n(e);this.vx=t*i/r,this.vy=e*s/r}acquireGold(){this.gold+=1}setGoldTarget(t){let e=2016400;t.forEach((t,i)=>{let s=t.x-this.x,r=t.y-this.y,o=n(s)+n(r);void 0===this.gt&&(this.gt=t,e=o),o<=e&&(this.gt=t,e=o)}),this.resetVector()}setEnemyTarget(t){let e=2e6,i=function(t){return Math.pow(t,2)};t.forEach(t=>{t.s_array.forEach(t=>{let s=this.x-t.x,n=(this.y,t.y,i(s)+i(s));void 0===this.et&&(this.et=t,e=n,this.et_d=e),n<=e&&(this.et=t,e=n,this.et_d=e)})})}attackEnemy(){let t=this.et_d/n(200);s(0,Math.floor(Math.random()*(1-t)*9))>=2&&this.et.getAttacked(this.weapon),this.incrementStunnedTimer()}getAttacked(t){this.shieldStatus-=t,this.shieldStatus<=0&&(this.speed=(this.engine+this.shieldStatus)*this.fraction),this.startStunnedTimer()}startStunnedTimer(){this.status=3}incrementStunnedTimer(){this.status>0&&this.status--,0===this.status&&(this.speed=this.engine*this.fraction,this.shieldStatus=this.shield)}}class h{constructor(t){this.banner=t,this.styles=["standard","swift","transport","gunner","speeder"],this.insignias={standard:"o",swift:"V",transport:"-",gunner:"*",speeder:"w"},this.baselines={sh:20,wp:20,eg:20},this.multipliers={sh:2,wp:2,eg:2},this.features={shields:[{power:this.baselines.sh+0*this.multipliers.sh,owned_by:["gunner"]},{power:this.baselines.sh+1*this.multipliers.sh,owned_by:["swift","speeder"]},{power:this.baselines.sh+2*this.multipliers.sh,owned_by:["standard"]},{power:this.baselines.sh+3*this.multipliers.sh,owned_by:[""]},{power:this.baselines.sh+4*this.multipliers.sh,owned_by:["transport"]}],weapons:[{power:this.baselines.wp+0*this.multipliers.wp,owned_by:["transport"]},{power:this.baselines.wp+1*this.multipliers.wp,owned_by:["speeder"]},{power:this.baselines.wp+2*this.multipliers.wp,owned_by:["standard","swift"]},{power:this.baselines.wp+3*this.multipliers.wp,owned_by:[]},{power:this.baselines.wp+4*this.multipliers.wp,owned_by:["gunner"]}],engines:[{power:this.baselines.eg+0*this.multipliers.eg,owned_by:[]},{power:this.baselines.eg+1*this.multipliers.eg,owned_by:[]},{power:this.baselines.eg+2*this.multipliers.eg,owned_by:["standard","transport","gunner"]},{power:this.baselines.eg+3*this.multipliers.eg,owned_by:["swift"]},{power:this.baselines.eg+4*this.multipliers.eg,owned_by:["speeder"]}]},this.profiles={standard:[this.features.shields[2].power,this.features.weapons[2].power,this.features.engines[2].power],swift:[this.features.shields[1].power,this.features.weapons[2].power,this.features.engines[3].power],transport:[this.features.shields[4].power,this.features.weapons[0].power,this.features.engines[2].power],gunner:[this.features.shields[0].power,this.features.weapons[4].power,this.features.engines[2].power],speeder:[this.features.shields[1].power,this.features.weapons[1].power,this.features.engines[4].power]}}buildShip(t,e,i){let s=this.profiles[e],n=this.insignias[e];return new a(t,e,n,s,i)}adjustMultipliers(){for(let t in this.multipliers)this.multipliers[t]+=1}getMultipliers(){for(let t in this.multipliers)console.log(this.multipliers[t])}}class l{constructor(t,e,i){this.banner=t,this.money=e,this.s_array=[],this.strategy=i,this.sf=new h(this.banner),this.init()}getNumShips(){return this.s_array.length}purchaseShips(){let t=this.strategy.standard,e=0;for(;t>e+1;)this.s_array.push(this.sf.buildShip(this.banner,"standard",e)),e++}init(){console.log("new Fleet",this.banner),this.purchaseShips()}}class u{constructor(){this.num_gold=900,this.money_per_fleet=15e4,this.DOMh=document.getElementById("board"),this.fleets=[new l("red",this.money_per_fleet,{standard:20,swift:0,transport:0,gunner:0,speeder:0}),new l("green",this.money_per_fleet,{standard:20,swift:0,transport:0,gunner:0,speeder:0}),new l("blue",this.money_per_fleet,{standard:20,swift:0,transport:0,gunner:0,speeder:0})],this.gold_pieces=[],this.init()}placeGold(){for(let t=0;t<this.num_gold;t++){let e=new o(t);this.gold_pieces.push(e)}}gold_on_field(){return this.gold_pieces.filter(t=>"none"===t.held_by)}init(){this.placeGold(),this.setTargets(this.fleets),this.fleets.forEach(t=>{t.s_array.forEach(t=>{this.DOMh.appendChild(t.DOMh)})}),this.gold_pieces.forEach(t=>{this.DOMh.appendChild(t.DOMh)})}setTargets(){this.fleets.forEach((t,e)=>{let i=this.fleets.filter((t,i)=>i!==e);t.s_array.forEach(t=>{t.setGoldTarget(this.gold_on_field()),t.setEnemyTarget(i)})})}makeAttacks(){this.fleets.forEach((t,e)=>{t.s_array.forEach(t=>{t.attackEnemy()})})}doHitDetect(){this.fleets.forEach(t=>{t.s_array.forEach(t=>{this.gold_pieces.forEach(e=>{n(e.x-t.x)+n(e.y-t.y)<25&&"none"===e.held_by&&this.removeGold(e,t)})})})}removeGold(t,e){t.held_by=e.profile,e.acquireGold(),this.setTargets(this.fleets),t.remove()}draw(){this.doHitDetect(),this.fleets.forEach(t=>{t.s_array.forEach(t=>{t.draw()})})}update(t){this.fleets.forEach(e=>{e.s_array.forEach(e=>{e.move(t)})})}oneSecUpdate(){this.makeAttacks()}twoSecUpdate(){this.setTargets()}clear(){for(;this.DOMh.firstChild;)this.DOMh.removeChild(this.DOMh.firstChild)}}let c=!0,f=!1,d=1,p=1,g=document.querySelector("#r-score"),w=document.querySelector("#b-score"),b=document.querySelector("#g-score"),m=document.querySelector("#stan-dev"),v=[],y=[{banner:"red",gold:0},{banner:"green",gold:0},{banner:"blue",gold:0}];function _(){g.textContent=`${y[0].gold/d} avg`,b.textContent=`${y[1].gold/d} avg`,w.textContent=`${y[2].gold/d} avg`,m.textContent=function(t){let e=r(t);console.log(e);let i=t.map(t=>n(t-e));return Math.sqrt(r(i))}(v),c=!0}!function t(){c=!1;let e=new u,i=0,s=0,n=0,r=100,o=0,a=10,h=!1,l=!1;let d=0,m=0;function x(s){if(s<n+1e3/r)return void(i=requestAnimationFrame(x));o+=s-n,n=s;let u=0;for(;o>=a;)if(++m>74&&(e.oneSecUpdate(),m=0),++d>199&&(e.twoSecUpdate(),d=0),e.update(o),o-=a,++u>=124){o=0,console.log("panic");break}e.draw(),e.gold_on_field().length>0?i=requestAnimationFrame(x):(h=!1,l=!1,cancelAnimationFrame(i),e.fleets.forEach((t,e)=>{let i=t.s_array.reduce((t,e,i)=>t+e.gold,0);v.push(i),y[e].gold+=i,console.log(e+1,t.banner,i)}),e.clear(),g.textContent=y[0].gold,b.textContent=y[1].gold,w.textContent=y[2].gold,c=!0,--p>0?t():(f=!0,_(),console.log("complete")))}l||(l=!0,i=requestAnimationFrame(function(t){e.draw(),h=!0,n=t,s=t,i=requestAnimationFrame(x)}))}()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLnNjc3M/ZjhmMyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvR29sZFBpZWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9TaGlwLmpzIiwid2VicGFjazovLy8uL3NyYy9TaGlwRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRmxlZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0JvYXJkLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbnRlbnQiLCJvcHRpb25zIiwiaG1yIiwidHJhbnNmb3JtIiwiaW5zZXJ0SW50byIsInVuZGVmaW5lZCIsImxvY2FscyIsInB1c2giLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJpZCIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInRhcmdldCIsInBhcmVudCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsImoiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiRXJyb3IiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJzIiwidHlwZSIsIm5vbmNlIiwibmMiLCJnZXROb25jZSIsImFkZEF0dHJzIiwiZWwiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInVwZGF0ZSIsInJlbW92ZSIsInJlc3VsdCIsImRlZmF1bHQiLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsImxvY2F0aW9uIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsInJlcGxhY2UiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwidHJpbSIsIiQxIiwidGVzdCIsInJhbmRvbU1NIiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic3F1YXJlTnVtIiwicG93IiwiZ2V0TWVhbiIsImFyciIsInJlZHVjZSIsImEiLCJHb2xkUGllY2VfR29sZFBpZWNlIiwiW29iamVjdCBPYmplY3RdIiwieCIsInkiLCJoZWxkX2J5IiwiaW5pdCIsIkRPTWgiLCJsZWZ0IiwidG9wIiwiY2xhc3NMaXN0IiwiYWRkIiwiZHJhdyIsIlNoaXBfU2hpcCIsImJhbm5lciIsImluc2lnbmlhIiwicHJvZmlsZSIsInNoaWVsZCIsIndlYXBvbiIsImVuZ2luZSIsImZyYWN0aW9uIiwic3BlZWQiLCJzdGF0dXMiLCJzaGllbGRTdGF0dXMiLCJnb2xkIiwiY2xhc3NlcyIsInRleHRDb250ZW50IiwiZ2V0SW5pdGlhbFBvc2l0aW9uIiwiZGVsdGEiLCJ2eCIsInZ5IiwibXZ4IiwiZ3QiLCJtdnkiLCJhbXZ4IiwiYWJzIiwiYW12eSIsIm1hZyIsImdvbGRfb25fZmllbGQiLCJndF9kaXN0YW5jZV9zcSIsImlfZyIsInhfZGlzdGFuY2UiLCJ5X2Rpc3RhbmNlIiwiaV9nX2Rpc3RhbmNlX3NxIiwicmVzZXRWZWN0b3IiLCJlbmVtaWVzIiwiZXRfZGlzdGFuY2Vfc3EiLCJmIiwic19hcnJheSIsImlfZSIsImlfZV9kaXN0YW5jZV9zcSIsImV0IiwiZXRfZCIsIm1pc3NfcmF0ZSIsImdldEF0dGFja2VkIiwiaW5jcmVtZW50U3R1bm5lZFRpbWVyIiwiZGFtYWdlIiwic3RhcnRTdHVubmVkVGltZXIiLCJTaGlwRmFjdG9yeV9TaGlwRmFjdG9yeSIsImluc2lnbmlhcyIsInN0YW5kYXJkIiwic3dpZnQiLCJ0cmFuc3BvcnQiLCJndW5uZXIiLCJzcGVlZGVyIiwiYmFzZWxpbmVzIiwic2giLCJ3cCIsImVnIiwibXVsdGlwbGllcnMiLCJmZWF0dXJlcyIsInNoaWVsZHMiLCJwb3dlciIsIm93bmVkX2J5Iiwid2VhcG9ucyIsImVuZ2luZXMiLCJwcm9maWxlcyIsImNvbG9yIiwiY29uc29sZSIsImxvZyIsIkZsZWV0X0ZsZWV0IiwibW9uZXkiLCJzdHJhdGVneSIsInNmIiwibnVtQVYiLCJidWlsZFNoaXAiLCJwdXJjaGFzZVNoaXBzIiwiQm9hcmRfQm9hcmQiLCJudW1fZ29sZCIsIm1vbmV5X3Blcl9mbGVldCIsImdldEVsZW1lbnRCeUlkIiwiZmxlZXRzIiwiZ29sZF9waWVjZXMiLCJncCIsImciLCJwbGFjZUdvbGQiLCJzZXRUYXJnZXRzIiwiZmYiLCJzZXRHb2xkVGFyZ2V0Iiwic2V0RW5lbXlUYXJnZXQiLCJhdHRhY2tFbmVteSIsInJlbW92ZUdvbGQiLCJhY3F1aXJlR29sZCIsImRvSGl0RGV0ZWN0IiwibW92ZSIsIm1ha2VBdHRhY2tzIiwicmVhZHkiLCJkb25lIiwicnVucyIsIml0ZXIiLCJyU2NvcmVET01oIiwiYlNjb3JlRE9NaCIsImdTY29yZURPTWgiLCJzdGFuRGV2RE9NaCIsInNjb3JlcyIsImRhdGEiLCJkaXNwbGF5QXZlcmFnZSIsIm1lYW4iLCJkZXYiLCJzcXJ0Iiwic3RhbkRldiIsInJ1blNpbSIsInNpbUJvYXJkIiwiZnJhbWVJRCIsImxhc3RGcHNVcGRhdGUiLCJsYXN0RnJhbWVUaW1lTXMiLCJtYXhGUFMiLCJ0aW1lc3RlcCIsInJ1bm5pbmciLCJzdGFydGVkIiwiaWlfY291bnRlciIsImlfY291bnRlciIsIm1haW5Mb29wIiwidGltZXN0YW1wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibnVtVXBkYXRlU3RlcHMiLCJvbmVTZWNVcGRhdGUiLCJ0d29TZWNVcGRhdGUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNsZWFyIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFB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LEdBQUEsS0FsQ0EzRyxFQUFBLEVBQ0FrRCxRQUFBQyxJQUFBLFNBb0NBLE1BR0EyQyxFQUFBOUcsT0FHQThHLEVBQUFwRixnQkFBQW5LLE9BR0EsRUFDQXdQLEVBQUFXLHNCQUFBRixJQXRFQUosR0FBQSxFQUNBQyxHQUFBLEVBQ0FTLHFCQUFBZixHQXVGQUQsRUFBQS9CLE9BQUF4SixRQUFBLENBQUE0RyxFQUFBM08sS0FDQSxJQUFBb04sRUFBQXVCLEVBQUFDLFFBQUFqRCxPQUFBLENBQUFDLEVBQUE3SixFQUFBL0IsSUFDQTRMLEVBQUE3SixFQUFBcUwsS0FDYSxHQUNiMEYsRUFBQXZRLEtBQUE2SyxHQUNBMkYsRUFBQS9TLEdBQUFvTixRQUNBc0QsUUFBQUMsSUFBQTNRLEVBQUEsRUFBQTJPLEVBQUFqQyxPQUFBVSxLQUVBa0csRUFBQWlCLFFBbklBN0IsRUFBQXBGLFlBQUF5RixFQUFBLEdBQUEzRixLQUNBd0YsRUFBQXRGLFlBQUF5RixFQUFBLEdBQUEzRixLQUNBdUYsRUFBQXJGLFlBQUF5RixFQUFBLEdBQUEzRixLQUNBa0YsR0FBQSxJQWtJQUcsRUFDQSxFQUVBWSxLQUdBZCxHQUFBLEVBQ0FTLElBQ0F0QyxRQUFBQyxJQUFBLGNBckdBa0QsSUFDQUEsR0FBQSxFQUdBTixFQUFBVyxzQkFBQSxTQUFBRCxHQUNBWCxFQUFBOUcsT0FDQW9ILEdBQUEsRUFFQUgsRUFBQVEsRUFDQVQsRUFBQVMsRUFFQVYsRUFBQVcsc0JBQUFGLE1BK0ZBWCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vc3R5bGUuc2Nzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zdHlsZS5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9zdHlsZS5zY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucy13aGl0ZSB7XFxuICBiYWNrZ3JvdW5kOiAjZWVlZWVlO1xcbiAgY29sb3I6ICMyMjIyMjI7IH1cXG5cXG4ucy1yZWQge1xcbiAgYmFja2dyb3VuZDogI2NjMTExMTtcXG4gIGNvbG9yOiAjZmY4OGZmOyB9XFxuXFxuLnMtYmx1ZSB7XFxuICBiYWNrZ3JvdW5kOiAjMTE2NmJiO1xcbiAgY29sb3I6ICMyMmNjY2M7IH1cXG5cXG4ucy1ncmVlbiB7XFxuICBiYWNrZ3JvdW5kOiAjMDA4ODAwO1xcbiAgY29sb3I6ICNjY2NjNDQ7IH1cXG5cXG4ucy1wdXJwbGUge1xcbiAgYmFja2dyb3VuZDogIzg4NTVlZTtcXG4gIGNvbG9yOiAjMDA4ODAwOyB9XFxuXFxuI2JvYXJkIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGhlaWdodDogMTAwdmg7XFxuICB3aWR0aDogMTAwdmg7XFxuICBiYWNrZ3JvdW5kOiAjMjIyMjIyO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjsgfVxcblxcbiNkYXRhLWRpc3BsYXkge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDUlO1xcbiAgdG9wOiA1JTsgfVxcblxcbi5zaGlwIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdpZHRoOiAxMnB4O1xcbiAgaGVpZ2h0OiAxMnB4O1xcbiAgZm9udC1zaXplOiAxOHB4O1xcbiAgbGluZS1oZWlnaHQ6IDE0cHg7XFxuICBmb250LWZhbWlseTogJ1JvYm90byBNb25vJywgbW9ub3NwYWNlO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgY2xpcC1wYXRoOiBwb2x5Z29uKDAlIDEwMCUsIDUwJSAwJSwgMTAwJSAxMDAlKTsgfVxcblxcbi5nb2xkIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGhlaWdodDogMnB4O1xcbiAgd2lkdGg6IDJweDtcXG4gIGxlZnQ6IDA7XFxuICB0b3A6IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBnb2xkO1xcbiAgYm94LXNoYWRvdzogMCAwIDVweCAxcHggZ29sZDsgfVxcblwiLCBcIlwiXSk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiAnQG1lZGlhICcgKyBpdGVtWzJdICsgJ3snICsgY29udGVudCArICd9JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBtb2R1bGVzW2ldOyAvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG4gICAgICAvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuICAgICAgLy8gd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuICAgICAgLy8gSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXG4gICAgICBpZiAoaXRlbVswXSA9PSBudWxsIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGlmIChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSAnKCcgKyBpdGVtWzJdICsgJykgYW5kICgnICsgbWVkaWFRdWVyeSArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJztcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcbiAgcmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn0iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCwgcGFyZW50KSB7XG4gIGlmIChwYXJlbnQpe1xuICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICB9XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCwgcGFyZW50KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUsIHRhcmdldCk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cblx0aWYob3B0aW9ucy5hdHRycy5ub25jZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcblx0XHRpZiAobm9uY2UpIHtcblx0XHRcdG9wdGlvbnMuYXR0cnMubm9uY2UgPSBub25jZTtcblx0XHR9XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXROb25jZSgpIHtcblx0aWYgKHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBfX3dlYnBhY2tfbm9uY2VfXztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSB0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbidcblx0XHQgPyBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKSBcblx0XHQgOiBvcHRpb25zLnRyYW5zZm9ybS5kZWZhdWx0KG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJleHBvcnQgZnVuY3Rpb24gcmFuZG9tTU0gKG1pbixtYXgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSptYXgtbWluKSttaW47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlTnVtIChuKSB7XG4gIHJldHVybiBNYXRoLnBvdyhuLDIpO1xufTtcblxuZnVuY3Rpb24gZ2V0TWVhbiAoYXJyKSB7XG4gIGxldCBuID0gYXJyLmxlbmd0aDtcbiAgbGV0IHN1bSA9IGFyci5yZWR1Y2UoKGEsYykgPT4gYyArIGEgKTtcbiAgcmV0dXJuIHN1bS9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhbkRldiAoYXJyKSB7XG4gIGxldCBtZWFuID0gZ2V0TWVhbihhcnIpO1xuICBjb25zb2xlLmxvZyhtZWFuKTtcbiAgbGV0IGRldiA9IGFyci5tYXAoKGkpID0+IHNxdWFyZU51bShpLW1lYW4pIClcbiAgbGV0IHNkID0gTWF0aC5zcXJ0KGdldE1lYW4oZGV2KSk7XG4gIHJldHVybiBzZDtcbn0iLCJpbXBvcnQgeyByYW5kb21NTSB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgR29sZFBpZWNlIHtcblx0Y29uc3RydWN0b3IgKGlkeCkge1xuXHRcdHRoaXMuaWR4ID0gaWR4O1xuXHRcdHRoaXMueCA9IHJhbmRvbU1NKDAsMTAwMCk7XG5cdFx0dGhpcy55ID0gcmFuZG9tTU0oMCwxMDAwKTtcblx0XHR0aGlzLmhlbGRfYnkgPSBcIm5vbmVcIjtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdGRyYXcgKCkge1xuXHRcdHRoaXMuRE9NaC5zdHlsZS5sZWZ0ID0gYCR7dGhpcy54LzEwfSVgO1xuXHRcdHRoaXMuRE9NaC5zdHlsZS50b3AgPSBgJHt0aGlzLnkvMTB9JWA7XG5cdH1cblxuXHRyZW1vdmUgKCkge1xuXHRcdHRoaXMuRE9NaC5yZW1vdmUoKTtcblx0fVxuXG5cdGluaXQoKSB7XG5cdFx0bGV0IGNsYXNzZXMgPSBbJ2dvbGQnXTtcblx0XHR0aGlzLkRPTWggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR0aGlzLkRPTWguc2V0QXR0cmlidXRlKFwiaWRcIiwgYGctJHt0aGlzLmlkeH1gKTtcblx0XHR0aGlzLkRPTWguY2xhc3NMaXN0LmFkZCguLi5jbGFzc2VzKTtcblx0XHR0aGlzLmRyYXcoKTtcblx0fVxufSIsImltcG9ydCB7IHJhbmRvbU1NLCBzcXVhcmVOdW0gfSBmcm9tICcuL3V0aWxzLmpzJztcblxuZXhwb3J0IGNsYXNzIFNoaXAge1xuXG5cdGNvbnN0cnVjdG9yIChiYW5uZXIsIHN0eWxlLCBpbnNpZ25pYSwgcHJvZmlsZSwgaWR4KSB7XG5cdFx0dGhpcy5iYW5uZXIgPSBiYW5uZXI7XG5cdFx0dGhpcy5zdHlsZSA9IHN0eWxlO1xuXHRcdHRoaXMuaW5zaWduaWEgPSBpbnNpZ25pYTtcblx0XHR0aGlzLmlkeCA9IGlkeDtcblx0XHR0aGlzLnNoaWVsZCA9IHByb2ZpbGVbMF07XG5cdFx0dGhpcy53ZWFwb24gPSBwcm9maWxlWzFdO1xuXHRcdHRoaXMuZW5naW5lID0gcHJvZmlsZVsyXTtcblx0XHR0aGlzLmZyYWN0aW9uID0gMC4wNTtcblx0XHR0aGlzLnNwZWVkID0gdGhpcy5lbmdpbmUgKiB0aGlzLmZyYWN0aW9uO1xuXHRcdHRoaXMuc3RhdHVzID0gMDtcblx0XHR0aGlzLnNoaWVsZFN0YXR1cyA9IHByb2ZpbGVbMF07XG5cdFx0dGhpcy5nb2xkID0gMDtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdGluaXQgKCkge1xuXHRcdGxldCBjbGFzc2VzID0gWydzaGlwJyxgcy0ke3RoaXMuaWR4fWAsIGBzLSR7dGhpcy5iYW5uZXJ9YCwgYHMtJHt0aGlzLnN0eWxlfWBdO1xuXHRcdHRoaXMuRE9NaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdHRoaXMuRE9NaC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzZXMpO1xuXHRcdHRoaXMuRE9NaC50ZXh0Q29udGVudCA9IHRoaXMuaW5zaWduaWE7XG5cdFx0dGhpcy5nZXRJbml0aWFsUG9zaXRpb24oKTtcblx0XHR0aGlzLmRyYXcoKTtcblx0fVxuXG5cdG1vdmUgKGRlbHRhKSB7XG5cdFx0dGhpcy54ICs9IHRoaXMudnggKiB0aGlzLmZyYWN0aW9uICogdGhpcy5zcGVlZCAqIGRlbHRhO1xuXHRcdHRoaXMueSArPSB0aGlzLnZ5ICogdGhpcy5mcmFjdGlvbiAqIHRoaXMuc3BlZWQgKiBkZWx0YTtcblx0fVxuXG5cdGRyYXcgKCkge1xuXHRcdHRoaXMuRE9NaC5zdHlsZS5sZWZ0ID0gYCR7dGhpcy54LzEwfSVgO1xuXHRcdHRoaXMuRE9NaC5zdHlsZS50b3AgPSBgJHt0aGlzLnkvMTB9JWA7XG5cdH1cblxuXHRnZXRJbml0aWFsUG9zaXRpb24gKCkge1xuXHRcdHRoaXMueCA9IHJhbmRvbU1NKDEsMTAwMCk7XG5cdFx0dGhpcy55ID0gcmFuZG9tTU0oMSwxMDAwKTtcblx0fVxuXG5cdHJlc2V0VmVjdG9yICgpIHtcblx0XHRsZXQgbXZ4ID0gdGhpcy5ndC54IC0gdGhpcy54O1xuXHRcdGxldCBtdnkgPSB0aGlzLmd0LnkgLSB0aGlzLnk7XG5cdFx0bGV0IGFtdnggPSBNYXRoLmFicyhtdngpO1xuXHRcdGxldCBhbXZ5ID0gTWF0aC5hYnMobXZ5KTtcblx0XHRsZXQgbWFnID0gc3F1YXJlTnVtKG12eCkrc3F1YXJlTnVtKG12eSk7XG5cdFx0dGhpcy52eCA9IG12eCphbXZ4IC8gbWFnO1xuXHRcdHRoaXMudnkgPSBtdnkqYW12eSAvIG1hZztcblx0XHQvLyBjb25zb2xlLmxvZyh0aGlzLnZ4LHRoaXMudnkpO1xuXHR9XG5cblx0YWNxdWlyZUdvbGQgKCkge1xuXHRcdHRoaXMuZ29sZCArPSAxO1xuXHRcdC8vIGNvbnNvbGUubG9nKHRoaXMuYXNzZXRzKTtcblx0fVxuXG5cdHNldEdvbGRUYXJnZXQoZ29sZF9vbl9maWVsZCkge1xuXG5cdFx0bGV0IGd0X2Rpc3RhbmNlX3NxID0gMjAxNjQgKiAxMDA7ICAvLyBzaG91bGRuJ3QgbWF0dGVyXG5cblx0XHRnb2xkX29uX2ZpZWxkLmZvckVhY2goKGlfZywgaSkgPT4ge1xuXHRcdFx0bGV0IHhfZGlzdGFuY2UgPSBpX2cueCAtIHRoaXMueDtcblx0XHRcdGxldCB5X2Rpc3RhbmNlID0gaV9nLnkgLSB0aGlzLnk7XG5cdFx0XHRsZXQgaV9nX2Rpc3RhbmNlX3NxID0gc3F1YXJlTnVtKHhfZGlzdGFuY2UpICsgc3F1YXJlTnVtKHlfZGlzdGFuY2UpO1xuXG5cdFx0XHRpZiAodHlwZW9mKHRoaXMuZ3QpID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHR0aGlzLmd0ID0gaV9nO1xuXHRcdFx0XHRndF9kaXN0YW5jZV9zcSA9IGlfZ19kaXN0YW5jZV9zcTtcblx0XHRcdH1cblx0XHRcdGlmIChpX2dfZGlzdGFuY2Vfc3EgPD0gZ3RfZGlzdGFuY2Vfc3EpIHtcblx0XHRcdFx0dGhpcy5ndCA9IGlfZztcblx0XHRcdFx0Z3RfZGlzdGFuY2Vfc3EgPSBpX2dfZGlzdGFuY2Vfc3E7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Ly8gY29uc29sZS5sb2coZ3RfZGlzdGFuY2Vfc3EsIFwiZ3QgZGlzdGFuY2VcIik7XG5cdFx0dGhpcy5yZXNldFZlY3RvcigpO1xuXHR9XG5cblx0c2V0RW5lbXlUYXJnZXQoZW5lbWllcykge1xuXHRcdGxldCBldF9kaXN0YW5jZV9zcSA9IDEwMDAgKiAxMDAwICogMjtcblxuXHRcdGxldCBzcXVhcmVOdW0gPSBmdW5jdGlvbiAobikgeyByZXR1cm4gTWF0aC5wb3cobiwyKTsgfTtcblxuXHRcdGVuZW1pZXMuZm9yRWFjaCgoZikgPT4ge1xuXHRcdFx0Zi5zX2FycmF5LmZvckVhY2goKGlfZSkgPT4ge1xuXHRcdFx0XHRsZXQgeF9kaXN0YW5jZSA9IHRoaXMueCAtIGlfZS54O1xuXHRcdFx0XHRsZXQgeV9kaXN0YW5jZSA9IHRoaXMueSAtIGlfZS55O1xuXHRcdFx0XHRsZXQgaV9lX2Rpc3RhbmNlX3NxID0gc3F1YXJlTnVtKHhfZGlzdGFuY2UpICsgc3F1YXJlTnVtKHhfZGlzdGFuY2UpO1xuXG5cdFx0XHRcdGlmICh0eXBlb2YodGhpcy5ldCkgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdFx0dGhpcy5ldCA9IGlfZTtcblx0XHRcdFx0XHRldF9kaXN0YW5jZV9zcSA9IGlfZV9kaXN0YW5jZV9zcTtcblx0XHRcdFx0XHR0aGlzLmV0X2QgPSBldF9kaXN0YW5jZV9zcTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoaV9lX2Rpc3RhbmNlX3NxIDw9IGV0X2Rpc3RhbmNlX3NxKSB7XG5cdFx0XHRcdFx0dGhpcy5ldCA9IGlfZTtcblx0XHRcdFx0XHRldF9kaXN0YW5jZV9zcSA9IGlfZV9kaXN0YW5jZV9zcTtcblx0XHRcdFx0XHR0aGlzLmV0X2QgPSBldF9kaXN0YW5jZV9zcTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHRhdHRhY2tFbmVteSgpIHtcblx0XHRsZXQgbWF4X2RfYXR0YWNrID0gMjAwO1xuXHRcdGxldCBtaXNzX3JhdGUgPSB0aGlzLmV0X2QgLyBzcXVhcmVOdW0obWF4X2RfYXR0YWNrKSA7XG5cdFx0bGV0IGFjY3VyYWN5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKigxLW1pc3NfcmF0ZSkqOSk7XG5cdFx0bGV0IHJhbiA9IHJhbmRvbU1NKDAsYWNjdXJhY3kpO1xuXHRcdGlmIChyYW4gPj0gMikge1xuXHRcdFx0dGhpcy5ldC5nZXRBdHRhY2tlZCh0aGlzLndlYXBvbik7XG5cdFx0fVxuXHRcdHRoaXMuaW5jcmVtZW50U3R1bm5lZFRpbWVyKCk7XG5cdH1cblxuXHRnZXRBdHRhY2tlZChkYW1hZ2UpIHtcblx0XHQvLyBjb25zb2xlLmxvZyhcImRhbWFnZVwiLCB0aGlzLnNoaWVsZFN0YXR1cyk7XG5cdFx0dGhpcy5zaGllbGRTdGF0dXMgLT0gZGFtYWdlO1xuXHRcdGlmICh0aGlzLnNoaWVsZFN0YXR1czw9MCkge1xuXHRcdFx0dGhpcy5zcGVlZCA9ICh0aGlzLmVuZ2luZSt0aGlzLnNoaWVsZFN0YXR1cykgKiB0aGlzLmZyYWN0aW9uO1xuXHRcdH1cblx0XHR0aGlzLnN0YXJ0U3R1bm5lZFRpbWVyKCk7XG5cdH1cblxuXHRzdGFydFN0dW5uZWRUaW1lciAoKSB7XG5cdFx0Ly8gY29uc29sZS5sb2coXCJnb3Qgc3R1bm5lZFwiLCB0aGlzLnNwZWVkKTtcblx0XHR0aGlzLnN0YXR1cyA9IDM7XG5cdH1cblxuXHRpbmNyZW1lbnRTdHVubmVkVGltZXIgKCkge1xuXHRcdGlmICh0aGlzLnN0YXR1cyA+IDApIHtcblx0XHRcdHRoaXMuc3RhdHVzLS07XG5cdFx0fVxuXHRcdGlmICh0aGlzLnN0YXR1cyA9PT0gMCkge1xuXHRcdFx0dGhpcy5zcGVlZCA9IHRoaXMuZW5naW5lICogdGhpcy5mcmFjdGlvbjtcblx0XHRcdHRoaXMuc2hpZWxkU3RhdHVzID0gdGhpcy5zaGllbGQ7XG5cdFx0fVxuXHR9XG5cbn0iLCJpbXBvcnQgeyByYW5kb21NTSB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgU2hpcCB9IGZyb20gJy4vU2hpcC5qcyc7XG5cbmV4cG9ydCBjbGFzcyBTaGlwRmFjdG9yeSB7XG5cbiAgICBjb25zdHJ1Y3RvciAoYmFubmVyKSB7XG4gICAgICAgIHRoaXMuYmFubmVyID0gYmFubmVyO1xuICAgICAgICB0aGlzLnN0eWxlcyA9IFsnc3RhbmRhcmQnLCdzd2lmdCcsJ3RyYW5zcG9ydCcsJ2d1bm5lcicsJ3NwZWVkZXInXTtcbiAgICAgICAgdGhpcy5pbnNpZ25pYXMgPSB7XG4gICAgICAgICAgICBzdGFuZGFyZDogJ28nLFxuICAgICAgICAgICAgc3dpZnQ6ICdWJyxcbiAgICAgICAgICAgIHRyYW5zcG9ydDogJy0nLFxuICAgICAgICAgICAgZ3VubmVyOiAnKicsXG4gICAgICAgICAgICBzcGVlZGVyOiAndycsXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5iYXNlbGluZXMgPSB7XG4gICAgICAgICAgICBzaDogMjAsXG4gICAgICAgICAgICB3cDogMjAsXG4gICAgICAgICAgICBlZzogMjBcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm11bHRpcGxpZXJzID0gIHtcbiAgICAgICAgICAgIHNoOiAyLFxuICAgICAgICAgICAgd3A6IDIsXG4gICAgICAgICAgICBlZzogMlxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZmVhdHVyZXMgPSB7XG4gICAgICAgICAgICBzaGllbGRzOiBbXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy5zaCsodGhpcy5tdWx0aXBsaWVycy5zaCowKSwgb3duZWRfYnk6IFsnZ3VubmVyJ119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMuc2grKHRoaXMubXVsdGlwbGllcnMuc2gqMSksIG93bmVkX2J5OiBbJ3N3aWZ0Jywnc3BlZWRlciddfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLnNoKyh0aGlzLm11bHRpcGxpZXJzLnNoKjIpLCBvd25lZF9ieTogWydzdGFuZGFyZCddfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLnNoKyh0aGlzLm11bHRpcGxpZXJzLnNoKjMpLCBvd25lZF9ieTogWycnXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy5zaCsodGhpcy5tdWx0aXBsaWVycy5zaCo0KSwgb3duZWRfYnk6IFsndHJhbnNwb3J0J119XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgd2VhcG9uczogW1xuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMud3ArKHRoaXMubXVsdGlwbGllcnMud3AqMCksIG93bmVkX2J5OiBbJ3RyYW5zcG9ydCddfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLndwKyh0aGlzLm11bHRpcGxpZXJzLndwKjEpLCBvd25lZF9ieTogWydzcGVlZGVyJ119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMud3ArKHRoaXMubXVsdGlwbGllcnMud3AqMiksIG93bmVkX2J5OiBbJ3N0YW5kYXJkJywgJ3N3aWZ0J119LFxuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMud3ArKHRoaXMubXVsdGlwbGllcnMud3AqMyksIG93bmVkX2J5OiBbXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy53cCsodGhpcy5tdWx0aXBsaWVycy53cCo0KSwgb3duZWRfYnk6IFsnZ3VubmVyJ119XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZW5naW5lczogW1xuICAgICAgICAgICAgICAgIHtwb3dlcjogdGhpcy5iYXNlbGluZXMuZWcrKHRoaXMubXVsdGlwbGllcnMuZWcqMCksIG93bmVkX2J5OiBbXX0sXG4gICAgICAgICAgICAgICAge3Bvd2VyOiB0aGlzLmJhc2VsaW5lcy5lZysodGhpcy5tdWx0aXBsaWVycy5lZyoxKSwgb3duZWRfYnk6IFtdfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLmVnKyh0aGlzLm11bHRpcGxpZXJzLmVnKjIpLCBvd25lZF9ieTogWydzdGFuZGFyZCcsJ3RyYW5zcG9ydCcsJ2d1bm5lciddfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLmVnKyh0aGlzLm11bHRpcGxpZXJzLmVnKjMpLCBvd25lZF9ieTogWydzd2lmdCddfSxcbiAgICAgICAgICAgICAgICB7cG93ZXI6IHRoaXMuYmFzZWxpbmVzLmVnKyh0aGlzLm11bHRpcGxpZXJzLmVnKjQpLCBvd25lZF9ieTogWydzcGVlZGVyJ119XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gbG9va3VwIHJldmVyc2VkIGZyb20gZmVhdHVyZXNcbiAgICAgICAgdGhpcy5wcm9maWxlcyA9IHtcbiAgICAgICAgICAgIHN0YW5kYXJkOiBbdGhpcy5mZWF0dXJlcy5zaGllbGRzWzJdLnBvd2VyLHRoaXMuZmVhdHVyZXMud2VhcG9uc1syXS5wb3dlcix0aGlzLmZlYXR1cmVzLmVuZ2luZXNbMl0ucG93ZXJdLFxuICAgICAgICAgICAgc3dpZnQ6IFt0aGlzLmZlYXR1cmVzLnNoaWVsZHNbMV0ucG93ZXIsdGhpcy5mZWF0dXJlcy53ZWFwb25zWzJdLnBvd2VyLHRoaXMuZmVhdHVyZXMuZW5naW5lc1szXS5wb3dlcl0sXG4gICAgICAgICAgICB0cmFuc3BvcnQ6IFt0aGlzLmZlYXR1cmVzLnNoaWVsZHNbNF0ucG93ZXIsdGhpcy5mZWF0dXJlcy53ZWFwb25zWzBdLnBvd2VyLHRoaXMuZmVhdHVyZXMuZW5naW5lc1syXS5wb3dlcl0sXG4gICAgICAgICAgICBndW5uZXI6IFt0aGlzLmZlYXR1cmVzLnNoaWVsZHNbMF0ucG93ZXIsdGhpcy5mZWF0dXJlcy53ZWFwb25zWzRdLnBvd2VyLHRoaXMuZmVhdHVyZXMuZW5naW5lc1syXS5wb3dlcl0sXG4gICAgICAgICAgICBzcGVlZGVyOiBbdGhpcy5mZWF0dXJlcy5zaGllbGRzWzFdLnBvd2VyLHRoaXMuZmVhdHVyZXMud2VhcG9uc1sxXS5wb3dlcix0aGlzLmZlYXR1cmVzLmVuZ2luZXNbNF0ucG93ZXJdXG4gICAgICAgIH1cbiAgICB9IC8vIGNvbnN0cnVjdG9yXG5cbiAgICBidWlsZFNoaXAgKGNvbG9yLHN0eWxlLGlkeCkge1xuICAgICAgICBsZXQgcHJvZmlsZSA9IHRoaXMucHJvZmlsZXNbc3R5bGVdO1xuICAgICAgICBsZXQgaW5zaWduaWEgPSB0aGlzLmluc2lnbmlhc1tzdHlsZV07XG4gICAgICAgIHJldHVybiBuZXcgU2hpcChjb2xvcixzdHlsZSxpbnNpZ25pYSxwcm9maWxlLGlkeCk7XG4gICAgfVxuXG4gICAgLy8gYWRqdXN0IG11bHRpcGxpZXJzXG4gICAgYWRqdXN0TXVsdGlwbGllcnMgKCkge1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5tdWx0aXBsaWVycykge1xuICAgICAgICAgICAgdGhpcy5tdWx0aXBsaWVyc1trZXldICs9MTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldE11bHRpcGxpZXJzICgpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMubXVsdGlwbGllcnMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubXVsdGlwbGllcnNba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0iLCJpbXBvcnQgU2hpcCBmcm9tICcuL1NoaXAuanMnO1xuaW1wb3J0IHsgU2hpcEZhY3RvcnkgfSBmcm9tICcuL1NoaXBGYWN0b3J5LmpzJztcblxuZXhwb3J0IGNsYXNzIEZsZWV0IHtcblxuXHRjb25zdHJ1Y3RvciAoYmFubmVyLG1vbmV5LHN0cmF0ZWd5KSB7XG5cdFx0dGhpcy5iYW5uZXIgPSBiYW5uZXI7XG5cdFx0dGhpcy5tb25leSA9IG1vbmV5O1xuXHRcdHRoaXMuc19hcnJheSA9IFtdO1xuXHRcdHRoaXMuc3RyYXRlZ3kgPSBzdHJhdGVneTtcblx0XHR0aGlzLnNmID0gbmV3IFNoaXBGYWN0b3J5KHRoaXMuYmFubmVyKTtcblx0XHR0aGlzLmluaXQoKTtcblx0fVxuXG5cdGdldE51bVNoaXBzICgpIHtcblx0XHRyZXR1cm4gdGhpcy5zX2FycmF5Lmxlbmd0aDtcblx0fVxuXG5cdHB1cmNoYXNlU2hpcHMgKCkge1xuXHRcdC8vdGhpcy5zdHJhdGVneSA9IHtzdGFuZGFyZDoxMDAsc3dpZnQ6MCx0cmFuc3BvcnQ6MCxndW5uZXI6MCxzcGVlZGVyOjB9O1xuXHRcdGxldCBudW1BViA9IHRoaXMuc3RyYXRlZ3kuc3RhbmRhcmQ7XG5cdFx0bGV0IGkgPSAwO1xuXHRcdHdoaWxlIChudW1BVj5pKzEpIHtcblx0XHRcdHRoaXMuc19hcnJheS5wdXNoKHRoaXMuc2YuYnVpbGRTaGlwKHRoaXMuYmFubmVyLCdzdGFuZGFyZCcsaSkpO1xuXHRcdFx0aSsrO1xuXHRcdH1cblx0fVxuXG5cdGluaXQgKCkge1xuXHRcdGNvbnNvbGUubG9nKCduZXcgRmxlZXQnLCB0aGlzLmJhbm5lcik7XG5cdFx0dGhpcy5wdXJjaGFzZVNoaXBzKCk7XG5cdH1cblxufSIsImltcG9ydCB7IHJhbmRvbU1NLCBzcXVhcmVOdW0gfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7R29sZFBpZWNlfSBmcm9tICcuL0dvbGRQaWVjZS5qcyc7XG5pbXBvcnQgeyBGbGVldCB9IGZyb20gJy4vRmxlZXQuanMnO1xuXG5leHBvcnQgY2xhc3MgQm9hcmQge1xuXHRjb25zdHJ1Y3RvciAoKSB7XG5cdFx0dGhpcy5udW1fZ29sZCA9IDkwMDtcblx0XHR0aGlzLm1vbmV5X3Blcl9mbGVldCA9IDE1MDAwMDtcblx0XHR0aGlzLkRPTWggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9hcmQnKTtcblx0XHR0aGlzLmZsZWV0cyA9IFtcblx0XHRcdG5ldyBGbGVldCgncmVkJyx0aGlzLm1vbmV5X3Blcl9mbGVldCx7c3RhbmRhcmQ6MjAsc3dpZnQ6MCx0cmFuc3BvcnQ6MCxndW5uZXI6MCxzcGVlZGVyOjB9KSxcblx0XHRcdG5ldyBGbGVldCgnZ3JlZW4nLHRoaXMubW9uZXlfcGVyX2ZsZWV0LHtzdGFuZGFyZDoyMCxzd2lmdDowLHRyYW5zcG9ydDowLGd1bm5lcjowLHNwZWVkZXI6MH0pLFxuXHRcdFx0bmV3IEZsZWV0KCdibHVlJyx0aGlzLm1vbmV5X3Blcl9mbGVldCx7c3RhbmRhcmQ6MjAsc3dpZnQ6MCx0cmFuc3BvcnQ6MCxndW5uZXI6MCxzcGVlZGVyOjB9KV07XG5cdFx0dGhpcy5nb2xkX3BpZWNlcyA9IFtdO1xuXHRcdHRoaXMuaW5pdCgpO1xuXHR9XG5cblx0cGxhY2VHb2xkICgpIHtcblx0XHRmb3IgKGxldCBpPTA7aTx0aGlzLm51bV9nb2xkO2krKykge1xuXHRcdFx0bGV0IGdwID0gbmV3IEdvbGRQaWVjZShpKTtcblx0XHRcdHRoaXMuZ29sZF9waWVjZXMucHVzaChncCk7XG5cdFx0fVxuXHR9XG5cblx0Z29sZF9vbl9maWVsZCAoKSB7XG5cdFx0bGV0IGdvZiA9IHRoaXMuZ29sZF9waWVjZXMuZmlsdGVyKGcgPT4gZy5oZWxkX2J5PT09XCJub25lXCIpO1xuXHRcdHJldHVybiBnb2Y7XG5cdH1cblxuXHRpbml0KCkge1xuXHRcdHRoaXMucGxhY2VHb2xkKCk7XG5cdFx0dGhpcy5zZXRUYXJnZXRzKHRoaXMuZmxlZXRzKTtcblx0XHR0aGlzLmZsZWV0cy5mb3JFYWNoKChmKSA9PiB7XG5cdFx0XHRmLnNfYXJyYXkuZm9yRWFjaCgocykgPT4ge1xuXHRcdFx0XHR0aGlzLkRPTWguYXBwZW5kQ2hpbGQocy5ET01oKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHRoaXMuZ29sZF9waWVjZXMuZm9yRWFjaCgoZ3ApID0+IHtcblx0XHRcdHRoaXMuRE9NaC5hcHBlbmRDaGlsZChncC5ET01oKTtcblx0XHR9KTtcblx0fVxuXG5cdHNldFRhcmdldHMoKSB7XG5cdFx0dGhpcy5mbGVldHMuZm9yRWFjaCgoZixpZHgpID0+IHtcblx0XHRcdGxldCBlbmVtaWVzID0gdGhpcy5mbGVldHMuZmlsdGVyKCAoZmYsaSkgPT4gaSAhPT0gaWR4KTtcblx0XHRcdGYuc19hcnJheS5mb3JFYWNoKChzKSA9PiB7XG5cdFx0XHRcdHMuc2V0R29sZFRhcmdldCh0aGlzLmdvbGRfb25fZmllbGQoKSk7XG5cdFx0XHRcdHMuc2V0RW5lbXlUYXJnZXQoZW5lbWllcyk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdG1ha2VBdHRhY2tzKCkge1xuXHRcdHRoaXMuZmxlZXRzLmZvckVhY2goKGYsaWR4KSA9PiB7XG5cdFx0XHRmLnNfYXJyYXkuZm9yRWFjaCgocykgPT4ge1xuXHRcdFx0XHRzLmF0dGFja0VuZW15KCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdGRvSGl0RGV0ZWN0ICgpIHtcblx0XHR0aGlzLmZsZWV0cy5mb3JFYWNoKChmKSA9PiB7XG5cdFx0XHRmLnNfYXJyYXkuZm9yRWFjaCgocykgPT4ge1xuXHRcdFx0XHR0aGlzLmdvbGRfcGllY2VzLmZvckVhY2goKGdwKSA9PiB7XG5cdFx0XHRcdGxldCBkaXN0X3NxID0gc3F1YXJlTnVtKGdwLngtcy54KSArIHNxdWFyZU51bShncC55LXMueSk7XG5cdFx0XHRcdGlmICggZGlzdF9zcSA8IDI1ICYmIGdwLmhlbGRfYnk9PT1cIm5vbmVcIiApIHtcblx0XHRcdFx0XHR0aGlzLnJlbW92ZUdvbGQoZ3Ascyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHJlbW92ZUdvbGQgKGdwLHMpIHtcblx0XHRncC5oZWxkX2J5ID0gcy5wcm9maWxlO1xuXHRcdHMuYWNxdWlyZUdvbGQoKTtcblx0XHR0aGlzLnNldFRhcmdldHModGhpcy5mbGVldHMpO1xuXHRcdGdwLnJlbW92ZSgpO1xuXHR9XG5cblx0ZHJhdyAoKSB7XG5cdFx0dGhpcy5kb0hpdERldGVjdCgpO1xuXHRcdHRoaXMuZmxlZXRzLmZvckVhY2goKGYpID0+IHtcblx0XHRcdGYuc19hcnJheS5mb3JFYWNoKChzKSA9PiB7XG5cdFx0XHRzLmRyYXcoKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0dXBkYXRlIChkZWx0YSkge1xuXHRcdHRoaXMuZmxlZXRzLmZvckVhY2goKGYpID0+IHtcblx0XHRcdGYuc19hcnJheS5mb3JFYWNoKChzKSA9PiB7XG5cdFx0XHRcdHMubW92ZShkZWx0YSk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIGhvdyB0byBtYWtlIHRoaXMgbW9yZSBmbHVpZD9cblx0b25lU2VjVXBkYXRlICgpIHtcblx0XHR0aGlzLm1ha2VBdHRhY2tzKCk7XG5cdFx0Ly8gY29uc29sZS5sb2coXCIxc2VjIFVwZGF0ZVwiKTtcblx0fVxuXG5cdHR3b1NlY1VwZGF0ZSAoKSB7XG5cdFx0dGhpcy5zZXRUYXJnZXRzKCk7XG5cdFx0Ly8gY29uc29sZS5sb2coXCIyc2VjIFVwZGF0ZVwiKTtcblx0fVxuXG5cdGNsZWFyICgpIHtcblx0XHR3aGlsZSAodGhpcy5ET01oLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHRoaXMuRE9NaC5yZW1vdmVDaGlsZCh0aGlzLkRPTWguZmlyc3RDaGlsZCk7XG5cdFx0fVxuXHR9XG59IiwiaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuaW1wb3J0IHsgQm9hcmQgfSBmcm9tICcuL0JvYXJkLmpzJztcbmltcG9ydCB7IHN0YW5EZXYsIGdldE1lYW4gfSBmcm9tICcuL3V0aWxzLmpzJztcblxuLy8gcmV2ZW51ZSBvZiBhdmVyYWdlIHNoaXA6IDY2O1xuXG4vLyBydW5TaW0gYW5kIGNvbGxlY3QgRGF0YSBpdGVyIHRpbWVzXG5sZXQgcmVhZHkgPSB0cnVlO1xubGV0IGRvbmUgPSBmYWxzZTtcbmxldCBydW5zID0gMTtcbmxldCBpdGVyID0gMTtcbmxldCByU2NvcmVET01oID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Itc2NvcmUnKTtcbmxldCBiU2NvcmVET01oID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Itc2NvcmUnKTtcbmxldCBnU2NvcmVET01oID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ctc2NvcmUnKTtcbmxldCBzdGFuRGV2RE9NaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdGFuLWRldicpO1xubGV0IHNjb3JlcyA9IFtdO1xuXG5sZXQgZGF0YSA9IFtcbiAgICB7YmFubmVyOiAncmVkJywgZ29sZDogMH0sXG4gICAge2Jhbm5lcjogJ2dyZWVuJywgZ29sZDogMH0sXG4gICAge2Jhbm5lcjogJ2JsdWUnLCBnb2xkOiAwfVxuXTtcblxuZnVuY3Rpb24gZGlzcGxheURhdGEgKCkge1xuICAgIHJTY29yZURPTWgudGV4dENvbnRlbnQgPSBkYXRhWzBdLmdvbGQ7XG4gICAgZ1Njb3JlRE9NaC50ZXh0Q29udGVudCA9IGRhdGFbMV0uZ29sZDtcbiAgICBiU2NvcmVET01oLnRleHRDb250ZW50ID0gZGF0YVsyXS5nb2xkO1xuICAgIHJlYWR5ID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheUF2ZXJhZ2UgKCkge1xuICAgIHJTY29yZURPTWgudGV4dENvbnRlbnQgPSBgJHtkYXRhWzBdLmdvbGQgLyBydW5zfSBhdmdgO1xuICAgIGdTY29yZURPTWgudGV4dENvbnRlbnQgPSBgJHtkYXRhWzFdLmdvbGQgLyBydW5zfSBhdmdgO1xuICAgIGJTY29yZURPTWgudGV4dENvbnRlbnQgPSBgJHtkYXRhWzJdLmdvbGQgLyBydW5zfSBhdmdgO1xuICAgIGRpc3BsYXlTdGFuRGV2KCk7XG4gICAgcmVhZHkgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5U3RhbkRldiAoKSB7XG4gICAgc3RhbkRldkRPTWgudGV4dENvbnRlbnQgPSBzdGFuRGV2KHNjb3Jlcyk7XG59XG5cbmZ1bmN0aW9uIHJ1blNpbSAoKSB7XG4gICAgcmVhZHkgPSBmYWxzZTtcblxuICAgIGxldCBzaW1Cb2FyZCA9IG5ldyBCb2FyZCgpO1xuXG4gICAgbGV0IGZyYW1lSUQgPSAwLFxuICAgICAgICBsYXN0RnBzVXBkYXRlID0gMCxcbiAgICAgICAgbGFzdEZyYW1lVGltZU1zID0gMCxcbiAgICAgICAgbWF4RlBTID0gMTAwLFxuICAgICAgICBkZWx0YSA9IDAsXG4gICAgICAgIHRpbWVzdGVwID0gMTAwMCAvIDEwMDtcblxuICAgIGxldCBydW5uaW5nID0gZmFsc2UsXG4gICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSUQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBpZiAoIXN0YXJ0ZWQpIHsgLy8gZG9uJ3QgcmVxdWVzdCBtdWx0aXBsZSBmcmFtZXNcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gRHVtbXkgZnJhbWUgdG8gZ2V0IG91ciB0aW1lc3RhbXBzIGFuZCBpbml0aWFsIGRyYXdpbmcgcmlnaHQuXG4gICAgICAgICAgICAvLyBUcmFjayB0aGUgZnJhbWUgSUQgc28gd2UgY2FuIGNhbmNlbCBpdCBpZiB3ZSBzdG9wIHF1aWNrbHkuXG4gICAgICAgICAgICBmcmFtZUlEID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIHNpbUJvYXJkLmRyYXcoKTsgLy8gaW5pdGlhbCBzaW1Cb2FyZC5kcmF3XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgc29tZSB0aW1lIHRyYWNraW5nIGxldGFibGVzXG4gICAgICAgICAgICAgICAgbGFzdEZyYW1lVGltZU1zID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgICAgIGxhc3RGcHNVcGRhdGUgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgLy8gYWN0dWFsbHkgc3RhcnQgdGhlIG1haW4gbG9vcFxuICAgICAgICAgICAgICAgIGZyYW1lSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFpbkxvb3ApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYW5pYygpIHtcbiAgICAgICAgZGVsdGEgPSAwO1xuICAgICAgICBjb25zb2xlLmxvZyhcInBhbmljXCIpO1xuICAgIH1cblxuICAgIGxldCBpaV9jb3VudGVyID0gMDtcbiAgICBsZXQgaV9jb3VudGVyID0gMDtcblxuICAgIGZ1bmN0aW9uIG1haW5Mb29wKHRpbWVzdGFtcCkge1xuICAgICAgICAvLyB0aHJvdHRsZSB0aGUgZnJhbWUgcmF0ZSAgXG4gICAgICAgIGlmICh0aW1lc3RhbXAgPCBsYXN0RnJhbWVUaW1lTXMgKyAoMTAwMCAvIG1heEZQUykpIHtcbiAgICAgICAgICAgIGZyYW1lSUQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFpbkxvb3ApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBjcmVhdGUgdmlydHVhbCB0aW1lXG4gICAgICAgIGRlbHRhICs9IHRpbWVzdGFtcCAtIGxhc3RGcmFtZVRpbWVNcztcbiAgICAgICAgbGFzdEZyYW1lVGltZU1zID0gdGltZXN0YW1wO1xuXG4gICAgICAgIGxldCBudW1VcGRhdGVTdGVwcyA9IDA7XG4gICAgICAgIHdoaWxlIChkZWx0YSA+PSB0aW1lc3RlcCkge1xuICAgICAgICAgICAgaV9jb3VudGVyKys7XG4gICAgICAgICAgICBpZiAoaV9jb3VudGVyID4gNzQpIHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhpX2NvdW50ZXIpO1xuICAgICAgICAgICAgICAgIGV2ZXJ5Xzc1X2ZyYW1lcygpO1xuICAgICAgICAgICAgICAgIGlfY291bnRlciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaV9jb3VudGVyKys7XG4gICAgICAgICAgICBpZiAoaWlfY291bnRlciA+IDE5OSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlpX2NvdW50ZXIpO1xuICAgICAgICAgICAgICAgIGV2ZXJ5XzIwMF9mcmFtZXMoKTtcbiAgICAgICAgICAgICAgICBpaV9jb3VudGVyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNpbUJvYXJkLnVwZGF0ZShkZWx0YSk7XG4gICAgICAgICAgICBkZWx0YSAtPSB0aW1lc3RlcDtcbiAgICAgICAgICAgIGlmICgrK251bVVwZGF0ZVN0ZXBzID49IDEyNCkge1xuICAgICAgICAgICAgICAgIC8vIHN0b3AoKTtcbiAgICAgICAgICAgICAgICBwYW5pYygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNpbUJvYXJkLmRyYXcoKTtcblxuXG4gICAgICAgIGxldCBnID0gc2ltQm9hcmQuZ29sZF9vbl9maWVsZCgpLmxlbmd0aDtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZyk7XG5cbiAgICAgICAgaWYgKGcgPiAwKSB7XG4gICAgICAgICAgICBmcmFtZUlEID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1haW5Mb29wKTsgXG4gICAgICAgIH0gZWxzZSB7IFxuICAgICAgICAgICAgc3RvcCgpOyBcbiAgICAgICAgICAgIGVuZFNpbSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZXZlcnlfMjAwX2ZyYW1lcyAoKSB7XG4gICAgICAgICAgICBzaW1Cb2FyZC50d29TZWNVcGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGV2ZXJ5Xzc1X2ZyYW1lcyAoKSB7XG4gICAgICAgICAgICBzaW1Cb2FyZC5vbmVTZWNVcGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgc3RhcnQoKTtcblxuICAgIGZ1bmN0aW9uIGVuZFNpbSAoKSB7XG4gICAgICAgIHNpbUJvYXJkLmZsZWV0cy5mb3JFYWNoKChmLGkpID0+IHtcbiAgICAgICAgICAgIGxldCBnb2xkID0gZi5zX2FycmF5LnJlZHVjZSgoYSxzLGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYStzLmdvbGQ7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIHNjb3Jlcy5wdXNoKGdvbGQpO1xuICAgICAgICAgICAgZGF0YVtpXS5nb2xkICs9IGdvbGQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpKzEsIGYuYmFubmVyLCBnb2xkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNpbUJvYXJkLmNsZWFyKCk7XG4gICAgICAgIGRpc3BsYXlEYXRhKCk7XG4gICAgICAgIGl0ZXItLTtcbiAgICAgICAgaWYgKGl0ZXI+MCkge1xuICAgICAgICAgICAgLy8gdGhlIHBvaW50IG9mIHJlY3Vyc2lvblxuICAgICAgICAgICAgcnVuU2ltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGRpc3BsYXlBdmVyYWdlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbXBsZXRlXCIpO1xuICAgICAgICB9XG4gICAgfVxufS8vIGZ1bmN0aW9uIHJ1blNpbVxuXG5ydW5TaW0oKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=